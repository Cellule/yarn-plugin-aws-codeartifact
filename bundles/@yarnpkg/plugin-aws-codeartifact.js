/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-aws-codeartifact",
factory: function (require) {
"use strict";var plugin=(()=>{var vj=Object.create;var Su=Object.defineProperty;var wj=Object.getOwnPropertyDescriptor;var Sj=Object.getOwnPropertyNames;var bj=Object.getPrototypeOf,Pj=Object.prototype.hasOwnProperty;var q=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var l=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Cj=(e,t)=>{for(var r in t)Su(e,r,{get:t[r],enumerable:!0})},Ow=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Sj(t))!Pj.call(e,s)&&s!==r&&Su(e,s,{get:()=>t[s],enumerable:!(n=wj(t,s))||n.enumerable});return e};var Kn=(e,t,r)=>(r=e!=null?vj(bj(e)):{},Ow(t||!e||!e.__esModule?Su(r,"default",{value:e,enumerable:!0}):r,e)),xj=e=>Ow(Su({},"__esModule",{value:!0}),e);var fS=l((Xi,Ms)=>{var Ij=200,Ww="__lodash_hash_undefined__",Nj=800,qj=16,Kw=9007199254740991,Yw="[object Arguments]",Dj="[object Array]",kj="[object AsyncFunction]",Mj="[object Boolean]",Fj="[object Date]",jj="[object Error]",Qw="[object Function]",Lj="[object GeneratorFunction]",Uj="[object Map]",zj="[object Number]",$j="[object Null]",Xw="[object Object]",Bj="[object Proxy]",Vj="[object RegExp]",Hj="[object Set]",Gj="[object String]",Wj="[object Undefined]",Kj="[object WeakMap]",Yj="[object ArrayBuffer]",Qj="[object DataView]",Xj="[object Float32Array]",Jj="[object Float64Array]",Zj="[object Int8Array]",eL="[object Int16Array]",tL="[object Int32Array]",rL="[object Uint8Array]",nL="[object Uint8ClampedArray]",sL="[object Uint16Array]",oL="[object Uint32Array]",iL=/[\\^$.*+?()[\]{}|]/g,aL=/^\[object .+?Constructor\]$/,cL=/^(?:0|[1-9]\d*)$/,Pe={};Pe[Xj]=Pe[Jj]=Pe[Zj]=Pe[eL]=Pe[tL]=Pe[rL]=Pe[nL]=Pe[sL]=Pe[oL]=!0;Pe[Yw]=Pe[Dj]=Pe[Yj]=Pe[Mj]=Pe[Qj]=Pe[Fj]=Pe[jj]=Pe[Qw]=Pe[Uj]=Pe[zj]=Pe[Xw]=Pe[Vj]=Pe[Hj]=Pe[Gj]=Pe[Kj]=!1;var Jw=typeof global=="object"&&global&&global.Object===Object&&global,dL=typeof self=="object"&&self&&self.Object===Object&&self,ea=Jw||dL||Function("return this")(),Zw=typeof Xi=="object"&&Xi&&!Xi.nodeType&&Xi,Ji=Zw&&typeof Ms=="object"&&Ms&&!Ms.nodeType&&Ms,eS=Ji&&Ji.exports===Zw,Xh=eS&&Jw.process,jw=function(){try{var e=Ji&&Ji.require&&Ji.require("util").types;return e||Xh&&Xh.binding&&Xh.binding("util")}catch{}}(),Lw=jw&&jw.isTypedArray;function tS(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function uL(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function lL(e){return function(t){return e(t)}}function mL(e,t){return e==null?void 0:e[t]}function pL(e,t){return function(r){return e(t(r))}}var fL=Array.prototype,_L=Function.prototype,Ru=Object.prototype,Jh=ea["__core-js_shared__"],Iu=_L.toString,kr=Ru.hasOwnProperty,Uw=function(){var e=/[^.]+$/.exec(Jh&&Jh.keys&&Jh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),rS=Ru.toString,hL=Iu.call(Object),yL=RegExp("^"+Iu.call(kr).replace(iL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Au=eS?ea.Buffer:void 0,zw=ea.Symbol,$w=ea.Uint8Array,Bw=Au?Au.allocUnsafe:void 0,nS=pL(Object.getPrototypeOf,Object),Vw=Object.create,gL=Ru.propertyIsEnumerable,EL=fL.splice,Qn=zw?zw.toStringTag:void 0,Tu=function(){try{var e=oy(Object,"defineProperty");return e({},"",{}),e}catch{}}(),vL=Au?Au.isBuffer:void 0,Hw=Math.max,wL=Date.now,sS=oy(ea,"Map"),Zi=oy(Object,"create"),SL=function(){function e(){}return function(t){if(!Dr(t))return{};if(Vw)return Vw(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function Xn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function bL(){this.__data__=Zi?Zi(null):{},this.size=0}function PL(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function CL(e){var t=this.__data__;if(Zi){var r=t[e];return r===Ww?void 0:r}return kr.call(t,e)?t[e]:void 0}function xL(e){var t=this.__data__;return Zi?t[e]!==void 0:kr.call(t,e)}function OL(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Zi&&t===void 0?Ww:t,this}Xn.prototype.clear=bL;Xn.prototype.delete=PL;Xn.prototype.get=CL;Xn.prototype.has=xL;Xn.prototype.set=OL;function Mr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function AL(){this.__data__=[],this.size=0}function TL(e){var t=this.__data__,r=Nu(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():EL.call(t,r,1),--this.size,!0}function RL(e){var t=this.__data__,r=Nu(t,e);return r<0?void 0:t[r][1]}function IL(e){return Nu(this.__data__,e)>-1}function NL(e,t){var r=this.__data__,n=Nu(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}Mr.prototype.clear=AL;Mr.prototype.delete=TL;Mr.prototype.get=RL;Mr.prototype.has=IL;Mr.prototype.set=NL;function Fs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function qL(){this.size=0,this.__data__={hash:new Xn,map:new(sS||Mr),string:new Xn}}function DL(e){var t=Du(this,e).delete(e);return this.size-=t?1:0,t}function kL(e){return Du(this,e).get(e)}function ML(e){return Du(this,e).has(e)}function FL(e,t){var r=Du(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}Fs.prototype.clear=qL;Fs.prototype.delete=DL;Fs.prototype.get=kL;Fs.prototype.has=ML;Fs.prototype.set=FL;function js(e){var t=this.__data__=new Mr(e);this.size=t.size}function jL(){this.__data__=new Mr,this.size=0}function LL(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function UL(e){return this.__data__.get(e)}function zL(e){return this.__data__.has(e)}function $L(e,t){var r=this.__data__;if(r instanceof Mr){var n=r.__data__;if(!sS||n.length<Ij-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Fs(n)}return r.set(e,t),this.size=r.size,this}js.prototype.clear=jL;js.prototype.delete=LL;js.prototype.get=UL;js.prototype.has=zL;js.prototype.set=$L;function BL(e,t){var r=ry(e),n=!r&&ty(e),s=!r&&!n&&dS(e),o=!r&&!n&&!s&&lS(e),i=r||n||s||o,a=i?uL(e.length,String):[],c=a.length;for(var u in e)(t||kr.call(e,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||aS(u,c)))&&a.push(u);return a}function Zh(e,t,r){(r!==void 0&&!ku(e[t],r)||r===void 0&&!(t in e))&&ny(e,t,r)}function VL(e,t,r){var n=e[t];(!(kr.call(e,t)&&ku(n,r))||r===void 0&&!(t in e))&&ny(e,t,r)}function Nu(e,t){for(var r=e.length;r--;)if(ku(e[r][0],t))return r;return-1}function ny(e,t,r){t=="__proto__"&&Tu?Tu(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var HL=nU();function qu(e){return e==null?e===void 0?Wj:$j:Qn&&Qn in Object(e)?sU(e):uU(e)}function Gw(e){return ta(e)&&qu(e)==Yw}function GL(e){if(!Dr(e)||cU(e))return!1;var t=ay(e)?yL:aL;return t.test(fU(e))}function WL(e){return ta(e)&&uS(e.length)&&!!Pe[qu(e)]}function KL(e){if(!Dr(e))return dU(e);var t=cS(e),r=[];for(var n in e)n=="constructor"&&(t||!kr.call(e,n))||r.push(n);return r}function sy(e,t,r,n,s){e!==t&&HL(t,function(o,i){if(s||(s=new js),Dr(o))YL(e,t,i,r,sy,n,s);else{var a=n?n(ey(e,i),o,i+"",e,t,s):void 0;a===void 0&&(a=o),Zh(e,i,a)}},mS)}function YL(e,t,r,n,s,o,i){var a=ey(e,r),c=ey(t,r),u=i.get(c);if(u){Zh(e,r,u);return}var d=o?o(a,c,r+"",e,t,i):void 0,p=d===void 0;if(p){var h=ry(c),y=!h&&dS(c),w=!h&&!y&&lS(c);d=c,h||y||w?ry(a)?d=a:_U(a)?d=eU(a):y?(p=!1,d=XL(c,!0)):w?(p=!1,d=ZL(c,!0)):d=[]:hU(c)||ty(c)?(d=a,ty(a)?d=yU(a):(!Dr(a)||ay(a))&&(d=oU(c))):p=!1}p&&(i.set(c,d),s(d,c,n,o,i),i.delete(c)),Zh(e,r,d)}function oS(e,t){return mU(lU(e,t,pS),e+"")}var QL=Tu?function(e,t){return Tu(e,"toString",{configurable:!0,enumerable:!1,value:vU(t),writable:!0})}:pS;function XL(e,t){if(t)return e.slice();var r=e.length,n=Bw?Bw(r):new e.constructor(r);return e.copy(n),n}function JL(e){var t=new e.constructor(e.byteLength);return new $w(t).set(new $w(e)),t}function ZL(e,t){var r=t?JL(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function eU(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function tU(e,t,r,n){var s=!r;r||(r={});for(var o=-1,i=t.length;++o<i;){var a=t[o],c=n?n(r[a],e[a],a,r,e):void 0;c===void 0&&(c=e[a]),s?ny(r,a,c):VL(r,a,c)}return r}function rU(e){return oS(function(t,r){var n=-1,s=r.length,o=s>1?r[s-1]:void 0,i=s>2?r[2]:void 0;for(o=e.length>3&&typeof o=="function"?(s--,o):void 0,i&&iU(r[0],r[1],i)&&(o=s<3?void 0:o,s=1),t=Object(t);++n<s;){var a=r[n];a&&e(t,a,n,o)}return t})}function nU(e){return function(t,r,n){for(var s=-1,o=Object(t),i=n(t),a=i.length;a--;){var c=i[e?a:++s];if(r(o[c],c,o)===!1)break}return t}}function iS(e,t,r,n,s,o){return Dr(e)&&Dr(t)&&(o.set(t,e),sy(e,t,void 0,iS,o),o.delete(t)),e}function Du(e,t){var r=e.__data__;return aU(t)?r[typeof t=="string"?"string":"hash"]:r.map}function oy(e,t){var r=mL(e,t);return GL(r)?r:void 0}function sU(e){var t=kr.call(e,Qn),r=e[Qn];try{e[Qn]=void 0;var n=!0}catch{}var s=rS.call(e);return n&&(t?e[Qn]=r:delete e[Qn]),s}function oU(e){return typeof e.constructor=="function"&&!cS(e)?SL(nS(e)):{}}function aS(e,t){var r=typeof e;return t=t==null?Kw:t,!!t&&(r=="number"||r!="symbol"&&cL.test(e))&&e>-1&&e%1==0&&e<t}function iU(e,t,r){if(!Dr(r))return!1;var n=typeof t;return(n=="number"?iy(r)&&aS(t,r.length):n=="string"&&t in r)?ku(r[t],e):!1}function aU(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function cU(e){return!!Uw&&Uw in e}function cS(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ru;return e===r}function dU(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}function uU(e){return rS.call(e)}function lU(e,t,r){return t=Hw(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,o=Hw(n.length-t,0),i=Array(o);++s<o;)i[s]=n[t+s];s=-1;for(var a=Array(t+1);++s<t;)a[s]=n[s];return a[t]=r(i),tS(e,this,a)}}function ey(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var mU=pU(QL);function pU(e){var t=0,r=0;return function(){var n=wL(),s=qj-(n-r);if(r=n,s>0){if(++t>=Nj)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function fU(e){if(e!=null){try{return Iu.call(e)}catch{}try{return e+""}catch{}}return""}function ku(e,t){return e===t||e!==e&&t!==t}var ty=Gw(function(){return arguments}())?Gw:function(e){return ta(e)&&kr.call(e,"callee")&&!gL.call(e,"callee")},ry=Array.isArray;function iy(e){return e!=null&&uS(e.length)&&!ay(e)}function _U(e){return ta(e)&&iy(e)}var dS=vL||wU;function ay(e){if(!Dr(e))return!1;var t=qu(e);return t==Qw||t==Lj||t==kj||t==Bj}function uS(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Kw}function Dr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function ta(e){return e!=null&&typeof e=="object"}function hU(e){if(!ta(e)||qu(e)!=Xw)return!1;var t=nS(e);if(t===null)return!0;var r=kr.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Iu.call(r)==hL}var lS=Lw?lL(Lw):WL;function yU(e){return tU(e,mS(e))}var gU=oS(function(e){return e.push(void 0,iS),tS(EU,void 0,e)});function mS(e){return iy(e)?BL(e,!0):KL(e)}var EU=rU(function(e,t,r,n){sy(e,t,r,n)});function vU(e){return function(){return e}}function pS(e){return e}function wU(){return!1}Ms.exports=gU});var AS=l((Rie,OS)=>{var SU="Expected a function",ES="__lodash_hash_undefined__",vS=1/0,bU="[object Function]",PU="[object GeneratorFunction]",CU="[object Symbol]",xU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,OU=/^\w*$/,AU=/^\./,TU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,RU=/[\\^$.*+?()[\]{}|]/g,IU=/\\(\\)?/g,NU=/^\[object .+?Constructor\]$/,qU=typeof global=="object"&&global&&global.Object===Object&&global,DU=typeof self=="object"&&self&&self.Object===Object&&self,dy=qU||DU||Function("return this")();function kU(e,t){return e==null?void 0:e[t]}function MU(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var FU=Array.prototype,jU=Function.prototype,wS=Object.prototype,cy=dy["__core-js_shared__"],_S=function(){var e=/[^.]+$/.exec(cy&&cy.keys&&cy.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),SS=jU.toString,uy=wS.hasOwnProperty,bS=wS.toString,LU=RegExp("^"+SS.call(uy).replace(RU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hS=dy.Symbol,UU=FU.splice,zU=PS(dy,"Map"),ra=PS(Object,"create"),yS=hS?hS.prototype:void 0,gS=yS?yS.toString:void 0;function Jn(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function $U(){this.__data__=ra?ra(null):{}}function BU(e){return this.has(e)&&delete this.__data__[e]}function VU(e){var t=this.__data__;if(ra){var r=t[e];return r===ES?void 0:r}return uy.call(t,e)?t[e]:void 0}function HU(e){var t=this.__data__;return ra?t[e]!==void 0:uy.call(t,e)}function GU(e,t){var r=this.__data__;return r[e]=ra&&t===void 0?ES:t,this}Jn.prototype.clear=$U;Jn.prototype.delete=BU;Jn.prototype.get=VU;Jn.prototype.has=HU;Jn.prototype.set=GU;function Ls(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function WU(){this.__data__=[]}function KU(e){var t=this.__data__,r=Mu(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():UU.call(t,r,1),!0}function YU(e){var t=this.__data__,r=Mu(t,e);return r<0?void 0:t[r][1]}function QU(e){return Mu(this.__data__,e)>-1}function XU(e,t){var r=this.__data__,n=Mu(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}Ls.prototype.clear=WU;Ls.prototype.delete=KU;Ls.prototype.get=YU;Ls.prototype.has=QU;Ls.prototype.set=XU;function Zn(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function JU(){this.__data__={hash:new Jn,map:new(zU||Ls),string:new Jn}}function ZU(e){return Fu(this,e).delete(e)}function ez(e){return Fu(this,e).get(e)}function tz(e){return Fu(this,e).has(e)}function rz(e,t){return Fu(this,e).set(e,t),this}Zn.prototype.clear=JU;Zn.prototype.delete=ZU;Zn.prototype.get=ez;Zn.prototype.has=tz;Zn.prototype.set=rz;function Mu(e,t){for(var r=e.length;r--;)if(pz(e[r][0],t))return r;return-1}function nz(e,t){t=az(t,e)?[t]:iz(t);for(var r=0,n=t.length;e!=null&&r<n;)e=e[lz(t[r++])];return r&&r==n?e:void 0}function sz(e){if(!xS(e)||dz(e))return!1;var t=fz(e)||MU(e)?LU:NU;return t.test(mz(e))}function oz(e){if(typeof e=="string")return e;if(my(e))return gS?gS.call(e):"";var t=e+"";return t=="0"&&1/e==-vS?"-0":t}function iz(e){return CS(e)?e:uz(e)}function Fu(e,t){var r=e.__data__;return cz(t)?r[typeof t=="string"?"string":"hash"]:r.map}function PS(e,t){var r=kU(e,t);return sz(r)?r:void 0}function az(e,t){if(CS(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||my(e)?!0:OU.test(e)||!xU.test(e)||t!=null&&e in Object(t)}function cz(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function dz(e){return!!_S&&_S in e}var uz=ly(function(e){e=hz(e);var t=[];return AU.test(e)&&t.push(""),e.replace(TU,function(r,n,s,o){t.push(s?o.replace(IU,"$1"):n||r)}),t});function lz(e){if(typeof e=="string"||my(e))return e;var t=e+"";return t=="0"&&1/e==-vS?"-0":t}function mz(e){if(e!=null){try{return SS.call(e)}catch{}try{return e+""}catch{}}return""}function ly(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(SU);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],o=r.cache;if(o.has(s))return o.get(s);var i=e.apply(this,n);return r.cache=o.set(s,i),i};return r.cache=new(ly.Cache||Zn),r}ly.Cache=Zn;function pz(e,t){return e===t||e!==e&&t!==t}var CS=Array.isArray;function fz(e){var t=xS(e)?bS.call(e):"";return t==bU||t==PU}function xS(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function _z(e){return!!e&&typeof e=="object"}function my(e){return typeof e=="symbol"||_z(e)&&bS.call(e)==CU}function hz(e){return e==null?"":oz(e)}function yz(e,t,r){var n=e==null?void 0:nz(e,t);return n===void 0?r:n}OS.exports=yz});var A=l((Mie,$u)=>{var LS,US,zS,$S,BS,VS,HS,GS,WS,KS,YS,QS,XS,Uu,_y,JS,ZS,eb,Us,tb,rb,nb,sb,ob,ib,ab,cb,db,zu,ub,lb;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof $u=="object"&&typeof $u.exports=="object"?e(r(t,r($u.exports))):e(r(t));function r(n,s){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(o,i){return n[o]=s?s(o,i):i}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(s[i]=o[i])};LS=function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");t(s,o);function i(){this.constructor=s}s.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)},US=Object.assign||function(s){for(var o,i=1,a=arguments.length;i<a;i++){o=arguments[i];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(s[c]=o[c])}return s},zS=function(s,o){var i={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&o.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(s);c<a.length;c++)o.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(s,a[c])&&(i[a[c]]=s[a[c]]);return i},$S=function(s,o,i,a){var c=arguments.length,u=c<3?o:a===null?a=Object.getOwnPropertyDescriptor(o,i):a,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(s,o,i,a);else for(var p=s.length-1;p>=0;p--)(d=s[p])&&(u=(c<3?d(u):c>3?d(o,i,u):d(o,i))||u);return c>3&&u&&Object.defineProperty(o,i,u),u},BS=function(s,o){return function(i,a){o(i,a,s)}},VS=function(s,o,i,a,c,u){function d(he){if(he!==void 0&&typeof he!="function")throw new TypeError("Function expected");return he}for(var p=a.kind,h=p==="getter"?"get":p==="setter"?"set":"value",y=!o&&s?a.static?s:s.prototype:null,w=o||(y?Object.getOwnPropertyDescriptor(y,a.name):{}),b,_=!1,L=i.length-1;L>=0;L--){var V={};for(var pe in a)V[pe]=pe==="access"?{}:a[pe];for(var pe in a.access)V.access[pe]=a.access[pe];V.addInitializer=function(he){if(_)throw new TypeError("Cannot add initializers after decoration has completed");u.push(d(he||null))};var tt=(0,i[L])(p==="accessor"?{get:w.get,set:w.set}:w[h],V);if(p==="accessor"){if(tt===void 0)continue;if(tt===null||typeof tt!="object")throw new TypeError("Object expected");(b=d(tt.get))&&(w.get=b),(b=d(tt.set))&&(w.set=b),(b=d(tt.init))&&c.unshift(b)}else(b=d(tt))&&(p==="field"?c.unshift(b):w[h]=b)}y&&Object.defineProperty(y,a.name,w),_=!0},HS=function(s,o,i){for(var a=arguments.length>2,c=0;c<o.length;c++)i=a?o[c].call(s,i):o[c].call(s);return a?i:void 0},GS=function(s){return typeof s=="symbol"?s:"".concat(s)},WS=function(s,o,i){return typeof o=="symbol"&&(o=o.description?"[".concat(o.description,"]"):""),Object.defineProperty(s,"name",{configurable:!0,value:i?"".concat(i," ",o):o})},KS=function(s,o){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(s,o)},YS=function(s,o,i,a){function c(u){return u instanceof i?u:new i(function(d){d(u)})}return new(i||(i=Promise))(function(u,d){function p(w){try{y(a.next(w))}catch(b){d(b)}}function h(w){try{y(a.throw(w))}catch(b){d(b)}}function y(w){w.done?u(w.value):c(w.value).then(p,h)}y((a=a.apply(s,o||[])).next())})},QS=function(s,o){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},a,c,u,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(y){return function(w){return h([y,w])}}function h(y){if(a)throw new TypeError("Generator is already executing.");for(;d&&(d=0,y[0]&&(i=0)),i;)try{if(a=1,c&&(u=y[0]&2?c.return:y[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,y[1])).done)return u;switch(c=0,u&&(y=[y[0]&2,u.value]),y[0]){case 0:case 1:u=y;break;case 4:return i.label++,{value:y[1],done:!1};case 5:i.label++,c=y[1],y=[0];continue;case 7:y=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(y[0]===6||y[0]===2)){i=0;continue}if(y[0]===3&&(!u||y[1]>u[0]&&y[1]<u[3])){i.label=y[1];break}if(y[0]===6&&i.label<u[1]){i.label=u[1],u=y;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(y);break}u[2]&&i.ops.pop(),i.trys.pop();continue}y=o.call(s,i)}catch(w){y=[6,w],c=0}finally{a=u=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},XS=function(s,o){for(var i in s)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&zu(o,s,i)},zu=Object.create?function(s,o,i,a){a===void 0&&(a=i);var c=Object.getOwnPropertyDescriptor(o,i);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(s,a,c)}:function(s,o,i,a){a===void 0&&(a=i),s[a]=o[i]},Uu=function(s){var o=typeof Symbol=="function"&&Symbol.iterator,i=o&&s[o],a=0;if(i)return i.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&a>=s.length&&(s=void 0),{value:s&&s[a++],done:!s}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},_y=function(s,o){var i=typeof Symbol=="function"&&s[Symbol.iterator];if(!i)return s;var a=i.call(s),c,u=[],d;try{for(;(o===void 0||o-- >0)&&!(c=a.next()).done;)u.push(c.value)}catch(p){d={error:p}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(d)throw d.error}}return u},JS=function(){for(var s=[],o=0;o<arguments.length;o++)s=s.concat(_y(arguments[o]));return s},ZS=function(){for(var s=0,o=0,i=arguments.length;o<i;o++)s+=arguments[o].length;for(var a=Array(s),c=0,o=0;o<i;o++)for(var u=arguments[o],d=0,p=u.length;d<p;d++,c++)a[c]=u[d];return a},eb=function(s,o,i){if(i||arguments.length===2)for(var a=0,c=o.length,u;a<c;a++)(u||!(a in o))&&(u||(u=Array.prototype.slice.call(o,0,a)),u[a]=o[a]);return s.concat(u||Array.prototype.slice.call(o))},Us=function(s){return this instanceof Us?(this.v=s,this):new Us(s)},tb=function(s,o,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(s,o||[]),c,u=[];return c={},d("next"),d("throw"),d("return"),c[Symbol.asyncIterator]=function(){return this},c;function d(_){a[_]&&(c[_]=function(L){return new Promise(function(V,pe){u.push([_,L,V,pe])>1||p(_,L)})})}function p(_,L){try{h(a[_](L))}catch(V){b(u[0][3],V)}}function h(_){_.value instanceof Us?Promise.resolve(_.value.v).then(y,w):b(u[0][2],_)}function y(_){p("next",_)}function w(_){p("throw",_)}function b(_,L){_(L),u.shift(),u.length&&p(u[0][0],u[0][1])}},rb=function(s){var o,i;return o={},a("next"),a("throw",function(c){throw c}),a("return"),o[Symbol.iterator]=function(){return this},o;function a(c,u){o[c]=s[c]?function(d){return(i=!i)?{value:Us(s[c](d)),done:!1}:u?u(d):d}:u}},nb=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s[Symbol.asyncIterator],i;return o?o.call(s):(s=typeof Uu=="function"?Uu(s):s[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(u){i[u]=s[u]&&function(d){return new Promise(function(p,h){d=s[u](d),c(p,h,d.done,d.value)})}}function c(u,d,p,h){Promise.resolve(h).then(function(y){u({value:y,done:p})},d)}},sb=function(s,o){return Object.defineProperty?Object.defineProperty(s,"raw",{value:o}):s.raw=o,s};var r=Object.create?function(s,o){Object.defineProperty(s,"default",{enumerable:!0,value:o})}:function(s,o){s.default=o};ob=function(s){if(s&&s.__esModule)return s;var o={};if(s!=null)for(var i in s)i!=="default"&&Object.prototype.hasOwnProperty.call(s,i)&&zu(o,s,i);return r(o,s),o},ib=function(s){return s&&s.__esModule?s:{default:s}},ab=function(s,o,i,a){if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?s!==o||!a:!o.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?a:i==="a"?a.call(s):a?a.value:o.get(s)},cb=function(s,o,i,a,c){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?s!==o||!c:!o.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?c.call(s,i):c?c.value=i:o.set(s,i),i},db=function(s,o){if(o===null||typeof o!="object"&&typeof o!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof s=="function"?o===s:s.has(o)},ub=function(s,o,i){if(o!=null){if(typeof o!="object")throw new TypeError("Object expected.");var a;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=o[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=o[Symbol.dispose]}if(typeof a!="function")throw new TypeError("Object not disposable.");s.stack.push({value:o,dispose:a,async:i})}else i&&s.stack.push({async:!0});return o};var n=typeof SuppressedError=="function"?SuppressedError:function(s,o,i){var a=new Error(i);return a.name="SuppressedError",a.error=s,a.suppressed=o,a};lb=function(s){function o(a){s.error=s.hasError?new n(a,s.error,"An error was suppressed during disposal."):a,s.hasError=!0}function i(){for(;s.stack.length;){var a=s.stack.pop();try{var c=a.dispose&&a.dispose.call(a.value);if(a.async)return Promise.resolve(c).then(i,function(u){return o(u),i()})}catch(u){o(u)}}if(s.hasError)throw s.error}return i()},e("__extends",LS),e("__assign",US),e("__rest",zS),e("__decorate",$S),e("__param",BS),e("__esDecorate",VS),e("__runInitializers",HS),e("__propKey",GS),e("__setFunctionName",WS),e("__metadata",KS),e("__awaiter",YS),e("__generator",QS),e("__exportStar",XS),e("__createBinding",zu),e("__values",Uu),e("__read",_y),e("__spread",JS),e("__spreadArrays",ZS),e("__spreadArray",eb),e("__await",Us),e("__asyncGenerator",tb),e("__asyncDelegator",rb),e("__asyncValues",nb),e("__makeTemplateObject",sb),e("__importStar",ob),e("__importDefault",ib),e("__classPrivateFieldGet",ab),e("__classPrivateFieldSet",cb),e("__classPrivateFieldIn",db),e("__addDisposableResource",ub),e("__disposeResources",lb)})});var pb=l(mb=>{"use strict";Object.defineProperty(mb,"__esModule",{value:!0})});var fb=l(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.HttpAuthLocation=void 0;var Sz;(function(e){e.HEADER="header",e.QUERY="query"})(Sz=na.HttpAuthLocation||(na.HttpAuthLocation={}))});var hb=l(_b=>{"use strict";Object.defineProperty(_b,"__esModule",{value:!0})});var gb=l(yb=>{"use strict";Object.defineProperty(yb,"__esModule",{value:!0})});var vb=l(Eb=>{"use strict";Object.defineProperty(Eb,"__esModule",{value:!0})});var Sb=l(wb=>{"use strict";Object.defineProperty(wb,"__esModule",{value:!0})});var Pb=l(bb=>{"use strict";Object.defineProperty(bb,"__esModule",{value:!0})});var xb=l(Cb=>{"use strict";Object.defineProperty(Cb,"__esModule",{value:!0})});var Ob=l(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});var hy=A();hy.__exportStar(Sb(),sa);hy.__exportStar(Pb(),sa);hy.__exportStar(xb(),sa)});var Tb=l(Ab=>{"use strict";Object.defineProperty(Ab,"__esModule",{value:!0})});var Ib=l(Rb=>{"use strict";Object.defineProperty(Rb,"__esModule",{value:!0})});var Nb=l(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.EndpointURLScheme=void 0;var bz;(function(e){e.HTTP="http",e.HTTPS="https"})(bz=oa.EndpointURLScheme||(oa.EndpointURLScheme={}))});var Db=l(qb=>{"use strict";Object.defineProperty(qb,"__esModule",{value:!0})});var Mb=l(kb=>{"use strict";Object.defineProperty(kb,"__esModule",{value:!0})});var jb=l(Fb=>{"use strict";Object.defineProperty(Fb,"__esModule",{value:!0})});var Ub=l(Lb=>{"use strict";Object.defineProperty(Lb,"__esModule",{value:!0})});var $b=l(zb=>{"use strict";Object.defineProperty(zb,"__esModule",{value:!0})});var Bb=l(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});var ia=A();ia.__exportStar(Db(),ts);ia.__exportStar(Mb(),ts);ia.__exportStar(jb(),ts);ia.__exportStar(Ub(),ts);ia.__exportStar($b(),ts)});var Hb=l(Vb=>{"use strict";Object.defineProperty(Vb,"__esModule",{value:!0})});var Gb=l(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.FieldPosition=void 0;var Pz;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Pz=aa.FieldPosition||(aa.FieldPosition={}))});var Kb=l(Wb=>{"use strict";Object.defineProperty(Wb,"__esModule",{value:!0})});var Qb=l(Yb=>{"use strict";Object.defineProperty(Yb,"__esModule",{value:!0})});var Jb=l(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});var Xb=A();Xb.__exportStar(Kb(),Bu);Xb.__exportStar(Qb(),Bu)});var eP=l(Zb=>{"use strict";Object.defineProperty(Zb,"__esModule",{value:!0})});var rP=l(tP=>{"use strict";Object.defineProperty(tP,"__esModule",{value:!0})});var sP=l(nP=>{"use strict";Object.defineProperty(nP,"__esModule",{value:!0})});var iP=l(oP=>{"use strict";Object.defineProperty(oP,"__esModule",{value:!0})});var cP=l(aP=>{"use strict";Object.defineProperty(aP,"__esModule",{value:!0})});var uP=l(dP=>{"use strict";Object.defineProperty(dP,"__esModule",{value:!0})});var mP=l(lP=>{"use strict";Object.defineProperty(lP,"__esModule",{value:!0})});var fP=l(pP=>{"use strict";Object.defineProperty(pP,"__esModule",{value:!0})});var hP=l(_P=>{"use strict";Object.defineProperty(_P,"__esModule",{value:!0})});var gP=l(yP=>{"use strict";Object.defineProperty(yP,"__esModule",{value:!0})});var EP=l(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.RequestHandlerProtocol=void 0;var Cz;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Cz=ca.RequestHandlerProtocol||(ca.RequestHandlerProtocol={}))});var wP=l(vP=>{"use strict";Object.defineProperty(vP,"__esModule",{value:!0})});var bP=l(SP=>{"use strict";Object.defineProperty(SP,"__esModule",{value:!0})});var CP=l(PP=>{"use strict";Object.defineProperty(PP,"__esModule",{value:!0})});var xP=l(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});var ye=A();ye.__exportStar(pb(),fe);ye.__exportStar(fb(),fe);ye.__exportStar(hb(),fe);ye.__exportStar(gb(),fe);ye.__exportStar(vb(),fe);ye.__exportStar(Ob(),fe);ye.__exportStar(Tb(),fe);ye.__exportStar(Ib(),fe);ye.__exportStar(Nb(),fe);ye.__exportStar(Bb(),fe);ye.__exportStar(Hb(),fe);ye.__exportStar(Gb(),fe);ye.__exportStar(Jb(),fe);ye.__exportStar(eP(),fe);ye.__exportStar(rP(),fe);ye.__exportStar(sP(),fe);ye.__exportStar(iP(),fe);ye.__exportStar(cP(),fe);ye.__exportStar(uP(),fe);ye.__exportStar(mP(),fe);ye.__exportStar(fP(),fe);ye.__exportStar(hP(),fe);ye.__exportStar(gP(),fe);ye.__exportStar(EP(),fe);ye.__exportStar(wP(),fe);ye.__exportStar(bP(),fe);ye.__exportStar(CP(),fe)});var OP=l(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.Field=void 0;var xz=xP(),yy=class{constructor({name:t,kind:r=xz.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}};Vu.Field=yy});var AP=l(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.Fields=void 0;var gy=class{constructor({fields:t=[],encoding:r="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}};Hu.Fields=gy});var RP=l(TP=>{"use strict";Object.defineProperty(TP,"__esModule",{value:!0})});var IP=l(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.HttpRequest=void 0;var da=class{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new da({...this,headers:{...this.headers}});return t.query&&(t.query=Oz(t.query)),t}};Gu.HttpRequest=da;function Oz(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}});var NP=l(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.HttpResponse=void 0;var Ey=class{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};Wu.HttpResponse=Ey});var qP=l(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.isValidHostname=void 0;function Az(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Ku.isValidHostname=Az});var kP=l(DP=>{"use strict";Object.defineProperty(DP,"__esModule",{value:!0})});var nt=l(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});var rs=A();rs.__exportStar(OP(),Fr);rs.__exportStar(AP(),Fr);rs.__exportStar(RP(),Fr);rs.__exportStar(IP(),Fr);rs.__exportStar(NP(),Fr);rs.__exportStar(qP(),Fr);rs.__exportStar(kP(),Fr)});var ua=l(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.getHostHeaderPlugin=Ot.hostHeaderMiddlewareOptions=Ot.hostHeaderMiddleware=Ot.resolveHostHeaderConfig=void 0;var Tz=nt();function Rz(e){return e}Ot.resolveHostHeaderConfig=Rz;var Iz=e=>t=>async r=>{if(!Tz.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]="";else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return t(r)};Ot.hostHeaderMiddleware=Iz;Ot.hostHeaderMiddlewareOptions={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0};var Nz=e=>({applyToStack:t=>{t.add((0,Ot.hostHeaderMiddleware)(e),Ot.hostHeaderMiddlewareOptions)}});Ot.getHostHeaderPlugin=Nz});var MP=l(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.getLoggerPlugin=Jt.loggerMiddlewareOptions=Jt.loggerMiddleware=void 0;var qz=()=>(e,t)=>async r=>{var n,s;try{let o=await e(r),{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:u={}}=t,{overrideInputFilterSensitiveLog:d,overrideOutputFilterSensitiveLog:p}=u,h=d!=null?d:t.inputFilterSensitiveLog,y=p!=null?p:t.outputFilterSensitiveLog,{$metadata:w,...b}=o.output;return(n=c==null?void 0:c.info)===null||n===void 0||n.call(c,{clientName:i,commandName:a,input:h(r.input),output:y(b),metadata:w}),o}catch(o){let{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:u={}}=t,{overrideInputFilterSensitiveLog:d}=u,p=d!=null?d:t.inputFilterSensitiveLog;throw(s=c==null?void 0:c.error)===null||s===void 0||s.call(c,{clientName:i,commandName:a,input:p(r.input),error:o,metadata:o.$metadata}),o}};Jt.loggerMiddleware=qz;Jt.loggerMiddlewareOptions={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0};var Dz=e=>({applyToStack:t=>{t.add((0,Jt.loggerMiddleware)(),Jt.loggerMiddlewareOptions)}});Jt.getLoggerPlugin=Dz});var la=l(vy=>{"use strict";Object.defineProperty(vy,"__esModule",{value:!0});var kz=A();kz.__exportStar(MP(),vy)});var ma=l(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.getRecursionDetectionPlugin=Zt.addRecursionDetectionMiddlewareOptions=Zt.recursionDetectionMiddleware=void 0;var Mz=nt(),FP="X-Amzn-Trace-Id",Fz="AWS_LAMBDA_FUNCTION_NAME",jz="_X_AMZN_TRACE_ID",Lz=e=>t=>async r=>{let{request:n}=r;if(!Mz.HttpRequest.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(FP))return t(r);let s=process.env[Fz],o=process.env[jz],i=a=>typeof a=="string"&&a.length>0;return i(s)&&i(o)&&(n.headers[FP]=o),t({...r,request:n})};Zt.recursionDetectionMiddleware=Lz;Zt.addRecursionDetectionMiddlewareOptions={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};var Uz=e=>({applyToStack:t=>{t.add((0,Zt.recursionDetectionMiddleware)(e),Zt.addRecursionDetectionMiddlewareOptions)}});Zt.getRecursionDetectionPlugin=Uz});var fa=l(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.ProviderError=void 0;var pa=class extends Error{constructor(t,r=!0){super(t),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,pa.prototype)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};Yu.ProviderError=pa});var jP=l(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.CredentialsProviderError=void 0;var zz=fa(),_a=class extends zz.ProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,_a.prototype)}};Qu.CredentialsProviderError=_a});var LP=l(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.TokenProviderError=void 0;var $z=fa(),ha=class extends $z.ProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,ha.prototype)}};Xu.TokenProviderError=ha});var UP=l(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.chain=void 0;var Bz=fa();function Vz(...e){return()=>{let t=Promise.reject(new Bz.ProviderError("No providers in chain"));for(let r of e)t=t.catch(n=>{if(n!=null&&n.tryNextLink)return r();throw n});return t}}Ju.chain=Vz});var zP=l(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.fromStatic=void 0;var Hz=e=>()=>Promise.resolve(e);Zu.fromStatic=Hz});var $P=l(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.memoize=void 0;var Gz=(e,t,r)=>{let n,s,o,i=!1,a=async()=>{s||(s=e());try{n=await s,o=!0,i=!1}finally{s=void 0}return n};return t===void 0?async c=>((!o||(c==null?void 0:c.forceRefresh))&&(n=await a()),n):async c=>((!o||(c==null?void 0:c.forceRefresh))&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};el.memoize=Gz});var ge=l(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});var zs=A();zs.__exportStar(jP(),ln);zs.__exportStar(fa(),ln);zs.__exportStar(LP(),ln);zs.__exportStar(UP(),ln);zs.__exportStar(zP(),ln);zs.__exportStar($P(),ln)});var Sy=l((Uae,rl)=>{var BP,VP,HP,GP,WP,KP,YP,QP,XP,tl,wy,JP,ZP,$s,eC,tC,rC,nC,sC,oC,iC,aC,cC;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof rl=="object"&&typeof rl.exports=="object"?e(r(t,r(rl.exports))):e(r(t));function r(n,s){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(o,i){return n[o]=s?s(o,i):i}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])};BP=function(r,n){t(r,n);function s(){this.constructor=r}r.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)},VP=Object.assign||function(r){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},HP=function(r,n){var s={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&n.indexOf(o)<0&&(s[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(r);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(r,o[i])&&(s[o[i]]=r[o[i]]);return s},GP=function(r,n,s,o){var i=arguments.length,a=i<3?n:o===null?o=Object.getOwnPropertyDescriptor(n,s):o,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(r,n,s,o);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(a=(i<3?c(a):i>3?c(n,s,a):c(n,s))||a);return i>3&&a&&Object.defineProperty(n,s,a),a},WP=function(r,n){return function(s,o){n(s,o,r)}},KP=function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},YP=function(r,n,s,o){function i(a){return a instanceof s?a:new s(function(c){c(a)})}return new(s||(s=Promise))(function(a,c){function u(h){try{p(o.next(h))}catch(y){c(y)}}function d(h){try{p(o.throw(h))}catch(y){c(y)}}function p(h){h.done?a(h.value):i(h.value).then(u,d)}p((o=o.apply(r,n||[])).next())})},QP=function(r,n){var s={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(p){return function(h){return d([p,h])}}function d(p){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return s.label++,{value:p[1],done:!1};case 5:s.label++,i=p[1],p=[0];continue;case 7:p=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){s=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){s.label=p[1];break}if(p[0]===6&&s.label<a[1]){s.label=a[1],a=p;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(p);break}a[2]&&s.ops.pop(),s.trys.pop();continue}p=n.call(r,s)}catch(h){p=[6,h],i=0}finally{o=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},cC=function(r,n,s,o){o===void 0&&(o=s),r[o]=n[s]},XP=function(r,n){for(var s in r)s!=="default"&&!n.hasOwnProperty(s)&&(n[s]=r[s])},tl=function(r){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&r[n],o=0;if(s)return s.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},wy=function(r,n){var s=typeof Symbol=="function"&&r[Symbol.iterator];if(!s)return r;var o=s.call(r),i,a=[],c;try{for(;(n===void 0||n-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(u){c={error:u}}finally{try{i&&!i.done&&(s=o.return)&&s.call(o)}finally{if(c)throw c.error}}return a},JP=function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(wy(arguments[n]));return r},ZP=function(){for(var r=0,n=0,s=arguments.length;n<s;n++)r+=arguments[n].length;for(var o=Array(r),i=0,n=0;n<s;n++)for(var a=arguments[n],c=0,u=a.length;c<u;c++,i++)o[i]=a[c];return o},$s=function(r){return this instanceof $s?(this.v=r,this):new $s(r)},eC=function(r,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s.apply(r,n||[]),i,a=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(w){o[w]&&(i[w]=function(b){return new Promise(function(_,L){a.push([w,b,_,L])>1||u(w,b)})})}function u(w,b){try{d(o[w](b))}catch(_){y(a[0][3],_)}}function d(w){w.value instanceof $s?Promise.resolve(w.value.v).then(p,h):y(a[0][2],w)}function p(w){u("next",w)}function h(w){u("throw",w)}function y(w,b){w(b),a.shift(),a.length&&u(a[0][0],a[0][1])}},tC=function(r){var n,s;return n={},o("next"),o("throw",function(i){throw i}),o("return"),n[Symbol.iterator]=function(){return this},n;function o(i,a){n[i]=r[i]?function(c){return(s=!s)?{value:$s(r[i](c)),done:i==="return"}:a?a(c):c}:a}},rC=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],s;return n?n.call(r):(r=typeof tl=="function"?tl(r):r[Symbol.iterator](),s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s);function o(a){s[a]=r[a]&&function(c){return new Promise(function(u,d){c=r[a](c),i(u,d,c.done,c.value)})}}function i(a,c,u,d){Promise.resolve(d).then(function(p){a({value:p,done:u})},c)}},nC=function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},sC=function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var s in r)Object.hasOwnProperty.call(r,s)&&(n[s]=r[s]);return n.default=r,n},oC=function(r){return r&&r.__esModule?r:{default:r}},iC=function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},aC=function(r,n,s){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,s),s},e("__extends",BP),e("__assign",VP),e("__rest",HP),e("__decorate",GP),e("__param",WP),e("__metadata",KP),e("__awaiter",YP),e("__generator",QP),e("__exportStar",XP),e("__createBinding",cC),e("__values",tl),e("__read",wy),e("__spread",JP),e("__spreadArrays",ZP),e("__await",$s),e("__asyncGenerator",eC),e("__asyncDelegator",tC),e("__asyncValues",rC),e("__makeTemplateObject",nC),e("__importStar",sC),e("__importDefault",oC),e("__classPrivateFieldGet",iC),e("__classPrivateFieldSet",aC)})});var dC=l(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.toUtf8=Bs.fromUtf8=void 0;var Wz=e=>{let t=[];for(let r=0,n=e.length;r<n;r++){let s=e.charCodeAt(r);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192,s&63|128);else if(r+1<e.length&&(s&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){let o=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else t.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(t)};Bs.fromUtf8=Wz;var Kz=e=>{let t="";for(let r=0,n=e.length;r<n;r++){let s=e[r];if(s<128)t+=String.fromCharCode(s);else if(192<=s&&s<224){let o=e[++r];t+=String.fromCharCode((s&31)<<6|o&63)}else if(240<=s&&s<365){let i="%"+[s,e[++r],e[++r],e[++r]].map(a=>a.toString(16)).join("%");t+=decodeURIComponent(i)}else t+=String.fromCharCode((s&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};Bs.toUtf8=Kz});var uC=l(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.toUtf8=Vs.fromUtf8=void 0;function Yz(e){return new TextEncoder().encode(e)}Vs.fromUtf8=Yz;function Qz(e){return new TextDecoder("utf-8").decode(e)}Vs.toUtf8=Qz});var pC=l(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.toUtf8=Hs.fromUtf8=void 0;var lC=dC(),mC=uC(),Xz=e=>typeof TextEncoder=="function"?(0,mC.fromUtf8)(e):(0,lC.fromUtf8)(e);Hs.fromUtf8=Xz;var Jz=e=>typeof TextDecoder=="function"?(0,mC.toUtf8)(e):(0,lC.toUtf8)(e);Hs.toUtf8=Jz});var fC=l(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.convertToBuffer=void 0;var Zz=pC(),e$=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:Zz.fromUtf8;function t$(e){return e instanceof Uint8Array?e:typeof e=="string"?e$(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}nl.convertToBuffer=t$});var _C=l(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.isEmptyData=void 0;function r$(e){return typeof e=="string"?e.length===0:e.byteLength===0}sl.isEmptyData=r$});var hC=l(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.numToUint8=void 0;function n$(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}ol.numToUint8=n$});var yC=l(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.uint32ArrayFrom=void 0;function s$(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}il.uint32ArrayFrom=s$});var by=l(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.uint32ArrayFrom=er.numToUint8=er.isEmptyData=er.convertToBuffer=void 0;var o$=fC();Object.defineProperty(er,"convertToBuffer",{enumerable:!0,get:function(){return o$.convertToBuffer}});var i$=_C();Object.defineProperty(er,"isEmptyData",{enumerable:!0,get:function(){return i$.isEmptyData}});var a$=hC();Object.defineProperty(er,"numToUint8",{enumerable:!0,get:function(){return a$.numToUint8}});var c$=yC();Object.defineProperty(er,"uint32ArrayFrom",{enumerable:!0,get:function(){return c$.uint32ArrayFrom}})});var vC=l(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.AwsCrc32=void 0;var gC=Sy(),Py=by(),EC=cl(),d$=function(){function e(){this.crc32=new EC.Crc32}return e.prototype.update=function(t){(0,Py.isEmptyData)(t)||this.crc32.update((0,Py.convertToBuffer)(t))},e.prototype.digest=function(){return gC.__awaiter(this,void 0,void 0,function(){return gC.__generator(this,function(t){return[2,(0,Py.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new EC.Crc32},e}();al.AwsCrc32=d$});var cl=l(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.AwsCrc32=mn.Crc32=mn.crc32=void 0;var u$=Sy(),l$=by();function m$(e){return new wC().update(e).digest()}mn.crc32=m$;var wC=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var s=u$.__values(t),o=s.next();!o.done;o=s.next()){var i=o.value;this.checksum=this.checksum>>>8^f$[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();mn.Crc32=wC;var p$=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],f$=(0,l$.uint32ArrayFrom)(p$),_$=vC();Object.defineProperty(mn,"AwsCrc32",{enumerable:!0,get:function(){return _$.AwsCrc32}})});var Ws=l(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.toHex=Gs.fromHex=void 0;var SC={},Cy={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),SC[e]=t,Cy[t]=e}function h$(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Cy)t[r/2]=Cy[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}Gs.fromHex=h$;function y$(e){let t="";for(let r=0;r<e.byteLength;r++)t+=SC[e[r]];return t}Gs.toHex=y$});var xy=l(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.Int64=void 0;var g$=Ws(),ya=class{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&bC(r),new ya(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&bC(t),parseInt((0,g$.toHex)(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};dl.Int64=ya;function bC(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}});var Ty=l(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.HeaderMarshaller=void 0;var Ks=Ws(),Oy=xy(),Ay=class{constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){let r=[];for(let o of Object.keys(t)){let i=this.fromUtf8(o);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[o]))}let n=new Uint8Array(r.reduce((o,i)=>o+i.byteLength,0)),s=0;for(let o of r)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+t.value.byteLength));o.setUint8(0,6),o.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(o.buffer);return i.set(t.value,3),i;case"string":let a=this.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":let d=new Uint8Array(9);return d[0]=8,d.set(Oy.Int64.fromNumber(t.value.valueOf()).bytes,1),d;case"uuid":if(!O$.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let p=new Uint8Array(17);return p[0]=9,p.set((0,Ks.fromHex)(t.value.replace(/\-/g,"")),1),p}}parse(t){let r={},n=0;for(;n<t.byteLength;){let s=t.getUint8(n++),o=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,s));switch(n+=s,t.getUint8(n++)){case 0:r[o]={type:CC,value:!0};break;case 1:r[o]={type:CC,value:!1};break;case 2:r[o]={type:E$,value:t.getInt8(n++)};break;case 3:r[o]={type:v$,value:t.getInt16(n,!1)},n+=2;break;case 4:r[o]={type:w$,value:t.getInt32(n,!1)},n+=4;break;case 5:r[o]={type:S$,value:new Oy.Int64(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:let i=t.getUint16(n,!1);n+=2,r[o]={type:b$,value:new Uint8Array(t.buffer,t.byteOffset+n,i)},n+=i;break;case 7:let a=t.getUint16(n,!1);n+=2,r[o]={type:P$,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,a))},n+=a;break;case 8:r[o]={type:C$,value:new Date(new Oy.Int64(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let c=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[o]={type:x$,value:`${(0,Ks.toHex)(c.subarray(0,4))}-${(0,Ks.toHex)(c.subarray(4,6))}-${(0,Ks.toHex)(c.subarray(6,8))}-${(0,Ks.toHex)(c.subarray(8,10))}-${(0,Ks.toHex)(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}};ul.HeaderMarshaller=Ay;var PC;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(PC||(PC={}));var CC="boolean",E$="byte",v$="short",w$="integer",S$="long",b$="binary",P$="string",C$="timestamp",x$="uuid",O$=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/});var OC=l(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.splitMessage=void 0;var A$=cl(),xC=4,pn=xC*2,ns=4,T$=pn+ns*2;function R$({byteLength:e,byteOffset:t,buffer:r}){if(e<T$)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,t,e),s=n.getUint32(0,!1);if(e!==s)throw new Error("Reported message length does not match received message length");let o=n.getUint32(xC,!1),i=n.getUint32(pn,!1),a=n.getUint32(e-ns,!1),c=new A$.Crc32().update(new Uint8Array(r,t,pn));if(i!==c.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,t+pn,e-(pn+ns))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+pn+ns,o),body:new Uint8Array(r,t+pn+ns+o,s-o-(pn+ns+ns))}}ll.splitMessage=R$});var AC=l(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.EventStreamCodec=void 0;var I$=cl(),N$=Ty(),q$=OC(),Ry=class{constructor(t,r){this.headerMarshaller=new N$.HeaderMarshaller(t,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(t){this.messageBuffer.push(this.decode(t))}endOfStream(){this.isEndOfStream=!0}getMessage(){let t=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return t},isEndOfStream(){return r}}}getAvailableMessages(){let t=this.messageBuffer;this.messageBuffer=[];let r=this.isEndOfStream;return{getMessages(){return t},isEndOfStream(){return r}}}encode({headers:t,body:r}){let n=this.headerMarshaller.format(t),s=n.byteLength+r.byteLength+16,o=new Uint8Array(s),i=new DataView(o.buffer,o.byteOffset,o.byteLength),a=new I$.Crc32;return i.setUint32(0,s,!1),i.setUint32(4,n.byteLength,!1),i.setUint32(8,a.update(o.subarray(0,8)).digest(),!1),o.set(n,12),o.set(r,n.byteLength+12),i.setUint32(s-4,a.update(o.subarray(8,s-4)).digest(),!1),o}decode(t){let{headers:r,body:n}=(0,q$.splitMessage)(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}};ml.EventStreamCodec=Ry});var RC=l(TC=>{"use strict";Object.defineProperty(TC,"__esModule",{value:!0})});var IC=l(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.MessageDecoderStream=void 0;var Iy=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.inputStream)yield this.options.decoder.decode(t)}};pl.MessageDecoderStream=Iy});var NC=l(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.MessageEncoderStream=void 0;var Ny=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.messageStream)yield this.options.encoder.encode(t);this.options.includeEndFrame&&(yield new Uint8Array(0))}};fl.MessageEncoderStream=Ny});var qC=l(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.SmithyMessageDecoderStream=void 0;var qy=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.messageStream){let r=await this.options.deserializer(t);r!==void 0&&(yield r)}}};_l.SmithyMessageDecoderStream=qy});var DC=l(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.SmithyMessageEncoderStream=void 0;var Dy=class{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let t of this.options.inputStream)yield this.options.serializer(t)}};hl.SmithyMessageEncoderStream=Dy});var kC=l(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});var fn=A();fn.__exportStar(AC(),tr);fn.__exportStar(Ty(),tr);fn.__exportStar(xy(),tr);fn.__exportStar(RC(),tr);fn.__exportStar(IC(),tr);fn.__exportStar(NC(),tr);fn.__exportStar(qC(),tr);fn.__exportStar(DC(),tr)});var MC=l(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.normalizeProvider=void 0;var D$=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};yl.normalizeProvider=D$});var ss=l(ky=>{"use strict";Object.defineProperty(ky,"__esModule",{value:!0});var k$=A();k$.__exportStar(MC(),ky)});var My=l(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl.isArrayBuffer=void 0;var M$=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";gl.isArrayBuffer=M$});var os=l(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.fromString=Ys.fromArrayBuffer=void 0;var F$=My(),Fy=q("buffer"),j$=(e,t=0,r=e.byteLength-t)=>{if(!(0,F$.isArrayBuffer)(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Fy.Buffer.from(e,t,r)};Ys.fromArrayBuffer=j$;var L$=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Fy.Buffer.from(e,t):Fy.Buffer.from(e)};Ys.fromString=L$});var jy=l(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.fromUtf8=void 0;var U$=os(),z$=e=>{let t=(0,U$.fromString)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)};El.fromUtf8=z$});var FC=l(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.toUint8Array=void 0;var $$=jy(),B$=e=>typeof e=="string"?(0,$$.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e);vl.toUint8Array=B$});var jC=l(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.toUtf8=void 0;var V$=os(),H$=e=>(0,V$.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("utf8");wl.toUtf8=H$});var rr=l(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});var Ly=A();Ly.__exportStar(jy(),ga);Ly.__exportStar(FC(),ga);Ly.__exportStar(jC(),ga)});var is=l(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.MAX_PRESIGNED_TTL=R.KEY_TYPE_IDENTIFIER=R.MAX_CACHE_SIZE=R.UNSIGNED_PAYLOAD=R.EVENT_ALGORITHM_IDENTIFIER=R.ALGORITHM_IDENTIFIER_V4A=R.ALGORITHM_IDENTIFIER=R.UNSIGNABLE_PATTERNS=R.SEC_HEADER_PATTERN=R.PROXY_HEADER_PATTERN=R.ALWAYS_UNSIGNABLE_HEADERS=R.HOST_HEADER=R.TOKEN_HEADER=R.SHA256_HEADER=R.SIGNATURE_HEADER=R.GENERATED_HEADERS=R.DATE_HEADER=R.AMZ_DATE_HEADER=R.AUTH_HEADER=R.REGION_SET_PARAM=R.TOKEN_QUERY_PARAM=R.SIGNATURE_QUERY_PARAM=R.EXPIRES_QUERY_PARAM=R.SIGNED_HEADERS_QUERY_PARAM=R.AMZ_DATE_QUERY_PARAM=R.CREDENTIAL_QUERY_PARAM=R.ALGORITHM_QUERY_PARAM=void 0;R.ALGORITHM_QUERY_PARAM="X-Amz-Algorithm";R.CREDENTIAL_QUERY_PARAM="X-Amz-Credential";R.AMZ_DATE_QUERY_PARAM="X-Amz-Date";R.SIGNED_HEADERS_QUERY_PARAM="X-Amz-SignedHeaders";R.EXPIRES_QUERY_PARAM="X-Amz-Expires";R.SIGNATURE_QUERY_PARAM="X-Amz-Signature";R.TOKEN_QUERY_PARAM="X-Amz-Security-Token";R.REGION_SET_PARAM="X-Amz-Region-Set";R.AUTH_HEADER="authorization";R.AMZ_DATE_HEADER=R.AMZ_DATE_QUERY_PARAM.toLowerCase();R.DATE_HEADER="date";R.GENERATED_HEADERS=[R.AUTH_HEADER,R.AMZ_DATE_HEADER,R.DATE_HEADER];R.SIGNATURE_HEADER=R.SIGNATURE_QUERY_PARAM.toLowerCase();R.SHA256_HEADER="x-amz-content-sha256";R.TOKEN_HEADER=R.TOKEN_QUERY_PARAM.toLowerCase();R.HOST_HEADER="host";R.ALWAYS_UNSIGNABLE_HEADERS={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0};R.PROXY_HEADER_PATTERN=/^proxy-/;R.SEC_HEADER_PATTERN=/^sec-/;R.UNSIGNABLE_PATTERNS=[/^proxy-/i,/^sec-/i];R.ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256";R.ALGORITHM_IDENTIFIER_V4A="AWS4-ECDSA-P256-SHA256";R.EVENT_ALGORITHM_IDENTIFIER="AWS4-HMAC-SHA256-PAYLOAD";R.UNSIGNED_PAYLOAD="UNSIGNED-PAYLOAD";R.MAX_CACHE_SIZE=50;R.KEY_TYPE_IDENTIFIER="aws4_request";R.MAX_PRESIGNED_TTL=60*60*24*7});var zy=l(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.clearCredentialCache=_n.getSigningKey=_n.createScope=void 0;var G$=Ws(),W$=rr(),Uy=is(),Qs={},Sl=[],K$=(e,t,r)=>`${e}/${t}/${r}/${Uy.KEY_TYPE_IDENTIFIER}`;_n.createScope=K$;var Y$=async(e,t,r,n,s)=>{let o=await LC(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${s}:${(0,G$.toHex)(o)}:${t.sessionToken}`;if(i in Qs)return Qs[i];for(Sl.push(i);Sl.length>Uy.MAX_CACHE_SIZE;)delete Qs[Sl.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,s,Uy.KEY_TYPE_IDENTIFIER])a=await LC(e,a,c);return Qs[i]=a};_n.getSigningKey=Y$;var Q$=()=>{Sl.length=0,Object.keys(Qs).forEach(e=>{delete Qs[e]})};_n.clearCredentialCache=Q$;var LC=(e,t,r)=>{let n=new e(t);return n.update((0,W$.toUint8Array)(r)),n.digest()}});var By=l(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});bl.getCanonicalHeaders=void 0;var $y=is(),X$=({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let o=s.toLowerCase();(o in $y.ALWAYS_UNSIGNABLE_HEADERS||(t==null?void 0:t.has(o))||$y.PROXY_HEADER_PATTERN.test(o)||$y.SEC_HEADER_PATTERN.test(o))&&(!r||r&&!r.has(o))||(n[o]=e[s].trim().replace(/\s+/g," "))}return n};bl.getCanonicalHeaders=X$});var Vy=l(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.escapeUri=void 0;var J$=e=>encodeURIComponent(e).replace(/[!'()*]/g,Z$);Pl.escapeUri=J$;var Z$=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`});var UC=l(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.escapeUriPath=void 0;var e3=Vy(),t3=e=>e.split("/").map(e3.escapeUri).join("/");Cl.escapeUriPath=t3});var Hy=l(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});var zC=A();zC.__exportStar(Vy(),xl);zC.__exportStar(UC(),xl)});var Gy=l(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.getCanonicalQuery=void 0;var Ol=Hy(),r3=is(),n3=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===r3.SIGNATURE_HEADER)continue;t.push(n);let s=e[n];typeof s=="string"?r[n]=`${(0,Ol.escapeUri)(n)}=${(0,Ol.escapeUri)(s)}`:Array.isArray(s)&&(r[n]=s.slice(0).sort().reduce((o,i)=>o.concat([`${(0,Ol.escapeUri)(n)}=${(0,Ol.escapeUri)(i)}`]),[]).join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")};Al.getCanonicalQuery=n3});var Wy=l(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.getPayloadHash=void 0;var s3=My(),o3=Ws(),i3=rr(),$C=is(),a3=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===$C.SHA256_HEADER)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||(0,s3.isArrayBuffer)(t)){let n=new r;return n.update((0,i3.toUint8Array)(t)),(0,o3.toHex)(await n.digest())}return $C.UNSIGNED_PAYLOAD};Tl.getPayloadHash=a3});var BC=l(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.deleteHeader=hn.getHeaderValue=hn.hasHeader=void 0;var c3=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1};hn.hasHeader=c3;var d3=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return t[r]};hn.getHeaderValue=d3;var u3=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))e===r.toLowerCase()&&delete t[r]};hn.deleteHeader=u3});var Ky=l(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.cloneQuery=as.cloneRequest=void 0;var l3=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?(0,as.cloneQuery)(t):void 0});as.cloneRequest=l3;var m3=e=>Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{});as.cloneQuery=m3});var Yy=l(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.moveHeadersToQuery=void 0;var p3=Ky(),f3=(e,t={})=>{var r;let{headers:n,query:s={}}=typeof e.clone=="function"?e.clone():(0,p3.cloneRequest)(e);for(let o of Object.keys(n)){let i=o.toLowerCase();i.slice(0,6)==="x-amz-"&&!(!((r=t.unhoistableHeaders)===null||r===void 0)&&r.has(i))&&(s[o]=n[o],delete n[o])}return{...e,headers:n,query:s}};Rl.moveHeadersToQuery=f3});var Qy=l(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.prepareRequest=void 0;var _3=Ky(),h3=is(),y3=e=>{e=typeof e.clone=="function"?e.clone():(0,_3.cloneRequest)(e);for(let t of Object.keys(e.headers))h3.GENERATED_HEADERS.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};Il.prepareRequest=y3});var VC=l(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.toDate=cs.iso8601=void 0;var g3=e=>(0,cs.toDate)(e).toISOString().replace(/\.\d{3}Z$/,"Z");cs.iso8601=g3;var E3=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;cs.toDate=E3});var YC=l(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl.SignatureV4=void 0;var v3=kC(),Nl=Ws(),HC=ss(),Ea=rr(),Ge=is(),ql=zy(),GC=By(),w3=Gy(),Xy=Wy(),S3=BC(),b3=Yy(),WC=Qy(),P3=VC(),Jy=class{constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i=!0}){this.headerMarshaller=new v3.HeaderMarshaller(Ea.toUtf8,Ea.fromUtf8),this.service=s,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=(0,HC.normalizeProvider)(n),this.credentialProvider=(0,HC.normalizeProvider)(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,signingRegion:c,signingService:u}=r,d=await this.credentialProvider();this.validateResolvedCredentials(d);let p=c!=null?c:await this.regionProvider(),{longDate:h,shortDate:y}=Dl(n);if(s>Ge.MAX_PRESIGNED_TTL)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let w=(0,ql.createScope)(y,p,u!=null?u:this.service),b=(0,b3.moveHeadersToQuery)((0,WC.prepareRequest)(t),{unhoistableHeaders:i});d.sessionToken&&(b.query[Ge.TOKEN_QUERY_PARAM]=d.sessionToken),b.query[Ge.ALGORITHM_QUERY_PARAM]=Ge.ALGORITHM_IDENTIFIER,b.query[Ge.CREDENTIAL_QUERY_PARAM]=`${d.accessKeyId}/${w}`,b.query[Ge.AMZ_DATE_QUERY_PARAM]=h,b.query[Ge.EXPIRES_QUERY_PARAM]=s.toString(10);let _=(0,GC.getCanonicalHeaders)(b,o,a);return b.query[Ge.SIGNED_HEADERS_QUERY_PARAM]=KC(_),b.query[Ge.SIGNATURE_QUERY_PARAM]=await this.getSignature(h,w,this.getSigningKey(d,p,y,u),this.createCanonicalRequest(b,_,await(0,Xy.getPayloadHash)(t,this.sha256))),b}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:o,signingService:i}){let a=o!=null?o:await this.regionProvider(),{shortDate:c,longDate:u}=Dl(n),d=(0,ql.createScope)(c,a,i!=null?i:this.service),p=await(0,Xy.getPayloadHash)({headers:{},body:r},this.sha256),h=new this.sha256;h.update(t);let y=(0,Nl.toHex)(await h.digest()),w=[Ge.EVENT_ALGORITHM_IDENTIFIER,u,d,s,y,p].join(`
`);return this.signString(w,{signingDate:n,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerMarshaller.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let i=n!=null?n:await this.regionProvider(),{shortDate:a}=Dl(r),c=new this.sha256(await this.getSigningKey(o,i,a,s));return c.update((0,Ea.toUint8Array)(t)),(0,Nl.toHex)(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:o,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=o!=null?o:await this.regionProvider(),u=(0,WC.prepareRequest)(t),{longDate:d,shortDate:p}=Dl(r),h=(0,ql.createScope)(p,c,i!=null?i:this.service);u.headers[Ge.AMZ_DATE_HEADER]=d,a.sessionToken&&(u.headers[Ge.TOKEN_HEADER]=a.sessionToken);let y=await(0,Xy.getPayloadHash)(u,this.sha256);!(0,S3.hasHeader)(Ge.SHA256_HEADER,u.headers)&&this.applyChecksum&&(u.headers[Ge.SHA256_HEADER]=y);let w=(0,GC.getCanonicalHeaders)(u,s,n),b=await this.getSignature(d,h,this.getSigningKey(a,c,p,i),this.createCanonicalRequest(u,w,y));return u.headers[Ge.AUTH_HEADER]=`${Ge.ALGORITHM_IDENTIFIER} Credential=${a.accessKeyId}/${h}, SignedHeaders=${KC(w)}, Signature=${b}`,u}createCanonicalRequest(t,r,n){let s=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${(0,w3.getCanonicalQuery)(t)}
${s.map(o=>`${o}:${r[o]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(t,r,n){let s=new this.sha256;s.update((0,Ea.toUint8Array)(n));let o=await s.digest();return`${Ge.ALGORITHM_IDENTIFIER}
${t}
${r}
${(0,Nl.toHex)(o)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let o of t.split("/"))(o==null?void 0:o.length)!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let n=`${t!=null&&t.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(t==null?void 0:t.endsWith("/"))?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,s){let o=await this.createStringToSign(t,r,s),i=new this.sha256(await n);return i.update((0,Ea.toUint8Array)(o)),(0,Nl.toHex)(await i.digest())}getSigningKey(t,r,n,s){return(0,ql.getSigningKey)(this.sha256,t,n,r,s||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}};kl.SignatureV4=Jy;var Dl=e=>{let t=(0,P3.iso8601)(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},KC=e=>Object.keys(e).sort().join(";")});var XC=l(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.prepareRequest=ct.moveHeadersToQuery=ct.getPayloadHash=ct.getCanonicalQuery=ct.getCanonicalHeaders=void 0;var QC=A();QC.__exportStar(YC(),ct);var C3=By();Object.defineProperty(ct,"getCanonicalHeaders",{enumerable:!0,get:function(){return C3.getCanonicalHeaders}});var x3=Gy();Object.defineProperty(ct,"getCanonicalQuery",{enumerable:!0,get:function(){return x3.getCanonicalQuery}});var O3=Wy();Object.defineProperty(ct,"getPayloadHash",{enumerable:!0,get:function(){return O3.getPayloadHash}});var A3=Yy();Object.defineProperty(ct,"moveHeadersToQuery",{enumerable:!0,get:function(){return A3.moveHeadersToQuery}});var T3=Qy();Object.defineProperty(ct,"prepareRequest",{enumerable:!0,get:function(){return T3.prepareRequest}});QC.__exportStar(zy(),ct)});var ZC=l(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.resolveSigV4AuthConfig=Js.resolveAwsAuthConfig=void 0;var R3=ge(),Zy=XC(),Xs=ss(),I3=3e5,N3=e=>{let t=e.credentials?JC(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:s}=e,o;return e.signer?o=(0,Xs.normalizeProvider)(e.signer):e.regionInfoProvider?o=()=>(0,Xs.normalizeProvider)(e.region)().then(async i=>[await e.regionInfoProvider(i,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},i]).then(([i,a])=>{let{signingRegion:c,signingService:u}=i;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||u||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:r},p=e.signerConstructor||Zy.SignatureV4;return new p(d)}):o=async i=>{i=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await(0,Xs.normalizeProvider)(e.region)(),properties:{}},i);let a=i.signingRegion,c=i.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let u={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:r},d=e.signerConstructor||Zy.SignatureV4;return new d(u)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:o}};Js.resolveAwsAuthConfig=N3;var q3=e=>{let t=e.credentials?JC(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:s}=e,o;return e.signer?o=(0,Xs.normalizeProvider)(e.signer):o=(0,Xs.normalizeProvider)(new Zy.SignatureV4({credentials:t,region:e.region,service:e.signingName,sha256:s,uriEscapePath:r})),{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:o}};Js.resolveSigV4AuthConfig=q3;var JC=e=>typeof e=="function"?(0,R3.memoize)(e,t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<I3,t=>t.expiration!==void 0):(0,Xs.normalizeProvider)(e)});var eg=l(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.getSkewCorrectedDate=void 0;var D3=e=>new Date(Date.now()+e);Ml.getSkewCorrectedDate=D3});var ex=l(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.isClockSkewed=void 0;var k3=eg(),M3=(e,t)=>Math.abs((0,k3.getSkewCorrectedDate)(t).getTime()-e)>=3e5;Fl.isClockSkewed=M3});var tx=l(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.getUpdatedSystemClockOffset=void 0;var F3=ex(),j3=(e,t)=>{let r=Date.parse(e);return(0,F3.isClockSkewed)(r,t)?r-Date.now():t};jl.getUpdatedSystemClockOffset=j3});var ox=l(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.getSigV4AuthPlugin=yt.getAwsAuthPlugin=yt.awsAuthMiddlewareOptions=yt.awsAuthMiddleware=void 0;var sx=nt(),L3=eg(),rx=tx(),U3=e=>(t,r)=>async function(n){var s,o,i,a;if(!sx.HttpRequest.isInstance(n.request))return t(n);let c=(i=(o=(s=r.endpointV2)===null||s===void 0?void 0:s.properties)===null||o===void 0?void 0:o.authSchemes)===null||i===void 0?void 0:i[0],u=(c==null?void 0:c.name)==="sigv4a"?(a=c==null?void 0:c.signingRegionSet)===null||a===void 0?void 0:a.join(","):void 0,d=await e.signer(c),p=await t({...n,request:await d.sign(n.request,{signingDate:(0,L3.getSkewCorrectedDate)(e.systemClockOffset),signingRegion:u||r.signing_region,signingService:r.signing_service})}).catch(y=>{var w;let b=(w=y.ServerTime)!==null&&w!==void 0?w:nx(y.$response);throw b&&(e.systemClockOffset=(0,rx.getUpdatedSystemClockOffset)(b,e.systemClockOffset)),y}),h=nx(p.response);return h&&(e.systemClockOffset=(0,rx.getUpdatedSystemClockOffset)(h,e.systemClockOffset)),p};yt.awsAuthMiddleware=U3;var nx=e=>{var t,r,n;return sx.HttpResponse.isInstance(e)?(r=(t=e.headers)===null||t===void 0?void 0:t.date)!==null&&r!==void 0?r:(n=e.headers)===null||n===void 0?void 0:n.Date:void 0};yt.awsAuthMiddlewareOptions={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0};var z3=e=>({applyToStack:t=>{t.addRelativeTo((0,yt.awsAuthMiddleware)(e),yt.awsAuthMiddlewareOptions)}});yt.getAwsAuthPlugin=z3;yt.getSigV4AuthPlugin=yt.getAwsAuthPlugin});var jr=l(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});var ix=A();ix.__exportStar(ZC(),Ll);ix.__exportStar(ox(),Ll)});var ax=l(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.resolveUserAgentConfig=void 0;function $3(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}Ul.resolveUserAgentConfig=$3});var cx=l((jce,B3)=>{B3.exports={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"}});var tg=l(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.getUserAgentPrefix=Bt.useDefaultPartitionInfo=Bt.setPartitionInfo=Bt.partition=void 0;var V3=A(),dx=V3.__importDefault(cx()),ux=dx.default,lx="",H3=e=>{let{partitions:t}=ux;for(let n of t){let{regions:s,outputs:o}=n;for(let[i,a]of Object.entries(s))if(i===e)return{...o,...a}}for(let n of t){let{regionRegex:s,outputs:o}=n;if(new RegExp(s).test(e))return{...o}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}};Bt.partition=H3;var G3=(e,t="")=>{ux=e,lx=t};Bt.setPartitionInfo=G3;var W3=()=>{(0,Bt.setPartitionInfo)(dx.default,"")};Bt.useDefaultPartitionInfo=W3;var K3=()=>lx;Bt.getUserAgentPrefix=K3});var mx=l(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.debugId=void 0;zl.debugId="endpoints"});var px=l($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});$l.toDebugString=void 0;function rg(e){return typeof e!="object"||e==null?e:"ref"in e?`$${rg(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(rg).join(", ")})`:JSON.stringify(e,null,2)}$l.toDebugString=rg});var va=l(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});var fx=A();fx.__exportStar(mx(),Bl);fx.__exportStar(px(),Bl)});var _x=l(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});Vl.EndpointError=void 0;var ng=class extends Error{constructor(t){super(t),this.name="EndpointError"}};Vl.EndpointError=ng});var yx=l(hx=>{"use strict";Object.defineProperty(hx,"__esModule",{value:!0})});var Ex=l(gx=>{"use strict";Object.defineProperty(gx,"__esModule",{value:!0})});var wx=l(vx=>{"use strict";Object.defineProperty(vx,"__esModule",{value:!0})});var bx=l(Sx=>{"use strict";Object.defineProperty(Sx,"__esModule",{value:!0})});var Cx=l(Px=>{"use strict";Object.defineProperty(Px,"__esModule",{value:!0})});var At=l(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});var Zs=A();Zs.__exportStar(_x(),yn);Zs.__exportStar(yx(),yn);Zs.__exportStar(Ex(),yn);Zs.__exportStar(wx(),yn);Zs.__exportStar(bx(),yn);Zs.__exportStar(Cx(),yn)});var sg=l(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.isIpAddress=void 0;var Y3=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Q3=e=>Y3.test(e)||e.startsWith("[")&&e.endsWith("]");Hl.isIpAddress=Q3});var og=l(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.isValidHostLabel=void 0;var X3=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),J3=(e,t=!1)=>{if(!t)return X3.test(e);let r=e.split(".");for(let n of r)if(!(0,wa.isValidHostLabel)(n))return!1;return!0};wa.isValidHostLabel=J3});var xx=l(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.isVirtualHostableS3Bucket=void 0;var Z3=sg(),e2=og(),t2=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!(0,Sa.isVirtualHostableS3Bucket)(r))return!1;return!0}return!(!(0,e2.isValidHostLabel)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,Z3.isIpAddress)(e))};Sa.isVirtualHostableS3Bucket=t2});var Ox=l(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.parseArn=void 0;var r2=e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,s,o,i,...a]=t;return r!=="arn"||n===""||s===""||a[0]===""?null:{partition:n,service:s,region:o,accountId:i,resourceId:a[0].includes("/")?a[0].split("/"):a}};Gl.parseArn=r2});var Ax=l(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});var ig=A();ig.__exportStar(xx(),ba);ig.__exportStar(Ox(),ba);ig.__exportStar(tg(),ba)});var Tx=l(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});Wl.booleanEquals=void 0;var n2=(e,t)=>e===t;Wl.booleanEquals=n2});var Ix=l(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.getAttrPathList=void 0;var Rx=At(),s2=e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Rx.EndpointError(`Path: '${e}' does not end with ']'`);let o=n.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new Rx.EndpointError(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(o)}else r.push(n)}return r};Kl.getAttrPathList=s2});var Nx=l(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.getAttr=void 0;var o2=At(),i2=Ix(),a2=(e,t)=>(0,i2.getAttrPathList)(t).reduce((r,n)=>{if(typeof r!="object")throw new o2.EndpointError(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e);Yl.getAttr=a2});var qx=l(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.isSet=void 0;var c2=e=>e!=null;Ql.isSet=c2});var Dx=l(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.not=void 0;var d2=e=>!e;Xl.not=d2});var Mx=l(kx=>{"use strict";Object.defineProperty(kx,"__esModule",{value:!0})});var Fx=l(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.HttpAuthLocation=void 0;var u2;(function(e){e.HEADER="header",e.QUERY="query"})(u2=Pa.HttpAuthLocation||(Pa.HttpAuthLocation={}))});var Lx=l(jx=>{"use strict";Object.defineProperty(jx,"__esModule",{value:!0})});var zx=l(Ux=>{"use strict";Object.defineProperty(Ux,"__esModule",{value:!0})});var Bx=l($x=>{"use strict";Object.defineProperty($x,"__esModule",{value:!0})});var Hx=l(Vx=>{"use strict";Object.defineProperty(Vx,"__esModule",{value:!0})});var Wx=l(Gx=>{"use strict";Object.defineProperty(Gx,"__esModule",{value:!0})});var Yx=l(Kx=>{"use strict";Object.defineProperty(Kx,"__esModule",{value:!0})});var Xx=l(Qx=>{"use strict";Object.defineProperty(Qx,"__esModule",{value:!0})});var Jx=l(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});var ag=A();ag.__exportStar(Wx(),Ca);ag.__exportStar(Yx(),Ca);ag.__exportStar(Xx(),Ca)});var eO=l(Zx=>{"use strict";Object.defineProperty(Zx,"__esModule",{value:!0})});var rO=l(tO=>{"use strict";Object.defineProperty(tO,"__esModule",{value:!0})});var nO=l(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.HostAddressType=void 0;var l2;(function(e){e.AAAA="AAAA",e.A="A"})(l2=xa.HostAddressType||(xa.HostAddressType={}))});var oO=l(sO=>{"use strict";Object.defineProperty(sO,"__esModule",{value:!0})});var iO=l(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.EndpointURLScheme=void 0;var m2;(function(e){e.HTTP="http",e.HTTPS="https"})(m2=Oa.EndpointURLScheme||(Oa.EndpointURLScheme={}))});var cO=l(aO=>{"use strict";Object.defineProperty(aO,"__esModule",{value:!0})});var uO=l(dO=>{"use strict";Object.defineProperty(dO,"__esModule",{value:!0})});var mO=l(lO=>{"use strict";Object.defineProperty(lO,"__esModule",{value:!0})});var fO=l(pO=>{"use strict";Object.defineProperty(pO,"__esModule",{value:!0})});var hO=l(_O=>{"use strict";Object.defineProperty(_O,"__esModule",{value:!0})});var gO=l(yO=>{"use strict";Object.defineProperty(yO,"__esModule",{value:!0})});var vO=l(EO=>{"use strict";Object.defineProperty(EO,"__esModule",{value:!0})});var wO=l(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});var Aa=A();Aa.__exportStar(mO(),ds);Aa.__exportStar(fO(),ds);Aa.__exportStar(hO(),ds);Aa.__exportStar(gO(),ds);Aa.__exportStar(vO(),ds)});var bO=l(SO=>{"use strict";Object.defineProperty(SO,"__esModule",{value:!0})});var CO=l(PO=>{"use strict";Object.defineProperty(PO,"__esModule",{value:!0})});var OO=l(xO=>{"use strict";Object.defineProperty(xO,"__esModule",{value:!0})});var TO=l(AO=>{"use strict";Object.defineProperty(AO,"__esModule",{value:!0})});var IO=l(RO=>{"use strict";Object.defineProperty(RO,"__esModule",{value:!0})});var qO=l(NO=>{"use strict";Object.defineProperty(NO,"__esModule",{value:!0})});var kO=l(DO=>{"use strict";Object.defineProperty(DO,"__esModule",{value:!0})});var FO=l(MO=>{"use strict";Object.defineProperty(MO,"__esModule",{value:!0})});var LO=l(jO=>{"use strict";Object.defineProperty(jO,"__esModule",{value:!0})});var zO=l(UO=>{"use strict";Object.defineProperty(UO,"__esModule",{value:!0})});var BO=l($O=>{"use strict";Object.defineProperty($O,"__esModule",{value:!0})});var HO=l(VO=>{"use strict";Object.defineProperty(VO,"__esModule",{value:!0})});var GO=l(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.RequestHandlerProtocol=void 0;var p2;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(p2=Ta.RequestHandlerProtocol||(Ta.RequestHandlerProtocol={}))});var KO=l(WO=>{"use strict";Object.defineProperty(WO,"__esModule",{value:!0})});var QO=l(YO=>{"use strict";Object.defineProperty(YO,"__esModule",{value:!0})});var JO=l(XO=>{"use strict";Object.defineProperty(XO,"__esModule",{value:!0})});var ZO=l(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});var ue=A();ue.__exportStar(Mx(),de);ue.__exportStar(Fx(),de);ue.__exportStar(Lx(),de);ue.__exportStar(zx(),de);ue.__exportStar(Bx(),de);ue.__exportStar(Hx(),de);ue.__exportStar(Jx(),de);ue.__exportStar(eO(),de);ue.__exportStar(rO(),de);ue.__exportStar(nO(),de);ue.__exportStar(oO(),de);ue.__exportStar(iO(),de);ue.__exportStar(cO(),de);ue.__exportStar(uO(),de);ue.__exportStar(wO(),de);ue.__exportStar(bO(),de);ue.__exportStar(CO(),de);ue.__exportStar(OO(),de);ue.__exportStar(TO(),de);ue.__exportStar(IO(),de);ue.__exportStar(qO(),de);ue.__exportStar(kO(),de);ue.__exportStar(FO(),de);ue.__exportStar(LO(),de);ue.__exportStar(zO(),de);ue.__exportStar(BO(),de);ue.__exportStar(HO(),de);ue.__exportStar(GO(),de);ue.__exportStar(KO(),de);ue.__exportStar(QO(),de);ue.__exportStar(JO(),de)});var eA=l(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.parseURL=void 0;var dg=ZO(),f2=sg(),cg={[dg.EndpointURLScheme.HTTP]:80,[dg.EndpointURLScheme.HTTPS]:443},_2=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:h,port:y,protocol:w="",path:b="",query:_={}}=e,L=new URL(`${w}//${h}${y?`:${y}`:""}${b}`);return L.search=Object.entries(_).map(([V,pe])=>`${V}=${pe}`).join("&"),L}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:o,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(dg.EndpointURLScheme).includes(c))return null;let u=(0,f2.isIpAddress)(s),d=r.includes(`${n}:${cg[c]}`)||typeof e=="string"&&e.includes(`${n}:${cg[c]}`),p=`${n}${d?`:${cg[c]}`:""}`;return{scheme:c,authority:p,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:u}};Jl.parseURL=_2});var tA=l(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.stringEquals=void 0;var h2=(e,t)=>e===t;Zl.stringEquals=h2});var rA=l(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});em.substring=void 0;var y2=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r);em.substring=y2});var nA=l(tm=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.uriEncode=void 0;var g2=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`);tm.uriEncode=g2});var ug=l(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.aws=void 0;var nr=A();gt.aws=nr.__importStar(Ax());nr.__exportStar(Tx(),gt);nr.__exportStar(Nx(),gt);nr.__exportStar(qx(),gt);nr.__exportStar(og(),gt);nr.__exportStar(Dx(),gt);nr.__exportStar(eA(),gt);nr.__exportStar(tA(),gt);nr.__exportStar(rA(),gt);nr.__exportStar(nA(),gt)});var lg=l(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.evaluateTemplate=void 0;var E2=ug(),v2=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let o=e.indexOf("{",s);if(o===-1){r.push(e.slice(s));break}r.push(e.slice(s,o));let i=e.indexOf("}",o);if(i===-1){r.push(e.slice(o));break}e[o+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(o+1,i)),s=i+2);let a=e.substring(o+1,i);if(a.includes("#")){let[c,u]=a.split("#");r.push((0,E2.getAttr)(n[c],u))}else r.push(n[a]);s=i+1}return r.join("")};rm.evaluateTemplate=v2});var sA=l(nm=>{"use strict";Object.defineProperty(nm,"__esModule",{value:!0});nm.getReferenceValue=void 0;var w2=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e];nm.getReferenceValue=w2});var Ra=l(sm=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.evaluateExpression=void 0;var S2=At(),b2=mg(),P2=lg(),C2=sA(),x2=(e,t,r)=>{if(typeof e=="string")return(0,P2.evaluateTemplate)(e,r);if(e.fn)return(0,b2.callFunction)(e,r);if(e.ref)return(0,C2.getReferenceValue)(e,r);throw new S2.EndpointError(`'${t}': ${String(e)} is not a string, function or reference.`)};sm.evaluateExpression=x2});var mg=l(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.callFunction=void 0;var O2=A(),A2=O2.__importStar(ug()),T2=Ra(),R2=({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:(0,T2.evaluateExpression)(s,"arg",r));return e.split(".").reduce((s,o)=>s[o],A2)(...n)};om.callFunction=R2});var oA=l(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});im.evaluateCondition=void 0;var pg=va(),I2=At(),N2=mg(),q2=({assign:e,...t},r)=>{var n,s;if(e&&e in r.referenceRecord)throw new I2.EndpointError(`'${e}' is already defined in Reference Record.`);let o=(0,N2.callFunction)(t,r);return(s=(n=r.logger)===null||n===void 0?void 0:n.debug)===null||s===void 0||s.call(n,pg.debugId,`evaluateCondition: ${(0,pg.toDebugString)(t)} = ${(0,pg.toDebugString)(o)}`),{result:o===""?!0:!!o,...e!=null&&{toAssign:{name:e,value:o}}}};im.evaluateCondition=q2});var cm=l(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.evaluateConditions=void 0;var iA=va(),D2=oA(),k2=(e=[],t)=>{var r,n;let s={};for(let o of e){let{result:i,toAssign:a}=(0,D2.evaluateCondition)(o,{...t,referenceRecord:{...t.referenceRecord,...s}});if(!i)return{result:i};a&&(s[a.name]=a.value,(n=(r=t.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,iA.debugId,`assign: ${a.name} := ${(0,iA.toDebugString)(a.value)}`))}return{result:!0,referenceRecord:s}};am.evaluateConditions=k2});var aA=l(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.getEndpointHeaders=void 0;var M2=At(),F2=Ra(),j2=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(o=>{let i=(0,F2.evaluateExpression)(o,"Header value entry",t);if(typeof i!="string")throw new M2.EndpointError(`Header '${n}' value '${i}' is not a string`);return i})}),{});dm.getEndpointHeaders=j2});var dA=l(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.getEndpointProperty=void 0;var cA=At(),L2=lg(),U2=fg(),z2=(e,t)=>{if(Array.isArray(e))return e.map(r=>(0,Ia.getEndpointProperty)(r,t));switch(typeof e){case"string":return(0,L2.evaluateTemplate)(e,t);case"object":if(e===null)throw new cA.EndpointError(`Unexpected endpoint property: ${e}`);return(0,U2.getEndpointProperties)(e,t);case"boolean":return e;default:throw new cA.EndpointError(`Unexpected endpoint property type: ${typeof e}`)}};Ia.getEndpointProperty=z2});var fg=l(um=>{"use strict";Object.defineProperty(um,"__esModule",{value:!0});um.getEndpointProperties=void 0;var $2=dA(),B2=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:(0,$2.getEndpointProperty)(s,t)}),{});um.getEndpointProperties=B2});var uA=l(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});lm.getEndpointUrl=void 0;var V2=At(),H2=Ra(),G2=(e,t)=>{let r=(0,H2.evaluateExpression)(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new V2.EndpointError(`Endpoint URL must be a string, got ${typeof r}`)};lm.getEndpointUrl=G2});var mA=l(mm=>{"use strict";Object.defineProperty(mm,"__esModule",{value:!0});mm.evaluateEndpointRule=void 0;var lA=va(),W2=cm(),K2=aA(),Y2=fg(),Q2=uA(),X2=(e,t)=>{var r,n;let{conditions:s,endpoint:o}=e,{result:i,referenceRecord:a}=(0,W2.evaluateConditions)(s,t);if(!i)return;let c={...t,referenceRecord:{...t.referenceRecord,...a}},{url:u,properties:d,headers:p}=o;return(n=(r=t.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,lA.debugId,`Resolving endpoint from template: ${(0,lA.toDebugString)(o)}`),{...p!=null&&{headers:(0,K2.getEndpointHeaders)(p,c)},...d!=null&&{properties:(0,Y2.getEndpointProperties)(d,c)},url:(0,Q2.getEndpointUrl)(u,c)}};mm.evaluateEndpointRule=X2});var pA=l(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.evaluateErrorRule=void 0;var J2=At(),Z2=cm(),eB=Ra(),tB=(e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:o}=(0,Z2.evaluateConditions)(r,t);if(!!s)throw new J2.EndpointError((0,eB.evaluateExpression)(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))};pm.evaluateErrorRule=tB});var fA=l(fm=>{"use strict";Object.defineProperty(fm,"__esModule",{value:!0});fm.evaluateTreeRule=void 0;var rB=cm(),nB=_g(),sB=(e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:o}=(0,rB.evaluateConditions)(r,t);if(!!s)return(0,nB.evaluateRules)(n,{...t,referenceRecord:{...t.referenceRecord,...o}})};fm.evaluateTreeRule=sB});var _g=l(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});_m.evaluateRules=void 0;var _A=At(),oB=mA(),iB=pA(),aB=fA(),cB=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=(0,oB.evaluateEndpointRule)(r,t);if(n)return n}else if(r.type==="error")(0,iB.evaluateErrorRule)(r,t);else if(r.type==="tree"){let n=(0,aB.evaluateTreeRule)(r,t);if(n)return n}else throw new _A.EndpointError(`Unknown endpoint rule: ${r}`);throw new _A.EndpointError("Rules evaluation failed")};_m.evaluateRules=cB});var hA=l(hg=>{"use strict";Object.defineProperty(hg,"__esModule",{value:!0});var dB=A();dB.__exportStar(_g(),hg)});var yA=l(ym=>{"use strict";Object.defineProperty(ym,"__esModule",{value:!0});ym.resolveEndpoint=void 0;var hm=va(),uB=At(),lB=hA(),mB=(e,t)=>{var r,n,s,o,i,a;let{endpointParams:c,logger:u}=t,{parameters:d,rules:p}=e;(n=(r=t.logger)===null||r===void 0?void 0:r.debug)===null||n===void 0||n.call(r,`${hm.debugId} Initial EndpointParams: ${(0,hm.toDebugString)(c)}`);let h=Object.entries(d).filter(([,b])=>b.default!=null).map(([b,_])=>[b,_.default]);if(h.length>0)for(let[b,_]of h)c[b]=(s=c[b])!==null&&s!==void 0?s:_;let y=Object.entries(d).filter(([,b])=>b.required).map(([b])=>b);for(let b of y)if(c[b]==null)throw new uB.EndpointError(`Missing required parameter: '${b}'`);let w=(0,lB.evaluateRules)(p,{endpointParams:c,logger:u,referenceRecord:{}});if(!((o=t.endpointParams)===null||o===void 0)&&o.Endpoint)try{let b=new URL(t.endpointParams.Endpoint),{protocol:_,port:L}=b;w.url.protocol=_,w.url.port=L}catch{}return(a=(i=t.logger)===null||i===void 0?void 0:i.debug)===null||a===void 0||a.call(i,`${hm.debugId} Resolved endpoint: ${(0,hm.toDebugString)(w)}`),w};ym.resolveEndpoint=mB});var eo=l(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});var yg=A();yg.__exportStar(tg(),Na);yg.__exportStar(yA(),Na);yg.__exportStar(At(),Na)});var gA=l(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.UA_ESCAPE_CHAR=Qe.UA_VALUE_ESCAPE_REGEX=Qe.UA_NAME_ESCAPE_REGEX=Qe.UA_NAME_SEPARATOR=Qe.SPACE=Qe.X_AMZ_USER_AGENT=Qe.USER_AGENT=void 0;Qe.USER_AGENT="user-agent";Qe.X_AMZ_USER_AGENT="x-amz-user-agent";Qe.SPACE=" ";Qe.UA_NAME_SEPARATOR="/";Qe.UA_NAME_ESCAPE_REGEX=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g;Qe.UA_VALUE_ESCAPE_REGEX=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g;Qe.UA_ESCAPE_CHAR="-"});var EA=l(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.getUserAgentPlugin=sr.getUserAgentMiddlewareOptions=sr.userAgentMiddleware=void 0;var pB=eo(),fB=nt(),dt=gA(),_B=e=>(t,r)=>async n=>{var s,o;let{request:i}=n;if(!fB.HttpRequest.isInstance(i))return t(n);let{headers:a}=i,c=((s=r==null?void 0:r.userAgent)===null||s===void 0?void 0:s.map(gg))||[],u=(await e.defaultUserAgentProvider()).map(gg),d=((o=e==null?void 0:e.customUserAgent)===null||o===void 0?void 0:o.map(gg))||[],p=(0,pB.getUserAgentPrefix)(),h=(p?[p]:[]).concat([...u,...c,...d]).join(dt.SPACE),y=[...u.filter(w=>w.startsWith("aws-sdk-")),...d].join(dt.SPACE);return e.runtime!=="browser"?(y&&(a[dt.X_AMZ_USER_AGENT]=a[dt.X_AMZ_USER_AGENT]?`${a[dt.USER_AGENT]} ${y}`:y),a[dt.USER_AGENT]=h):a[dt.X_AMZ_USER_AGENT]=h,t({...n,request:i})};sr.userAgentMiddleware=_B;var gg=e=>{var t;let r=e[0].split(dt.UA_NAME_SEPARATOR).map(a=>a.replace(dt.UA_NAME_ESCAPE_REGEX,dt.UA_ESCAPE_CHAR)).join(dt.UA_NAME_SEPARATOR),n=(t=e[1])===null||t===void 0?void 0:t.replace(dt.UA_VALUE_ESCAPE_REGEX,dt.UA_ESCAPE_CHAR),s=r.indexOf(dt.UA_NAME_SEPARATOR),o=r.substring(0,s),i=r.substring(s+1);return o==="api"&&(i=i.toLowerCase()),[o,i,n].filter(a=>a&&a.length>0).reduce((a,c,u)=>{switch(u){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")};sr.getUserAgentMiddlewareOptions={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0};var hB=e=>({applyToStack:t=>{t.add((0,sr.userAgentMiddleware)(e),sr.getUserAgentMiddlewareOptions)}});sr.getUserAgentPlugin=hB});var qa=l(gm=>{"use strict";Object.defineProperty(gm,"__esModule",{value:!0});var vA=A();vA.__exportStar(ax(),gm);vA.__exportStar(EA(),gm)});var wA=l(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.booleanSelector=us.SelectorType=void 0;var yB;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(yB=us.SelectorType||(us.SelectorType={}));var gB=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}};us.booleanSelector=gB});var vg=l(Eg=>{"use strict";Object.defineProperty(Eg,"__esModule",{value:!0});var EB=A();EB.__exportStar(wA(),Eg)});var SA=l(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=Tt.DEFAULT_USE_DUALSTACK_ENDPOINT=Tt.CONFIG_USE_DUALSTACK_ENDPOINT=Tt.ENV_USE_DUALSTACK_ENDPOINT=void 0;var Em=vg();Tt.ENV_USE_DUALSTACK_ENDPOINT="AWS_USE_DUALSTACK_ENDPOINT";Tt.CONFIG_USE_DUALSTACK_ENDPOINT="use_dualstack_endpoint";Tt.DEFAULT_USE_DUALSTACK_ENDPOINT=!1;Tt.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:e=>(0,Em.booleanSelector)(e,Tt.ENV_USE_DUALSTACK_ENDPOINT,Em.SelectorType.ENV),configFileSelector:e=>(0,Em.booleanSelector)(e,Tt.CONFIG_USE_DUALSTACK_ENDPOINT,Em.SelectorType.CONFIG),default:!1}});var bA=l(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=Rt.DEFAULT_USE_FIPS_ENDPOINT=Rt.CONFIG_USE_FIPS_ENDPOINT=Rt.ENV_USE_FIPS_ENDPOINT=void 0;var vm=vg();Rt.ENV_USE_FIPS_ENDPOINT="AWS_USE_FIPS_ENDPOINT";Rt.CONFIG_USE_FIPS_ENDPOINT="use_fips_endpoint";Rt.DEFAULT_USE_FIPS_ENDPOINT=!1;Rt.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:e=>(0,vm.booleanSelector)(e,Rt.ENV_USE_FIPS_ENDPOINT,vm.SelectorType.ENV),configFileSelector:e=>(0,vm.booleanSelector)(e,Rt.CONFIG_USE_FIPS_ENDPOINT,vm.SelectorType.CONFIG),default:!1}});var CA=l(wm=>{"use strict";Object.defineProperty(wm,"__esModule",{value:!0});wm.resolveCustomEndpointsConfig=void 0;var PA=ss(),vB=e=>{var t,r;let{endpoint:n,urlParser:s}=e;return{...e,tls:(t=e.tls)!==null&&t!==void 0?t:!0,endpoint:(0,PA.normalizeProvider)(typeof n=="string"?s(n):n),isCustomEndpoint:!0,useDualstackEndpoint:(0,PA.normalizeProvider)((r=e.useDualstackEndpoint)!==null&&r!==void 0?r:!1)}};wm.resolveCustomEndpointsConfig=vB});var xA=l(Sm=>{"use strict";Object.defineProperty(Sm,"__esModule",{value:!0});Sm.getEndpointFromRegion=void 0;var wB=async e=>{var t;let{tls:r=!0}=e,n=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(n))throw new Error("Invalid region in client config");let o=await e.useDualstackEndpoint(),i=await e.useFipsEndpoint(),{hostname:a}=(t=await e.regionInfoProvider(n,{useDualstackEndpoint:o,useFipsEndpoint:i}))!==null&&t!==void 0?t:{};if(!a)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${r?"https:":"http:"}//${a}`)};Sm.getEndpointFromRegion=wB});var AA=l(bm=>{"use strict";Object.defineProperty(bm,"__esModule",{value:!0});bm.resolveEndpointsConfig=void 0;var OA=ss(),SB=xA(),bB=e=>{var t,r;let n=(0,OA.normalizeProvider)((t=e.useDualstackEndpoint)!==null&&t!==void 0?t:!1),{endpoint:s,useFipsEndpoint:o,urlParser:i}=e;return{...e,tls:(r=e.tls)!==null&&r!==void 0?r:!0,endpoint:s?(0,OA.normalizeProvider)(typeof s=="string"?i(s):s):()=>(0,SB.getEndpointFromRegion)({...e,useDualstackEndpoint:n,useFipsEndpoint:o}),isCustomEndpoint:!!s,useDualstackEndpoint:n}};bm.resolveEndpointsConfig=bB});var TA=l(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});var Pm=A();Pm.__exportStar(SA(),to);Pm.__exportStar(bA(),to);Pm.__exportStar(CA(),to);Pm.__exportStar(AA(),to)});var RA=l(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.NODE_REGION_CONFIG_FILE_OPTIONS=It.NODE_REGION_CONFIG_OPTIONS=It.REGION_INI_NAME=It.REGION_ENV_NAME=void 0;It.REGION_ENV_NAME="AWS_REGION";It.REGION_INI_NAME="region";It.NODE_REGION_CONFIG_OPTIONS={environmentVariableSelector:e=>e[It.REGION_ENV_NAME],configFileSelector:e=>e[It.REGION_INI_NAME],default:()=>{throw new Error("Region is missing")}};It.NODE_REGION_CONFIG_FILE_OPTIONS={preferredFile:"credentials"}});var wg=l(Cm=>{"use strict";Object.defineProperty(Cm,"__esModule",{value:!0});Cm.isFipsRegion=void 0;var PB=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"));Cm.isFipsRegion=PB});var IA=l(xm=>{"use strict";Object.defineProperty(xm,"__esModule",{value:!0});xm.getRealRegion=void 0;var CB=wg(),xB=e=>(0,CB.isFipsRegion)(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;xm.getRealRegion=xB});var qA=l(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});Om.resolveRegionConfig=void 0;var NA=IA(),OB=wg(),AB=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return(0,NA.getRealRegion)(t);let n=await t();return(0,NA.getRealRegion)(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return(0,OB.isFipsRegion)(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};Om.resolveRegionConfig=AB});var kA=l(Am=>{"use strict";Object.defineProperty(Am,"__esModule",{value:!0});var DA=A();DA.__exportStar(RA(),Am);DA.__exportStar(qA(),Am)});var FA=l(MA=>{"use strict";Object.defineProperty(MA,"__esModule",{value:!0})});var LA=l(jA=>{"use strict";Object.defineProperty(jA,"__esModule",{value:!0})});var UA=l(Tm=>{"use strict";Object.defineProperty(Tm,"__esModule",{value:!0});Tm.getHostnameFromVariants=void 0;var TB=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>{var n;return(n=e.find(({tags:s})=>t===s.includes("fips")&&r===s.includes("dualstack")))===null||n===void 0?void 0:n.hostname};Tm.getHostnameFromVariants=TB});var zA=l(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});Rm.getResolvedHostname=void 0;var RB=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0);Rm.getResolvedHostname=RB});var $A=l(Im=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});Im.getResolvedPartition=void 0;var IB=(e,{partitionHash:t})=>{var r;return(r=Object.keys(t||{}).find(n=>t[n].regions.includes(e)))!==null&&r!==void 0?r:"aws"};Im.getResolvedPartition=IB});var BA=l(Nm=>{"use strict";Object.defineProperty(Nm,"__esModule",{value:!0});Nm.getResolvedSigningRegion=void 0;var NB=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(s);if(o)return o[0].slice(1,-1)}};Nm.getResolvedSigningRegion=NB});var HA=l(qm=>{"use strict";Object.defineProperty(qm,"__esModule",{value:!0});qm.getRegionInfo=void 0;var VA=UA(),qB=zA(),DB=$A(),kB=BA(),MB=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:o})=>{var i,a,c,u,d,p;let h=(0,DB.getResolvedPartition)(e,{partitionHash:o}),y=e in s?e:(a=(i=o[h])===null||i===void 0?void 0:i.endpoint)!==null&&a!==void 0?a:e,w={useFipsEndpoint:t,useDualstackEndpoint:r},b=(0,VA.getHostnameFromVariants)((c=s[y])===null||c===void 0?void 0:c.variants,w),_=(0,VA.getHostnameFromVariants)((u=o[h])===null||u===void 0?void 0:u.variants,w),L=(0,qB.getResolvedHostname)(y,{regionHostname:b,partitionHostname:_});if(L===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:y,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let V=(0,kB.getResolvedSigningRegion)(L,{signingRegion:(d=s[y])===null||d===void 0?void 0:d.signingRegion,regionRegex:o[h].regionRegex,useFipsEndpoint:t});return{partition:h,signingService:n,hostname:L,...V&&{signingRegion:V},...((p=s[y])===null||p===void 0?void 0:p.signingService)&&{signingService:s[y].signingService}}};qm.getRegionInfo=MB});var GA=l(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});var Sg=A();Sg.__exportStar(FA(),Da);Sg.__exportStar(LA(),Da);Sg.__exportStar(HA(),Da)});var or=l(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});var bg=A();bg.__exportStar(TA(),ka);bg.__exportStar(kA(),ka);bg.__exportStar(GA(),ka)});var Ma=l(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.getContentLengthPlugin=Lr.contentLengthMiddlewareOptions=Lr.contentLengthMiddleware=void 0;var FB=nt(),WA="content-length";function KA(e){return t=>async r=>{let n=r.request;if(FB.HttpRequest.isInstance(n)){let{body:s,headers:o}=n;if(s&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(WA)===-1)try{let i=e(s);n.headers={...n.headers,[WA]:String(i)}}catch{}}return t({...r,request:n})}}Lr.contentLengthMiddleware=KA;Lr.contentLengthMiddlewareOptions={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0};var jB=e=>({applyToStack:t=>{t.add(KA(e.bodyLengthChecker),Lr.contentLengthMiddlewareOptions)}});Lr.getContentLengthPlugin=jB});var YA=l(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.isArnBucketName=ut.isDnsCompatibleBucketName=ut.S3_HOSTNAME_PATTERN=ut.DOT_PATTERN=ut.resolveParamsForS3=void 0;var LB=async e=>{let t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),(0,ut.isArnBucketName)(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!(0,ut.isDnsCompatibleBucketName)(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e};ut.resolveParamsForS3=LB;var UB=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,zB=/(\d+\.){3}\d+/,$B=/\.\./;ut.DOT_PATTERN=/\./;ut.S3_HOSTNAME_PATTERN=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./;var BB=e=>UB.test(e)&&!zB.test(e)&&!$B.test(e);ut.isDnsCompatibleBucketName=BB;var VB=e=>{let[t,r,n,s,o,i]=e.split(":"),a=t==="arn"&&e.split(":").length>=6,c=[t,r,n,o,i].filter(Boolean).length===5;if(a&&!c)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return t==="arn"&&!!r&&!!n&&!!o&&!!i};ut.isArnBucketName=VB});var QA=l(Pg=>{"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});var HB=A();HB.__exportStar(YA(),Pg)});var XA=l(Dm=>{"use strict";Object.defineProperty(Dm,"__esModule",{value:!0});Dm.createConfigValueProvider=void 0;var GB=(e,t,r)=>{let n=async()=>{var s;let o=(s=r[e])!==null&&s!==void 0?s:r[t];return typeof o=="function"?o():o};return e==="endpoint"||t==="endpoint"?async()=>{let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:i,port:a,path:c}=s;return`${o}//${i}${a?":"+a:""}${c}`}}return s}:n};Dm.createConfigValueProvider=GB});var Cg=l(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.resolveParams=ls.getEndpointFromInstructions=void 0;var WB=QA(),KB=XA(),YB=async(e,t,r,n)=>{let s=await(0,ls.resolveParams)(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)};ls.getEndpointFromInstructions=YB;var QB=async(e,t,r)=>{var n;let s={},o=((n=t==null?void 0:t.getEndpointParameterInstructions)===null||n===void 0?void 0:n.call(t))||{};for(let[i,a]of Object.entries(o))switch(a.type){case"staticContextParams":s[i]=a.value;break;case"contextParams":s[i]=e[a.name];break;case"clientContextParams":case"builtInParams":s[i]=await(0,KB.createConfigValueProvider)(a.name,i,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(o).length===0&&Object.assign(s,r),String(r.serviceId).toLowerCase()==="s3"&&await(0,WB.resolveParamsForS3)(s),s};ls.resolveParams=QB});var JA=l(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});km.parseQueryString=void 0;function XB(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}km.parseQueryString=XB});var ms=l(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.parseUrl=void 0;var JB=JA(),ZB=e=>{if(typeof e=="string")return(0,Fa.parseUrl)(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:o}=e,i;return o&&(i=(0,JB.parseQueryString)(o)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:i}};Fa.parseUrl=ZB});var xg=l(Mm=>{"use strict";Object.defineProperty(Mm,"__esModule",{value:!0});Mm.toEndpointV1=void 0;var ZA=ms(),eV=e=>typeof e=="object"?"url"in e?(0,ZA.parseUrl)(e.url):e:(0,ZA.parseUrl)(e);Mm.toEndpointV1=eV});var t1=l(Fm=>{"use strict";Object.defineProperty(Fm,"__esModule",{value:!0});var e1=A();e1.__exportStar(Cg(),Fm);e1.__exportStar(xg(),Fm)});var Og=l(jm=>{"use strict";Object.defineProperty(jm,"__esModule",{value:!0});jm.endpointMiddleware=void 0;var tV=Cg(),rV=({config:e,instructions:t})=>(r,n)=>async s=>{var o,i;let a=await(0,tV.getEndpointFromInstructions)(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=a,n.authSchemes=(o=a.properties)===null||o===void 0?void 0:o.authSchemes;let c=(i=n.authSchemes)===null||i===void 0?void 0:i[0];return c&&(n.signing_region=c.signingRegion,n.signing_service=c.signingName),r({...s})};jm.endpointMiddleware=rV});var Ag=l(Lm=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});Lm.deserializerMiddleware=void 0;var nV=(e,t)=>(r,n)=>async s=>{let{response:o}=await r(s);try{let i=await t(o,e);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+a}throw i}};Lm.deserializerMiddleware=nV});var Tg=l(Um=>{"use strict";Object.defineProperty(Um,"__esModule",{value:!0});Um.serializerMiddleware=void 0;var sV=(e,t)=>(r,n)=>async s=>{var o;let i=((o=n.endpointV2)===null||o===void 0?void 0:o.url)&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:i});return r({...s,request:a})};Um.serializerMiddleware=sV});var r1=l(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.getSerdePlugin=ir.serializerMiddlewareOption=ir.deserializerMiddlewareOption=void 0;var oV=Ag(),iV=Tg();ir.deserializerMiddlewareOption={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0};ir.serializerMiddlewareOption={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function aV(e,t,r){return{applyToStack:n=>{n.add((0,oV.deserializerMiddleware)(e,r),ir.deserializerMiddlewareOption),n.add((0,iV.serializerMiddleware)(e,t),ir.serializerMiddlewareOption)}}}ir.getSerdePlugin=aV});var k=l(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});var Rg=A();Rg.__exportStar(Ag(),ja);Rg.__exportStar(r1(),ja);Rg.__exportStar(Tg(),ja)});var n1=l(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.getEndpointPlugin=ps.endpointMiddlewareOptions=void 0;var cV=k(),dV=Og();ps.endpointMiddlewareOptions={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:cV.serializerMiddlewareOption.name};var uV=(e,t)=>({applyToStack:r=>{r.addRelativeTo((0,dV.endpointMiddleware)({config:e,instructions:t}),ps.endpointMiddlewareOptions)}});ps.getEndpointPlugin=uV});var s1=l(zm=>{"use strict";Object.defineProperty(zm,"__esModule",{value:!0});zm.resolveEndpointConfig=void 0;var Ig=ss(),lV=xg(),mV=e=>{var t,r,n;let s=(t=e.tls)!==null&&t!==void 0?t:!0,{endpoint:o}=e,i=o!=null?async()=>(0,lV.toEndpointV1)(await(0,Ig.normalizeProvider)(o)()):void 0;return{...e,endpoint:i,tls:s,isCustomEndpoint:!!o,useDualstackEndpoint:(0,Ig.normalizeProvider)((r=e.useDualstackEndpoint)!==null&&r!==void 0?r:!1),useFipsEndpoint:(0,Ig.normalizeProvider)((n=e.useFipsEndpoint)!==null&&n!==void 0?n:!1)}};zm.resolveEndpointConfig=mV});var i1=l(o1=>{"use strict";Object.defineProperty(o1,"__esModule",{value:!0})});var N=l(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});var La=A();La.__exportStar(t1(),fs);La.__exportStar(Og(),fs);La.__exportStar(n1(),fs);La.__exportStar(s1(),fs);La.__exportStar(i1(),fs)});var $m=l(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.DEFAULT_RETRY_MODE=Ur.DEFAULT_MAX_ATTEMPTS=Ur.RETRY_MODES=void 0;var a1;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(a1=Ur.RETRY_MODES||(Ur.RETRY_MODES={}));Ur.DEFAULT_MAX_ATTEMPTS=3;Ur.DEFAULT_RETRY_MODE=a1.STANDARD});var c1=l(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.NODEJS_TIMEOUT_ERROR_CODES=Nt.TRANSIENT_ERROR_STATUS_CODES=Nt.TRANSIENT_ERROR_CODES=Nt.THROTTLING_ERROR_CODES=Nt.CLOCK_SKEW_ERROR_CODES=void 0;Nt.CLOCK_SKEW_ERROR_CODES=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"];Nt.THROTTLING_ERROR_CODES=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"];Nt.TRANSIENT_ERROR_CODES=["TimeoutError","RequestTimeout","RequestTimeoutException"];Nt.TRANSIENT_ERROR_STATUS_CODES=[500,502,503,504];Nt.NODEJS_TIMEOUT_ERROR_CODES=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"]});var za=l(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.isServerError=Et.isTransientError=Et.isThrottlingError=Et.isClockSkewError=Et.isRetryableByTrait=void 0;var Ua=c1(),pV=e=>e.$retryable!==void 0;Et.isRetryableByTrait=pV;var fV=e=>Ua.CLOCK_SKEW_ERROR_CODES.includes(e.name);Et.isClockSkewError=fV;var _V=e=>{var t,r;return((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)===429||Ua.THROTTLING_ERROR_CODES.includes(e.name)||((r=e.$retryable)===null||r===void 0?void 0:r.throttling)==!0};Et.isThrottlingError=_V;var hV=e=>{var t;return Ua.TRANSIENT_ERROR_CODES.includes(e.name)||Ua.NODEJS_TIMEOUT_ERROR_CODES.includes((e==null?void 0:e.code)||"")||Ua.TRANSIENT_ERROR_STATUS_CODES.includes(((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)||0)};Et.isTransientError=hV;var yV=e=>{var t;if(((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!(0,Et.isTransientError)(e)}return!1};Et.isServerError=yV});var qg=l(Bm=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0});Bm.DefaultRateLimiter=void 0;var gV=za(),Ng=class{constructor(t){var r,n,s,o,i;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(r=t==null?void 0:t.beta)!==null&&r!==void 0?r:.7,this.minCapacity=(n=t==null?void 0:t.minCapacity)!==null&&n!==void 0?n:1,this.minFillRate=(s=t==null?void 0:t.minFillRate)!==null&&s!==void 0?s:.5,this.scaleConstant=(o=t==null?void 0:t.scaleConstant)!==null&&o!==void 0?o:.4,this.smooth=(i=t==null?void 0:t.smooth)!==null&&i!==void 0?i:.8;let a=this.getCurrentTimeInSeconds();this.lastThrottleTime=a,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(!!this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),(0,gV.isThrottlingError)(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};Bm.DefaultRateLimiter=Ng});var ro=l(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.REQUEST_HEADER=Fe.INVOCATION_ID_HEADER=Fe.NO_RETRY_INCREMENT=Fe.TIMEOUT_RETRY_COST=Fe.RETRY_COST=Fe.INITIAL_RETRY_TOKENS=Fe.THROTTLING_RETRY_DELAY_BASE=Fe.MAXIMUM_RETRY_DELAY=Fe.DEFAULT_RETRY_DELAY_BASE=void 0;Fe.DEFAULT_RETRY_DELAY_BASE=100;Fe.MAXIMUM_RETRY_DELAY=20*1e3;Fe.THROTTLING_RETRY_DELAY_BASE=500;Fe.INITIAL_RETRY_TOKENS=500;Fe.RETRY_COST=5;Fe.TIMEOUT_RETRY_COST=10;Fe.NO_RETRY_INCREMENT=1;Fe.INVOCATION_ID_HEADER="amz-sdk-invocation-id";Fe.REQUEST_HEADER="amz-sdk-request"});var u1=l(Vm=>{"use strict";Object.defineProperty(Vm,"__esModule",{value:!0});Vm.getDefaultRetryBackoffStrategy=void 0;var d1=ro(),EV=()=>{let e=d1.DEFAULT_RETRY_DELAY_BASE;return{computeNextBackoffDelay:n=>Math.floor(Math.min(d1.MAXIMUM_RETRY_DELAY,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}};Vm.getDefaultRetryBackoffStrategy=EV});var l1=l(Hm=>{"use strict";Object.defineProperty(Hm,"__esModule",{value:!0});Hm.createDefaultRetryToken=void 0;var vV=ro(),wV=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(vV.MAXIMUM_RETRY_DELAY,e),getRetryCost:()=>r});Hm.createDefaultRetryToken=wV});var Wm=l(Gm=>{"use strict";Object.defineProperty(Gm,"__esModule",{value:!0});Gm.StandardRetryStrategy=void 0;var Dg=$m(),gn=ro(),SV=u1(),m1=l1(),kg=class{constructor(t){this.maxAttempts=t,this.mode=Dg.RETRY_MODES.STANDARD,this.capacity=gn.INITIAL_RETRY_TOKENS,this.retryBackoffStrategy=(0,SV.getDefaultRetryBackoffStrategy)(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return(0,m1.createDefaultRetryToken)({retryDelay:gn.DEFAULT_RETRY_DELAY_BASE,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?gn.THROTTLING_RETRY_DELAY_BASE:gn.DEFAULT_RETRY_DELAY_BASE);let o=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(s);return this.capacity-=a,(0,m1.createDefaultRetryToken)({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){var r;this.capacity=Math.max(gn.INITIAL_RETRY_TOKENS,this.capacity+((r=t.getRetryCost())!==null&&r!==void 0?r:gn.NO_RETRY_INCREMENT))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Dg.DEFAULT_MAX_ATTEMPTS}`),Dg.DEFAULT_MAX_ATTEMPTS}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?gn.TIMEOUT_RETRY_COST:gn.RETRY_COST}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};Gm.StandardRetryStrategy=kg});var p1=l(Km=>{"use strict";Object.defineProperty(Km,"__esModule",{value:!0});Km.AdaptiveRetryStrategy=void 0;var bV=$m(),PV=qg(),CV=Wm(),Mg=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=bV.RETRY_MODES.ADAPTIVE;let{rateLimiter:n}=r!=null?r:{};this.rateLimiter=n!=null?n:new PV.DefaultRateLimiter,this.standardRetryStrategy=new CV.StandardRetryStrategy(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};Km.AdaptiveRetryStrategy=Mg});var f1=l(Ym=>{"use strict";Object.defineProperty(Ym,"__esModule",{value:!0});Ym.ConfiguredRetryStrategy=void 0;var xV=ro(),OV=Wm(),Fg=class extends OV.StandardRetryStrategy{constructor(t,r=xV.DEFAULT_RETRY_DELAY_BASE){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Ym.ConfiguredRetryStrategy=Fg});var h1=l(_1=>{"use strict";Object.defineProperty(_1,"__esModule",{value:!0})});var qt=l(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});var _s=A();_s.__exportStar(p1(),zr);_s.__exportStar(f1(),zr);_s.__exportStar(qg(),zr);_s.__exportStar(Wm(),zr);_s.__exportStar($m(),zr);_s.__exportStar(ro(),zr);_s.__exportStar(h1(),zr)});var Lg=l(jg=>{"use strict";Object.defineProperty(jg,"__esModule",{value:!0});jg.default=RV;var AV=TV(q("crypto"));function TV(e){return e&&e.__esModule?e:{default:e}}var Xm=new Uint8Array(256),Qm=Xm.length;function RV(){return Qm>Xm.length-16&&(AV.default.randomFillSync(Xm),Qm=0),Xm.slice(Qm,Qm+=16)}});var y1=l(Jm=>{"use strict";Object.defineProperty(Jm,"__esModule",{value:!0});Jm.default=void 0;var IV=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Jm.default=IV});var $a=l(Zm=>{"use strict";Object.defineProperty(Zm,"__esModule",{value:!0});Zm.default=void 0;var NV=qV(y1());function qV(e){return e&&e.__esModule?e:{default:e}}function DV(e){return typeof e=="string"&&NV.default.test(e)}var kV=DV;Zm.default=kV});var Ba=l(ep=>{"use strict";Object.defineProperty(ep,"__esModule",{value:!0});ep.default=void 0;var MV=FV($a());function FV(e){return e&&e.__esModule?e:{default:e}}var We=[];for(let e=0;e<256;++e)We.push((e+256).toString(16).substr(1));function jV(e,t=0){let r=(We[e[t+0]]+We[e[t+1]]+We[e[t+2]]+We[e[t+3]]+"-"+We[e[t+4]]+We[e[t+5]]+"-"+We[e[t+6]]+We[e[t+7]]+"-"+We[e[t+8]]+We[e[t+9]]+"-"+We[e[t+10]]+We[e[t+11]]+We[e[t+12]]+We[e[t+13]]+We[e[t+14]]+We[e[t+15]]).toLowerCase();if(!(0,MV.default)(r))throw TypeError("Stringified UUID is invalid");return r}var LV=jV;ep.default=LV});var v1=l(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});tp.default=void 0;var UV=E1(Lg()),zV=E1(Ba());function E1(e){return e&&e.__esModule?e:{default:e}}var g1,Ug,zg=0,$g=0;function $V(e,t,r){let n=t&&r||0,s=t||new Array(16);e=e||{};let o=e.node||g1,i=e.clockseq!==void 0?e.clockseq:Ug;if(o==null||i==null){let h=e.random||(e.rng||UV.default)();o==null&&(o=g1=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),i==null&&(i=Ug=(h[6]<<8|h[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:$g+1,u=a-zg+(c-$g)/1e4;if(u<0&&e.clockseq===void 0&&(i=i+1&16383),(u<0||a>zg)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");zg=a,$g=c,Ug=i,a+=122192928e5;let d=((a&268435455)*1e4+c)%4294967296;s[n++]=d>>>24&255,s[n++]=d>>>16&255,s[n++]=d>>>8&255,s[n++]=d&255;let p=a/4294967296*1e4&268435455;s[n++]=p>>>8&255,s[n++]=p&255,s[n++]=p>>>24&15|16,s[n++]=p>>>16&255,s[n++]=i>>>8|128,s[n++]=i&255;for(let h=0;h<6;++h)s[n+h]=o[h];return t||(0,zV.default)(s)}var BV=$V;tp.default=BV});var Bg=l(rp=>{"use strict";Object.defineProperty(rp,"__esModule",{value:!0});rp.default=void 0;var VV=HV($a());function HV(e){return e&&e.__esModule?e:{default:e}}function GV(e){if(!(0,VV.default)(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var WV=GV;rp.default=WV});var Vg=l(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.default=XV;hs.URL=hs.DNS=void 0;var KV=w1(Ba()),YV=w1(Bg());function w1(e){return e&&e.__esModule?e:{default:e}}function QV(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var S1="6ba7b810-9dad-11d1-80b4-00c04fd430c8";hs.DNS=S1;var b1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";hs.URL=b1;function XV(e,t,r){function n(s,o,i,a){if(typeof s=="string"&&(s=QV(s)),typeof o=="string"&&(o=(0,YV.default)(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+s.length);if(c.set(o),c.set(s,o.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,i){a=a||0;for(let u=0;u<16;++u)i[a+u]=c[u];return i}return(0,KV.default)(c)}try{n.name=e}catch{}return n.DNS=S1,n.URL=b1,n}});var P1=l(np=>{"use strict";Object.defineProperty(np,"__esModule",{value:!0});np.default=void 0;var JV=ZV(q("crypto"));function ZV(e){return e&&e.__esModule?e:{default:e}}function eH(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),JV.default.createHash("md5").update(e).digest()}var tH=eH;np.default=tH});var x1=l(sp=>{"use strict";Object.defineProperty(sp,"__esModule",{value:!0});sp.default=void 0;var rH=C1(Vg()),nH=C1(P1());function C1(e){return e&&e.__esModule?e:{default:e}}var sH=(0,rH.default)("v3",48,nH.default),oH=sH;sp.default=oH});var A1=l(op=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});op.default=void 0;var iH=O1(Lg()),aH=O1(Ba());function O1(e){return e&&e.__esModule?e:{default:e}}function cH(e,t,r){e=e||{};let n=e.random||(e.rng||iH.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return(0,aH.default)(n)}var dH=cH;op.default=dH});var T1=l(ip=>{"use strict";Object.defineProperty(ip,"__esModule",{value:!0});ip.default=void 0;var uH=lH(q("crypto"));function lH(e){return e&&e.__esModule?e:{default:e}}function mH(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),uH.default.createHash("sha1").update(e).digest()}var pH=mH;ip.default=pH});var I1=l(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.default=void 0;var fH=R1(Vg()),_H=R1(T1());function R1(e){return e&&e.__esModule?e:{default:e}}var hH=(0,fH.default)("v5",80,_H.default),yH=hH;ap.default=yH});var N1=l(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});cp.default=void 0;var gH="00000000-0000-0000-0000-000000000000";cp.default=gH});var q1=l(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.default=void 0;var EH=vH($a());function vH(e){return e&&e.__esModule?e:{default:e}}function wH(e){if(!(0,EH.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var SH=wH;dp.default=SH});var Hg=l(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Object.defineProperty(Vt,"v1",{enumerable:!0,get:function(){return bH.default}});Object.defineProperty(Vt,"v3",{enumerable:!0,get:function(){return PH.default}});Object.defineProperty(Vt,"v4",{enumerable:!0,get:function(){return CH.default}});Object.defineProperty(Vt,"v5",{enumerable:!0,get:function(){return xH.default}});Object.defineProperty(Vt,"NIL",{enumerable:!0,get:function(){return OH.default}});Object.defineProperty(Vt,"version",{enumerable:!0,get:function(){return AH.default}});Object.defineProperty(Vt,"validate",{enumerable:!0,get:function(){return TH.default}});Object.defineProperty(Vt,"stringify",{enumerable:!0,get:function(){return RH.default}});Object.defineProperty(Vt,"parse",{enumerable:!0,get:function(){return IH.default}});var bH=$r(v1()),PH=$r(x1()),CH=$r(A1()),xH=$r(I1()),OH=$r(N1()),AH=$r(q1()),TH=$r($a()),RH=$r(Ba()),IH=$r(Bg());function $r(e){return e&&e.__esModule?e:{default:e}}});var D1=l(up=>{"use strict";Object.defineProperty(up,"__esModule",{value:!0});up.getDefaultRetryQuota=void 0;var Gg=qt(),NH=(e,t)=>{var r,n,s;let o=e,i=(r=t==null?void 0:t.noRetryIncrement)!==null&&r!==void 0?r:Gg.NO_RETRY_INCREMENT,a=(n=t==null?void 0:t.retryCost)!==null&&n!==void 0?n:Gg.RETRY_COST,c=(s=t==null?void 0:t.timeoutRetryCost)!==null&&s!==void 0?s:Gg.TIMEOUT_RETRY_COST,u=e,d=w=>w.name==="TimeoutError"?c:a,p=w=>d(w)<=u;return Object.freeze({hasRetryTokens:p,retrieveRetryTokens:w=>{if(!p(w))throw new Error("No retry token available");let b=d(w);return u-=b,b},releaseRetryTokens:w=>{u+=w!=null?w:i,u=Math.min(u,o)}})};up.getDefaultRetryQuota=NH});var Wg=l(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.defaultDelayDecider=void 0;var qH=qt(),DH=(e,t)=>Math.floor(Math.min(qH.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e));lp.defaultDelayDecider=DH});var Kg=l(pp=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});pp.defaultRetryDecider=void 0;var mp=za(),kH=e=>e?(0,mp.isRetryableByTrait)(e)||(0,mp.isClockSkewError)(e)||(0,mp.isThrottlingError)(e)||(0,mp.isTransientError)(e):!1;pp.defaultRetryDecider=kH});var Yg=l(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});fp.asSdkError=void 0;var MH=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`);fp.asSdkError=MH});var Jg=l(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.StandardRetryStrategy=void 0;var Qg=nt(),FH=za(),ys=qt(),jH=Hg(),LH=D1(),UH=Wg(),zH=Kg(),$H=Yg(),Xg=class{constructor(t,r){var n,s,o;this.maxAttemptsProvider=t,this.mode=ys.RETRY_MODES.STANDARD,this.retryDecider=(n=r==null?void 0:r.retryDecider)!==null&&n!==void 0?n:zH.defaultRetryDecider,this.delayDecider=(s=r==null?void 0:r.delayDecider)!==null&&s!==void 0?s:UH.defaultDelayDecider,this.retryQuota=(o=r==null?void 0:r.retryQuota)!==null&&o!==void 0?o:(0,LH.getDefaultRetryQuota)(ys.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=ys.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let s,o=0,i=0,a=await this.getMaxAttempts(),{request:c}=r;for(Qg.HttpRequest.isInstance(c)&&(c.headers[ys.INVOCATION_ID_HEADER]=(0,jH.v4)());;)try{Qg.HttpRequest.isInstance(c)&&(c.headers[ys.REQUEST_HEADER]=`attempt=${o+1}; max=${a}`),n!=null&&n.beforeRequest&&await n.beforeRequest();let{response:u,output:d}=await t(r);return n!=null&&n.afterRequest&&n.afterRequest(u),this.retryQuota.releaseRetryTokens(s),d.$metadata.attempts=o+1,d.$metadata.totalRetryDelay=i,{response:u,output:d}}catch(u){let d=(0,$H.asSdkError)(u);if(o++,this.shouldRetry(d,o,a)){s=this.retryQuota.retrieveRetryTokens(d);let p=this.delayDecider((0,FH.isThrottlingError)(d)?ys.THROTTLING_RETRY_DELAY_BASE:ys.DEFAULT_RETRY_DELAY_BASE,o),h=BH(d.$response),y=Math.max(h||0,p);i+=y,await new Promise(w=>setTimeout(w,y));continue}throw d.$metadata||(d.$metadata={}),d.$metadata.attempts=o,d.$metadata.totalRetryDelay=i,d}}};_p.StandardRetryStrategy=Xg;var BH=e=>{if(!Qg.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3}});var M1=l(hp=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});hp.AdaptiveRetryStrategy=void 0;var k1=qt(),VH=Jg(),Zg=class extends VH.StandardRetryStrategy{constructor(t,r){let{rateLimiter:n,...s}=r!=null?r:{};super(t,s),this.rateLimiter=n!=null?n:new k1.DefaultRateLimiter,this.mode=k1.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}};hp.AdaptiveRetryStrategy=Zg});var j1=l(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.NODE_RETRY_MODE_CONFIG_OPTIONS=qe.CONFIG_RETRY_MODE=qe.ENV_RETRY_MODE=qe.resolveRetryConfig=qe.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=qe.CONFIG_MAX_ATTEMPTS=qe.ENV_MAX_ATTEMPTS=void 0;var F1=ss(),no=qt();qe.ENV_MAX_ATTEMPTS="AWS_MAX_ATTEMPTS";qe.CONFIG_MAX_ATTEMPTS="max_attempts";qe.NODE_MAX_ATTEMPT_CONFIG_OPTIONS={environmentVariableSelector:e=>{let t=e[qe.ENV_MAX_ATTEMPTS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${qe.ENV_MAX_ATTEMPTS} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[qe.CONFIG_MAX_ATTEMPTS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${qe.CONFIG_MAX_ATTEMPTS} mast be a number, got "${t}"`);return r},default:no.DEFAULT_MAX_ATTEMPTS};var HH=e=>{var t;let{retryStrategy:r}=e,n=(0,F1.normalizeProvider)((t=e.maxAttempts)!==null&&t!==void 0?t:no.DEFAULT_MAX_ATTEMPTS);return{...e,maxAttempts:n,retryStrategy:async()=>r||(await(0,F1.normalizeProvider)(e.retryMode)()===no.RETRY_MODES.ADAPTIVE?new no.AdaptiveRetryStrategy(n):new no.StandardRetryStrategy(n))}};qe.resolveRetryConfig=HH;qe.ENV_RETRY_MODE="AWS_RETRY_MODE";qe.CONFIG_RETRY_MODE="retry_mode";qe.NODE_RETRY_MODE_CONFIG_OPTIONS={environmentVariableSelector:e=>e[qe.ENV_RETRY_MODE],configFileSelector:e=>e[qe.CONFIG_RETRY_MODE],default:no.DEFAULT_RETRY_MODE}});var U1=l(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.getOmitRetryHeadersPlugin=ar.omitRetryHeadersMiddlewareOptions=ar.omitRetryHeadersMiddleware=void 0;var GH=nt(),L1=qt(),WH=()=>e=>async t=>{let{request:r}=t;return GH.HttpRequest.isInstance(r)&&(delete r.headers[L1.INVOCATION_ID_HEADER],delete r.headers[L1.REQUEST_HEADER]),e(t)};ar.omitRetryHeadersMiddleware=WH;ar.omitRetryHeadersMiddlewareOptions={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0};var KH=e=>({applyToStack:t=>{t.addRelativeTo((0,ar.omitRetryHeadersMiddleware)(),ar.omitRetryHeadersMiddlewareOptions)}});ar.getOmitRetryHeadersPlugin=KH});var $1=l(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.getRetryAfterHint=vt.getRetryPlugin=vt.retryMiddlewareOptions=vt.retryMiddleware=void 0;var tE=nt(),eE=za(),z1=qt(),YH=Hg(),QH=Yg(),XH=e=>(t,r)=>async n=>{let s=await e.retryStrategy(),o=await e.maxAttempts();if(JH(s)){s=s;let i=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,u=0,{request:d}=n;for(tE.HttpRequest.isInstance(d)&&(d.headers[z1.INVOCATION_ID_HEADER]=(0,YH.v4)());;)try{tE.HttpRequest.isInstance(d)&&(d.headers[z1.REQUEST_HEADER]=`attempt=${c+1}; max=${o}`);let{response:p,output:h}=await t(n);return s.recordSuccess(i),h.$metadata.attempts=c+1,h.$metadata.totalRetryDelay=u,{response:p,output:h}}catch(p){let h=ZH(p);a=(0,QH.asSdkError)(p);try{i=await s.refreshRetryTokenForRetry(i,h)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=u,a}c=i.getRetryCount();let y=i.getRetryDelay();u+=y,await new Promise(w=>setTimeout(w,y))}}else return s=s,s!=null&&s.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)};vt.retryMiddleware=XH;var JH=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",ZH=e=>{let t={errorType:e6(e)},r=(0,vt.getRetryAfterHint)(e.$response);return r&&(t.retryAfterHint=r),t},e6=e=>(0,eE.isThrottlingError)(e)?"THROTTLING":(0,eE.isTransientError)(e)?"TRANSIENT":(0,eE.isServerError)(e)?"SERVER_ERROR":"CLIENT_ERROR";vt.retryMiddlewareOptions={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0};var t6=e=>({applyToStack:t=>{t.add((0,vt.retryMiddleware)(e),vt.retryMiddlewareOptions)}});vt.getRetryPlugin=t6;var r6=e=>{if(!tE.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};vt.getRetryAfterHint=r6});var Vr=l(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});var gs=A();gs.__exportStar(M1(),Br);gs.__exportStar(Jg(),Br);gs.__exportStar(j1(),Br);gs.__exportStar(Wg(),Br);gs.__exportStar(U1(),Br);gs.__exportStar(Kg(),Br);gs.__exportStar($1(),Br)});var B1=l(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});yp.NoOpLogger=void 0;var rE=class{trace(){}debug(){}info(){}warn(){}error(){}};yp.NoOpLogger=rE});var G1=l(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.constructStack=void 0;var n6=()=>{let e=[],t=[],r=new Set,n=d=>d.sort((p,h)=>V1[h.step]-V1[p.step]||H1[h.priority||"normal"]-H1[p.priority||"normal"]),s=d=>{let p=!1,h=y=>y.name&&y.name===d?(p=!0,r.delete(d),!1):!0;return e=e.filter(h),t=t.filter(h),p},o=d=>{let p=!1,h=y=>y.middleware===d?(p=!0,y.name&&r.delete(y.name),!1):!0;return e=e.filter(h),t=t.filter(h),p},i=d=>(e.forEach(p=>{d.add(p.middleware,{...p})}),t.forEach(p=>{d.addRelativeTo(p.middleware,{...p})}),d),a=d=>{let p=[];return d.before.forEach(h=>{h.before.length===0&&h.after.length===0?p.push(h):p.push(...a(h))}),p.push(d),d.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?p.push(h):p.push(...a(h))}),p},c=(d=!1)=>{let p=[],h=[],y={};return e.forEach(b=>{let _={...b,before:[],after:[]};_.name&&(y[_.name]=_),p.push(_)}),t.forEach(b=>{let _={...b,before:[],after:[]};_.name&&(y[_.name]=_),h.push(_)}),h.forEach(b=>{if(b.toMiddleware){let _=y[b.toMiddleware];if(_===void 0){if(d)return;throw new Error(`${b.toMiddleware} is not found when adding ${b.name||"anonymous"} middleware ${b.relation} ${b.toMiddleware}`)}b.relation==="after"&&_.after.push(b),b.relation==="before"&&_.before.push(b)}}),n(p).map(a).reduce((b,_)=>(b.push(..._),b),[])},u={add:(d,p={})=>{let{name:h,override:y}=p,w={step:"initialize",priority:"normal",middleware:d,...p};if(h){if(r.has(h)){if(!y)throw new Error(`Duplicate middleware name '${h}'`);let b=e.findIndex(L=>L.name===h),_=e[b];if(_.step!==w.step||_.priority!==w.priority)throw new Error(`"${h}" middleware with ${_.priority} priority in ${_.step} step cannot be overridden by same-name middleware with ${w.priority} priority in ${w.step} step.`);e.splice(b,1)}r.add(h)}e.push(w)},addRelativeTo:(d,p)=>{let{name:h,override:y}=p,w={middleware:d,...p};if(h){if(r.has(h)){if(!y)throw new Error(`Duplicate middleware name '${h}'`);let b=t.findIndex(L=>L.name===h),_=t[b];if(_.toMiddleware!==w.toMiddleware||_.relation!==w.relation)throw new Error(`"${h}" middleware ${_.relation} "${_.toMiddleware}" middleware cannot be overridden by same-name middleware ${w.relation} "${w.toMiddleware}" middleware.`);t.splice(b,1)}r.add(h)}t.push(w)},clone:()=>i((0,so.constructStack)()),use:d=>{d.applyToStack(u)},remove:d=>typeof d=="string"?s(d):o(d),removeByTag:d=>{let p=!1,h=y=>{let{tags:w,name:b}=y;return w&&w.includes(d)?(b&&r.delete(b),p=!0,!1):!0};return e=e.filter(h),t=t.filter(h),p},concat:d=>{let p=i((0,so.constructStack)());return p.use(d),p},applyToStack:i,identify:()=>c(!0).map(d=>d.name+": "+(d.tags||[]).join(",")),resolve:(d,p)=>{for(let h of c().map(y=>y.middleware).reverse())d=h(d,p);return d}};return u};so.constructStack=n6;var V1={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},H1={high:3,normal:2,low:1}});var sE=l(nE=>{"use strict";Object.defineProperty(nE,"__esModule",{value:!0});var s6=A();s6.__exportStar(G1(),nE)});var W1=l(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});gp.Client=void 0;var o6=sE(),oE=class{constructor(t){this.middlewareStack=(0,o6.constructStack)(),this.config=t}send(t,r,n){let s=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,i=t.resolveMiddleware(this.middlewareStack,this.config,s);if(o)i(t).then(a=>o(null,a.output),a=>o(a)).catch(()=>{});else return i(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};gp.Client=oE});var K1=l(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.fromBase64=void 0;var i6=os(),a6=/^[A-Za-z0-9+/]*={0,2}$/,c6=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!a6.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,i6.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Ep.fromBase64=c6});var Y1=l(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});vp.toBase64=void 0;var d6=os(),u6=e=>(0,d6.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("base64");vp.toBase64=u6});var oo=l(wp=>{"use strict";Object.defineProperty(wp,"__esModule",{value:!0});var Q1=A();Q1.__exportStar(K1(),wp);Q1.__exportStar(Y1(),wp)});var eT=l(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.transformFromString=io.transformToString=void 0;var J1=oo(),Z1=rr(),X1=iE();function l6(e,t="utf-8"){return t==="base64"?(0,J1.toBase64)(e):(0,Z1.toUtf8)(e)}io.transformToString=l6;function m6(e,t){return t==="base64"?X1.Uint8ArrayBlobAdapter.mutate((0,J1.fromBase64)(e)):X1.Uint8ArrayBlobAdapter.mutate((0,Z1.fromUtf8)(e))}io.transformFromString=m6});var iE=l(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.Uint8ArrayBlobAdapter=void 0;var tT=eT(),Va=class extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return(0,tT.transformFromString)(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,Va.prototype),t}transformToString(t="utf-8"){return(0,tT.transformToString)(this,t)}};Sp.Uint8ArrayBlobAdapter=Va});var rT=l(bp=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});bp.getAwsChunkedEncodingStream=void 0;var p6=q("stream"),f6=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:i}=t,a=r!==void 0&&s!==void 0&&o!==void 0&&i!==void 0,c=a?i(s,e):void 0,u=new p6.Readable({read:()=>{}});return e.on("data",d=>{let p=n(d)||0;u.push(`${p.toString(16)}\r
`),u.push(d),u.push(`\r
`)}),e.on("end",async()=>{if(u.push(`0\r
`),a){let d=r(await c);u.push(`${o}:${d}\r
`),u.push(`\r
`)}u.push(null)}),u};bp.getAwsChunkedEncodingStream=f6});var cE=l(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});Pp.buildQueryString=void 0;var aE=Hy();function _6(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=(0,aE.escapeUri)(r),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)t.push(`${r}=${(0,aE.escapeUri)(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${(0,aE.escapeUri)(n)}`),t.push(s)}}return t.join("&")}Pp.buildQueryString=_6});var nT=l(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.NODEJS_TIMEOUT_ERROR_CODES=void 0;Cp.NODEJS_TIMEOUT_ERROR_CODES=["ECONNRESET","EPIPE","ETIMEDOUT"]});var dE=l(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});xp.getTransformedHeaders=void 0;var h6=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t};xp.getTransformedHeaders=h6});var sT=l(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});Op.setConnectionTimeout=void 0;var y6=(e,t,r=0)=>{if(!r)return;let n=setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);e.on("socket",s=>{s.connecting?s.on("connect",()=>{clearTimeout(n)}):clearTimeout(n)})};Op.setConnectionTimeout=y6});var oT=l(Ap=>{"use strict";Object.defineProperty(Ap,"__esModule",{value:!0});Ap.setSocketKeepAlive=void 0;var g6=(e,{keepAlive:t,keepAliveMsecs:r})=>{t===!0&&e.on("socket",n=>{n.setKeepAlive(t,r||0)})};Ap.setSocketKeepAlive=g6});var iT=l(Tp=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});Tp.setSocketTimeout=void 0;var E6=(e,t,r=0)=>{e.setTimeout(r,()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})};Tp.setSocketTimeout=E6});var uE=l(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});Rp.writeRequestBody=void 0;var v6=q("stream"),aT=1e3;async function w6(e,t,r=aT){var n;let s=(n=t.headers)!==null&&n!==void 0?n:{},o=s.Expect||s.expect,i=-1,a=!1;o==="100-continue"&&await Promise.race([new Promise(c=>{i=Number(setTimeout(c,Math.max(aT,r)))}),new Promise(c=>{e.on("continue",()=>{clearTimeout(i),c()}),e.on("error",()=>{a=!0,clearTimeout(i),c()})})]),a||S6(e,t.body)}Rp.writeRequestBody=w6;function S6(e,t){t instanceof v6.Readable?t.pipe(e):t?e.end(Buffer.from(t)):e.end()}});var uT=l(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.NodeHttpHandler=ao.DEFAULT_REQUEST_TIMEOUT=void 0;var b6=nt(),P6=cE(),cT=q("http"),dT=q("https"),C6=nT(),x6=dE(),O6=sT(),A6=oT(),T6=iT(),R6=uE();ao.DEFAULT_REQUEST_TIMEOUT=0;var lE=class{constructor(t){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,httpAgent:o,httpsAgent:i}=t||{},a=!0,c=50;return{connectionTimeout:n,requestTimeout:r!=null?r:s,httpAgent:o||new cT.Agent({keepAlive:a,maxSockets:c}),httpsAgent:i||new dT.Agent({keepAlive:a,maxSockets:c})}}destroy(){var t,r,n,s;(r=(t=this.config)===null||t===void 0?void 0:t.httpAgent)===null||r===void 0||r.destroy(),(s=(n=this.config)===null||n===void 0?void 0:n.httpsAgent)===null||s===void 0||s.destroy()}async handle(t,{abortSignal:r}={}){return this.config||(this.config=await this.configProvider),new Promise((n,s)=>{var o,i;let a,c=async V=>{await a,n(V)},u=async V=>{await a,s(V)};if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r!=null&&r.aborted){let V=new Error("Request aborted");V.name="AbortError",u(V);return}let d=t.protocol==="https:",p=(0,P6.buildQueryString)(t.query||{}),h;if(t.username!=null||t.password!=null){let V=(o=t.username)!==null&&o!==void 0?o:"",pe=(i=t.password)!==null&&i!==void 0?i:"";h=`${V}:${pe}`}let y=t.path;p&&(y+=`?${p}`),t.fragment&&(y+=`#${t.fragment}`);let w={headers:t.headers,host:t.hostname,method:t.method,path:y,port:t.port,agent:d?this.config.httpsAgent:this.config.httpAgent,auth:h},_=(d?dT.request:cT.request)(w,V=>{let pe=new b6.HttpResponse({statusCode:V.statusCode||-1,reason:V.statusMessage,headers:(0,x6.getTransformedHeaders)(V.headers),body:V});c({response:pe})});_.on("error",V=>{C6.NODEJS_TIMEOUT_ERROR_CODES.includes(V.code)?u(Object.assign(V,{name:"TimeoutError"})):u(V)}),(0,O6.setConnectionTimeout)(_,u,this.config.connectionTimeout),(0,T6.setSocketTimeout)(_,u,this.config.requestTimeout),r&&(r.onabort=()=>{_.abort();let V=new Error("Request aborted");V.name="AbortError",u(V)});let L=w.agent;typeof L=="object"&&"keepAlive"in L&&(0,A6.setSocketKeepAlive)(_,{keepAlive:L.keepAlive,keepAliveMsecs:L.keepAliveMsecs}),a=(0,R6.writeRequestBody)(_,t,this.config.requestTimeout).catch(s)})}};ao.NodeHttpHandler=lE});var lT=l(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});Ip.NodeHttp2ConnectionPool=void 0;var mE=class{constructor(t){this.sessions=[],this.sessions=t!=null?t:[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}};Ip.NodeHttp2ConnectionPool=mE});var mT=l(Np=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});Np.NodeHttp2ConnectionManager=void 0;var I6=A(),N6=I6.__importDefault(q("http2")),q6=lT(),pE=class{constructor(t){if(this.sessionCache=new Map,this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(t,r){let n=this.getUrlString(t),s=this.sessionCache.get(n);if(s){let c=s.poll();if(c&&!this.config.disableConcurrency)return c}let o=N6.default.connect(n);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),o.unref();let i=()=>{o.destroy(),this.deleteSession(n,o)};o.on("goaway",i),o.on("error",i),o.on("frameError",i),o.on("close",()=>this.deleteSession(n,o)),r.requestTimeout&&o.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new q6.NodeHttp2ConnectionPool;return a.offerLast(o),this.sessionCache.set(n,a),o}deleteSession(t,r){let n=this.sessionCache.get(t);!n||!n.contains(r)||(n.remove(r),this.sessionCache.set(t,n))}release(t,r){var n;let s=this.getUrlString(t);(n=this.sessionCache.get(s))===null||n===void 0||n.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}};Np.NodeHttp2ConnectionManager=pE});var fT=l(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});qp.NodeHttp2Handler=void 0;var D6=nt(),k6=cE(),pT=q("http2"),M6=dE(),F6=mT(),j6=uE(),fE=class{constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new F6.NodeHttp2ConnectionManager({}),this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:s}=this.config;return new Promise((o,i)=>{var a,c,u;let d=!1,p,h=async xe=>{await p,o(xe)},y=async xe=>{await p,i(xe)};if(r!=null&&r.aborted){d=!0;let xe=new Error("Request aborted");xe.name="AbortError",y(xe);return}let{hostname:w,method:b,port:_,protocol:L,query:V}=t,pe="";if(t.username!=null||t.password!=null){let xe=(a=t.username)!==null&&a!==void 0?a:"",Ir=(c=t.password)!==null&&c!==void 0?c:"";pe=`${xe}:${Ir}@`}let tt=`${L}//${pe}${w}${_?`:${_}`:""}`,he={destination:new URL(tt)},Qt=this.connectionManager.lease(he,{requestTimeout:(u=this.config)===null||u===void 0?void 0:u.sessionTimeout,disableConcurrentStreams:s||!1}),Xt=xe=>{s&&this.destroySession(Qt),d=!0,y(xe)},Wn=(0,k6.buildQueryString)(V||{}),dn=t.path;Wn&&(dn+=`?${Wn}`),t.fragment&&(dn+=`#${t.fragment}`);let se=Qt.request({...t.headers,[pT.constants.HTTP2_HEADER_PATH]:dn,[pT.constants.HTTP2_HEADER_METHOD]:b});Qt.ref(),se.on("response",xe=>{let Ir=new D6.HttpResponse({statusCode:xe[":status"]||-1,headers:(0,M6.getTransformedHeaders)(xe),body:se});d=!0,h({response:Ir}),s&&(Qt.close(),this.connectionManager.deleteSession(tt,Qt))}),n&&se.setTimeout(n,()=>{se.close();let xe=new Error(`Stream timed out because of no activity for ${n} ms`);xe.name="TimeoutError",Xt(xe)}),r&&(r.onabort=()=>{se.close();let xe=new Error("Request aborted");xe.name="AbortError",Xt(xe)}),se.on("frameError",(xe,Ir,Ds)=>{Xt(new Error(`Frame type id ${xe} in stream id ${Ds} has failed with code ${Ir}.`))}),se.on("error",Xt),se.on("aborted",()=>{Xt(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${se.rstCode}.`))}),se.on("close",()=>{Qt.unref(),s&&Qt.destroy(),d||Xt(new Error("Unexpected error: http2 request did not get a response"))}),p=(0,j6.writeRequestBody)(se,t,n)})}destroySession(t){t.destroyed||t.destroy()}};qp.NodeHttp2Handler=fE});var _T=l(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.Collector=void 0;var L6=q("stream"),_E=class extends L6.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};Dp.Collector=_E});var hT=l(kp=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});kp.streamCollector=void 0;var U6=_T(),z6=e=>new Promise((t,r)=>{let n=new U6.Collector;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})});kp.streamCollector=z6});var co=l(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});var hE=A();hE.__exportStar(uT(),Ha);hE.__exportStar(fT(),Ha);hE.__exportStar(hT(),Ha)});var gT=l(Mp=>{"use strict";Object.defineProperty(Mp,"__esModule",{value:!0});Mp.sdkStreamMixin=void 0;var $6=co(),B6=os(),yE=q("stream"),V6=q("util"),yT="The stream has already been transformed.",H6=e=>{var t,r;if(!(e instanceof yE.Readable)){let o=((r=(t=e==null?void 0:e.__proto__)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let n=!1,s=async()=>{if(n)throw new Error(yT);return n=!0,await(0,$6.streamCollector)(e)};return Object.assign(e,{transformToByteArray:s,transformToString:async o=>{let i=await s();return o===void 0||Buffer.isEncoding(o)?(0,B6.fromArrayBuffer)(i.buffer,i.byteOffset,i.byteLength).toString(o):new V6.TextDecoder(o).decode(i)},transformToWebStream:()=>{if(n)throw new Error(yT);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof yE.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return n=!0,yE.Readable.toWeb(e)}})};Mp.sdkStreamMixin=H6});var EE=l(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});var gE=A();gE.__exportStar(iE(),Ga);gE.__exportStar(rT(),Ga);gE.__exportStar(gT(),Ga)});var ET=l(Fp=>{"use strict";Object.defineProperty(Fp,"__esModule",{value:!0});Fp.collectBody=void 0;var vE=EE(),G6=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return vE.Uint8ArrayBlobAdapter.mutate(e);if(!e)return vE.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return vE.Uint8ArrayBlobAdapter.mutate(await r)};Fp.collectBody=G6});var vT=l(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});jp.Command=void 0;var W6=sE(),wE=class{constructor(){this.middlewareStack=(0,W6.constructStack)()}};jp.Command=wE});var wT=l(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.SENSITIVE_STRING=void 0;Lp.SENSITIVE_STRING="***SensitiveInformation***"});var ST=l(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});Up.createAggregatedClient=void 0;var K6=(e,t)=>{for(let r of Object.keys(e)){let n=e[r],s=async function(i,a,c){let u=new n(i);if(typeof a=="function")this.send(u,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(u,a||{},c)}else return this.send(u,a)},o=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[o]=s}};Up.createAggregatedClient=K6});var bE=l(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.logger=O.strictParseByte=O.strictParseShort=O.strictParseInt32=O.strictParseInt=O.strictParseLong=O.limitedParseFloat32=O.limitedParseFloat=O.handleFloat=O.limitedParseDouble=O.strictParseFloat32=O.strictParseFloat=O.strictParseDouble=O.expectUnion=O.expectString=O.expectObject=O.expectNonNull=O.expectByte=O.expectShort=O.expectInt32=O.expectInt=O.expectLong=O.expectFloat32=O.expectNumber=O.expectBoolean=O.parseBoolean=void 0;var Y6=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}};O.parseBoolean=Y6;var Q6=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&O.logger.warn(zp(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&O.logger.warn(zp(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}};O.expectBoolean=Q6;var X6=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&O.logger.warn(zp(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}};O.expectNumber=X6;var J6=Math.ceil(2**127*(2-2**-23)),Z6=e=>{let t=(0,O.expectNumber)(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>J6)throw new TypeError(`Expected 32-bit float, got ${e}`);return t};O.expectFloat32=Z6;var eG=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}};O.expectLong=eG;O.expectInt=O.expectLong;var tG=e=>SE(e,32);O.expectInt32=tG;var rG=e=>SE(e,16);O.expectShort=rG;var nG=e=>SE(e,8);O.expectByte=nG;var SE=(e,t)=>{let r=(0,O.expectLong)(e);if(r!==void 0&&sG(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},sG=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},oG=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e};O.expectNonNull=oG;var iG=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)};O.expectObject=iG;var aG=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return O.logger.warn(zp(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}};O.expectString=aG;var cG=e=>{if(e==null)return;let t=(0,O.expectObject)(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t};O.expectUnion=cG;var dG=e=>typeof e=="string"?(0,O.expectNumber)(uo(e)):(0,O.expectNumber)(e);O.strictParseDouble=dG;O.strictParseFloat=O.strictParseDouble;var uG=e=>typeof e=="string"?(0,O.expectFloat32)(uo(e)):(0,O.expectFloat32)(e);O.strictParseFloat32=uG;var lG=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,uo=e=>{let t=e.match(lG);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},mG=e=>typeof e=="string"?bT(e):(0,O.expectNumber)(e);O.limitedParseDouble=mG;O.handleFloat=O.limitedParseDouble;O.limitedParseFloat=O.limitedParseDouble;var pG=e=>typeof e=="string"?bT(e):(0,O.expectFloat32)(e);O.limitedParseFloat32=pG;var bT=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},fG=e=>typeof e=="string"?(0,O.expectLong)(uo(e)):(0,O.expectLong)(e);O.strictParseLong=fG;O.strictParseInt=O.strictParseLong;var _G=e=>typeof e=="string"?(0,O.expectInt32)(uo(e)):(0,O.expectInt32)(e);O.strictParseInt32=_G;var hG=e=>typeof e=="string"?(0,O.expectShort)(uo(e)):(0,O.expectShort)(e);O.strictParseShort=hG;var yG=e=>typeof e=="string"?(0,O.expectByte)(uo(e)):(0,O.expectByte)(e);O.strictParseByte=yG;var zp=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`);O.logger={warn:console.warn}});var PT=l(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.parseEpochTimestamp=Dt.parseRfc7231DateTime=Dt.parseRfc3339DateTimeWithOffset=Dt.parseRfc3339DateTime=Dt.dateToUtcString=void 0;var En=bE(),gG=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],CE=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function EG(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,u=o<10?`0${o}`:`${o}`,d=i<10?`0${i}`:`${i}`,p=a<10?`0${a}`:`${a}`;return`${gG[n]}, ${c} ${CE[r]} ${t} ${u}:${d}:${p} GMT`}Dt.dateToUtcString=EG;var vG=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),wG=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=vG.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,c,u]=t,d=(0,En.strictParseShort)(lo(n)),p=cr(s,"month",1,12),h=cr(o,"day",1,31);return Wa(d,p,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u})};Dt.parseRfc3339DateTime=wG;var SG=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),bG=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=SG.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,c,u,d]=t,p=(0,En.strictParseShort)(lo(n)),h=cr(s,"month",1,12),y=cr(o,"day",1,31),w=Wa(p,h,y,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u});return d.toUpperCase()!="Z"&&w.setTime(w.getTime()-MG(d)),w};Dt.parseRfc3339DateTimeWithOffset=bG;var PG=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),CG=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),xG=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),OG=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=PG.exec(e);if(t){let[r,n,s,o,i,a,c,u]=t;return Wa((0,En.strictParseShort)(lo(o)),PE(s),cr(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u})}if(t=CG.exec(e),t){let[r,n,s,o,i,a,c,u]=t;return IG(Wa(TG(o),PE(s),cr(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u}))}if(t=xG.exec(e),t){let[r,n,s,o,i,a,c,u]=t;return Wa((0,En.strictParseShort)(lo(u)),PE(n),cr(s.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")};Dt.parseRfc7231DateTime=OG;var AG=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=(0,En.strictParseDouble)(e);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))};Dt.parseEpochTimestamp=AG;var Wa=(e,t,r,n)=>{let s=t-1;return qG(e,s,r),new Date(Date.UTC(e,s,r,cr(n.hours,"hour",0,23),cr(n.minutes,"minute",0,59),cr(n.seconds,"seconds",0,60),kG(n.fractionalMilliseconds)))},TG=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+(0,En.strictParseShort)(lo(e));return r<t?r+100:r},RG=50*365*24*60*60*1e3,IG=e=>e.getTime()-new Date().getTime()>RG?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,PE=e=>{let t=CE.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},NG=[31,28,31,30,31,30,31,31,30,31,30,31],qG=(e,t,r)=>{let n=NG[t];if(t===1&&DG(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${CE[t]} in ${e}: ${r}`)},DG=e=>e%4===0&&(e%100!==0||e%400===0),cr=(e,t,r,n)=>{let s=(0,En.strictParseByte)(lo(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},kG=e=>e==null?0:(0,En.strictParseFloat32)("0."+e)*1e3,MG=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},lo=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var xE=l(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.decorateServiceException=mo.ServiceException=void 0;var Ka=class extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,Ka.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}};mo.ServiceException=Ka;var FG=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e};mo.decorateServiceException=FG});var CT=l(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.withBaseException=Es.throwDefaultError=void 0;var jG=xE(),LG=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=zG(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new r({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||n||o||"UnknownError",$fault:"client",$metadata:s});throw(0,jG.decorateServiceException)(i,t)};Es.throwDefaultError=LG;var UG=e=>({output:t,parsedBody:r,errorCode:n})=>{(0,Es.throwDefaultError)({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})};Es.withBaseException=UG;var zG=e=>{var t,r;return{httpStatusCode:e.statusCode,requestId:(r=(t=e.headers["x-amzn-requestid"])!==null&&t!==void 0?t:e.headers["x-amzn-request-id"])!==null&&r!==void 0?r:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}}});var xT=l($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});$p.loadConfigsForDefaultMode=void 0;var $G=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};$p.loadConfigsForDefaultMode=$G});var AT=l(Bp=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});Bp.emitWarningIfUnsupportedVersion=void 0;var OT=!1,BG=e=>{e&&!OT&&parseInt(e.substring(1,e.indexOf(".")))<14&&(OT=!0)};Bp.emitWarningIfUnsupportedVersion=BG});var OE=l(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.extendedEncodeURIComponent=void 0;function VG(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}Vp.extendedEncodeURIComponent=VG});var TT=l(Hp=>{"use strict";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.getArrayIfSingleItem=void 0;var HG=e=>Array.isArray(e)?e:[e];Hp.getArrayIfSingleItem=HG});var RT=l(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.getValueFromTextNode=void 0;var GG=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=(0,Ya.getValueFromTextNode)(e[r]));return e};Ya.getValueFromTextNode=GG});var IT=l(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.LazyJsonString=dr.StringWrapper=void 0;var WG=function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r};dr.StringWrapper=WG;dr.StringWrapper.prototype=Object.create(String.prototype,{constructor:{value:dr.StringWrapper,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(dr.StringWrapper,String);var vs=class extends dr.StringWrapper{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(t){return t instanceof vs?t:t instanceof String||typeof t=="string"?new vs(t):new vs(JSON.stringify(t))}};dr.LazyJsonString=vs});var DT=l(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.take=vn.convertMap=vn.map=void 0;function NT(e,t,r){let n,s,o;if(typeof t>"u"&&typeof r>"u")n={},o=e;else{if(n=e,typeof t=="function")return s=t,o=r,QG(n,s,o);o=t}for(let i of Object.keys(o)){if(!Array.isArray(o[i])){n[i]=o[i];continue}qT(n,null,o,i)}return n}vn.map=NT;var KG=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t};vn.convertMap=KG;var YG=(e,t)=>{let r={};for(let n in t)qT(r,e,t,n);return r};vn.take=YG;var QG=(e,t,r)=>NT(e,Object.entries(r).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[t,o()]:n[s]=[t,o],n),{})),qT=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=XG,c=JG,u=n]=i;(typeof a=="function"&&a(t[u])||typeof a!="function"&&!!a)&&(e[n]=c(t[u]));return}let[s,o]=r[n];if(typeof o=="function"){let i,a=s===void 0&&(i=o())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=i:c&&(e[n]=o())}else{let i=s===void 0&&o!=null,a=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(i||a)&&(e[n]=o)}},XG=e=>e!=null,JG=e=>e});var MT=l(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});Gp.resolvedPath=void 0;var kT=OE(),ZG=(e,t,r,n,s,o)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,o?i.split("/").map(a=>(0,kT.extendedEncodeURIComponent)(a)).join("/"):(0,kT.extendedEncodeURIComponent)(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e};Gp.resolvedPath=ZG});var FT=l(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.serializeFloat=void 0;var e8=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}};Wp.serializeFloat=e8});var jT=l(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa._json=void 0;var t8=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=(0,Qa._json)(e[r]));return t}return e};Qa._json=t8});var LT=l(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});Kp.splitEvery=void 0;function r8(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],o="";for(let i=0;i<n.length;i++)o===""?o=n[i]:o+=t+n[i],(i+1)%r===0&&(s.push(o),o="");return o!==""&&s.push(o),s}Kp.splitEvery=r8});var C=l(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});var Me=A();Me.__exportStar(B1(),Re);Me.__exportStar(W1(),Re);Me.__exportStar(ET(),Re);Me.__exportStar(vT(),Re);Me.__exportStar(wT(),Re);Me.__exportStar(ST(),Re);Me.__exportStar(PT(),Re);Me.__exportStar(CT(),Re);Me.__exportStar(xT(),Re);Me.__exportStar(AT(),Re);Me.__exportStar(xE(),Re);Me.__exportStar(OE(),Re);Me.__exportStar(TT(),Re);Me.__exportStar(RT(),Re);Me.__exportStar(IT(),Re);Me.__exportStar(DT(),Re);Me.__exportStar(bE(),Re);Me.__exportStar(MT(),Re);Me.__exportStar(FT(),Re);Me.__exportStar(jT(),Re);Me.__exportStar(LT(),Re)});var UT=l(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.resolveClientEndpointParameters=void 0;var n8=e=>{var t,r;return{...e,useDualstackEndpoint:(t=e.useDualstackEndpoint)!=null?t:!1,useFipsEndpoint:(r=e.useFipsEndpoint)!=null?r:!1,defaultSigningName:"codeartifact"}};Yp.resolveClientEndpointParameters=n8});var zT=l((qme,s8)=>{s8.exports={name:"@aws-sdk/client-codeartifact",description:"AWS SDK for JavaScript Codeartifact Client for Node.js, Browser and React Native",version:"3.363.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo codeartifact"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.363.0","@aws-sdk/credential-provider-node":"3.363.0","@aws-sdk/middleware-host-header":"3.363.0","@aws-sdk/middleware-logger":"3.363.0","@aws-sdk/middleware-recursion-detection":"3.363.0","@aws-sdk/middleware-signing":"3.363.0","@aws-sdk/middleware-user-agent":"3.363.0","@aws-sdk/types":"3.357.0","@aws-sdk/util-endpoints":"3.357.0","@aws-sdk/util-user-agent-browser":"3.363.0","@aws-sdk/util-user-agent-node":"3.363.0","@smithy/config-resolver":"^1.0.1","@smithy/fetch-http-handler":"^1.0.1","@smithy/hash-node":"^1.0.1","@smithy/invalid-dependency":"^1.0.1","@smithy/middleware-content-length":"^1.0.1","@smithy/middleware-endpoint":"^1.0.1","@smithy/middleware-retry":"^1.0.2","@smithy/middleware-serde":"^1.0.1","@smithy/middleware-stack":"^1.0.1","@smithy/node-config-provider":"^1.0.1","@smithy/node-http-handler":"^1.0.2","@smithy/protocol-http":"^1.0.1","@smithy/smithy-client":"^1.0.3","@smithy/types":"^1.0.0","@smithy/url-parser":"^1.0.1","@smithy/util-base64":"^1.0.1","@smithy/util-body-length-browser":"^1.0.1","@smithy/util-body-length-node":"^1.0.1","@smithy/util-defaults-mode-browser":"^1.0.1","@smithy/util-defaults-mode-node":"^1.0.1","@smithy/util-retry":"^1.0.2","@smithy/util-stream":"^1.0.1","@smithy/util-utf8":"^1.0.1",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@smithy/service-client-documentation-generator":"^1.0.1","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-codeartifact",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-codeartifact"}}});var $T=l(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});Qp.resolveStsAuthConfig=void 0;var o8=jr(),i8=(e,{stsClientCtor:t})=>(0,o8.resolveAwsAuthConfig)({...e,stsClientCtor:t});Qp.resolveStsAuthConfig=i8});var BT=l(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});Xp.resolveClientEndpointParameters=void 0;var a8=e=>{var t,r,n;return{...e,useDualstackEndpoint:(t=e.useDualstackEndpoint)!=null?t:!1,useFipsEndpoint:(r=e.useFipsEndpoint)!=null?r:!1,useGlobalEndpoint:(n=e.useGlobalEndpoint)!=null?n:!1,defaultSigningName:"sts"}};Xp.resolveClientEndpointParameters=a8});var VT=l((Mme,c8)=>{c8.exports={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.363.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/credential-provider-node":"3.363.0","@aws-sdk/middleware-host-header":"3.363.0","@aws-sdk/middleware-logger":"3.363.0","@aws-sdk/middleware-recursion-detection":"3.363.0","@aws-sdk/middleware-sdk-sts":"3.363.0","@aws-sdk/middleware-signing":"3.363.0","@aws-sdk/middleware-user-agent":"3.363.0","@aws-sdk/types":"3.357.0","@aws-sdk/util-endpoints":"3.357.0","@aws-sdk/util-user-agent-browser":"3.363.0","@aws-sdk/util-user-agent-node":"3.363.0","@smithy/config-resolver":"^1.0.1","@smithy/fetch-http-handler":"^1.0.1","@smithy/hash-node":"^1.0.1","@smithy/invalid-dependency":"^1.0.1","@smithy/middleware-content-length":"^1.0.1","@smithy/middleware-endpoint":"^1.0.1","@smithy/middleware-retry":"^1.0.1","@smithy/middleware-serde":"^1.0.1","@smithy/middleware-stack":"^1.0.1","@smithy/node-config-provider":"^1.0.1","@smithy/node-http-handler":"^1.0.1","@smithy/protocol-http":"^1.1.0","@smithy/smithy-client":"^1.0.2","@smithy/types":"^1.1.0","@smithy/url-parser":"^1.0.1","@smithy/util-base64":"^1.0.1","@smithy/util-body-length-browser":"^1.0.1","@smithy/util-body-length-node":"^1.0.1","@smithy/util-defaults-mode-browser":"^1.0.1","@smithy/util-defaults-mode-node":"^1.0.1","@smithy/util-retry":"^1.0.1","@smithy/util-utf8":"^1.0.1","fast-xml-parser":"4.2.5",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@smithy/service-client-documentation-generator":"^1.0.1","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}}});var Jp=l(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.STSServiceException=po.__ServiceException=void 0;var HT=C();Object.defineProperty(po,"__ServiceException",{enumerable:!0,get:function(){return HT.ServiceException}});var Xa=class extends HT.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,Xa.prototype)}};po.STSServiceException=Xa});var Sn=l(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.GetSessionTokenResponseFilterSensitiveLog=G.GetFederationTokenResponseFilterSensitiveLog=G.AssumeRoleWithWebIdentityResponseFilterSensitiveLog=G.AssumeRoleWithWebIdentityRequestFilterSensitiveLog=G.AssumeRoleWithSAMLResponseFilterSensitiveLog=G.AssumeRoleWithSAMLRequestFilterSensitiveLog=G.AssumeRoleResponseFilterSensitiveLog=G.CredentialsFilterSensitiveLog=G.InvalidAuthorizationMessageException=G.IDPCommunicationErrorException=G.InvalidIdentityTokenException=G.IDPRejectedClaimException=G.RegionDisabledException=G.PackedPolicyTooLargeException=G.MalformedPolicyDocumentException=G.ExpiredTokenException=void 0;var AE=C(),wn=Jp(),Ja=class extends wn.STSServiceException{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Ja.prototype)}};G.ExpiredTokenException=Ja;var Za=class extends wn.STSServiceException{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,Za.prototype)}};G.MalformedPolicyDocumentException=Za;var ec=class extends wn.STSServiceException{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,ec.prototype)}};G.PackedPolicyTooLargeException=ec;var tc=class extends wn.STSServiceException{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,tc.prototype)}};G.RegionDisabledException=tc;var rc=class extends wn.STSServiceException{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,rc.prototype)}};G.IDPRejectedClaimException=rc;var nc=class extends wn.STSServiceException{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,nc.prototype)}};G.InvalidIdentityTokenException=nc;var sc=class extends wn.STSServiceException{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,sc.prototype)}};G.IDPCommunicationErrorException=sc;var oc=class extends wn.STSServiceException{constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,oc.prototype)}};G.InvalidAuthorizationMessageException=oc;var d8=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:AE.SENSITIVE_STRING}});G.CredentialsFilterSensitiveLog=d8;var u8=e=>({...e,...e.Credentials&&{Credentials:(0,G.CredentialsFilterSensitiveLog)(e.Credentials)}});G.AssumeRoleResponseFilterSensitiveLog=u8;var l8=e=>({...e,...e.SAMLAssertion&&{SAMLAssertion:AE.SENSITIVE_STRING}});G.AssumeRoleWithSAMLRequestFilterSensitiveLog=l8;var m8=e=>({...e,...e.Credentials&&{Credentials:(0,G.CredentialsFilterSensitiveLog)(e.Credentials)}});G.AssumeRoleWithSAMLResponseFilterSensitiveLog=m8;var p8=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:AE.SENSITIVE_STRING}});G.AssumeRoleWithWebIdentityRequestFilterSensitiveLog=p8;var f8=e=>({...e,...e.Credentials&&{Credentials:(0,G.CredentialsFilterSensitiveLog)(e.Credentials)}});G.AssumeRoleWithWebIdentityResponseFilterSensitiveLog=f8;var _8=e=>({...e,...e.Credentials&&{Credentials:(0,G.CredentialsFilterSensitiveLog)(e.Credentials)}});G.GetFederationTokenResponseFilterSensitiveLog=_8;var h8=e=>({...e,...e.Credentials&&{Credentials:(0,G.CredentialsFilterSensitiveLog)(e.Credentials)}});G.GetSessionTokenResponseFilterSensitiveLog=h8});var Zp=l(Hr=>{"use strict";var GT=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",y8=GT+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",WT="["+GT+"]["+y8+"]*",g8=new RegExp("^"+WT+"$"),E8=function(e,t){let r=[],n=t.exec(e);for(;n;){let s=[];s.startIndex=t.lastIndex-n[0].length;let o=n.length;for(let i=0;i<o;i++)s.push(n[i]);r.push(s),n=t.exec(e)}return r},v8=function(e){let t=g8.exec(e);return!(t===null||typeof t>"u")};Hr.isExist=function(e){return typeof e<"u"};Hr.isEmptyObject=function(e){return Object.keys(e).length===0};Hr.merge=function(e,t,r){if(t){let n=Object.keys(t),s=n.length;for(let o=0;o<s;o++)r==="strict"?e[n[o]]=[t[n[o]]]:e[n[o]]=t[n[o]]}};Hr.getValue=function(e){return Hr.isExist(e)?e:""};Hr.isName=v8;Hr.getAllMatches=E8;Hr.nameRegexp=WT});var RE=l(JT=>{"use strict";var TE=Zp(),w8={allowBooleanAttributes:!1,unpairedTags:[]};JT.validate=function(e,t){t=Object.assign({},w8,t);let r=[],n=!1,s=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let o=0;o<e.length;o++)if(e[o]==="<"&&e[o+1]==="?"){if(o+=2,o=YT(e,o),o.err)return o}else if(e[o]==="<"){let i=o;if(o++,e[o]==="!"){o=QT(e,o);continue}else{let a=!1;e[o]==="/"&&(a=!0,o++);let c="";for(;o<e.length&&e[o]!==">"&&e[o]!==" "&&e[o]!=="	"&&e[o]!==`
`&&e[o]!=="\r";o++)c+=e[o];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),o--),!T8(c)){let p;return c.trim().length===0?p="Invalid space after '<'.":p="Tag '"+c+"' is an invalid name.",je("InvalidTag",p,lt(e,o))}let u=P8(e,o);if(u===!1)return je("InvalidAttr","Attributes for '"+c+"' have open quote.",lt(e,o));let d=u.value;if(o=u.index,d[d.length-1]==="/"){let p=o-d.length;d=d.substring(0,d.length-1);let h=XT(d,t);if(h===!0)n=!0;else return je(h.err.code,h.err.msg,lt(e,p+h.err.line))}else if(a)if(u.tagClosed){if(d.trim().length>0)return je("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",lt(e,i));{let p=r.pop();if(c!==p.tagName){let h=lt(e,p.tagStartPos);return je("InvalidTag","Expected closing tag '"+p.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+c+"'.",lt(e,i))}r.length==0&&(s=!0)}}else return je("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",lt(e,o));else{let p=XT(d,t);if(p!==!0)return je(p.err.code,p.err.msg,lt(e,o-d.length+p.err.line));if(s===!0)return je("InvalidXml","Multiple possible root nodes found.",lt(e,o));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(o++;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="!"){o++,o=QT(e,o);continue}else if(e[o+1]==="?"){if(o=YT(e,++o),o.err)return o}else break;else if(e[o]==="&"){let p=O8(e,o);if(p==-1)return je("InvalidChar","char '&' is not expected.",lt(e,o));o=p}else if(s===!0&&!KT(e[o]))return je("InvalidXml","Extra text at the end",lt(e,o));e[o]==="<"&&o--}}else{if(KT(e[o]))continue;return je("InvalidChar","char '"+e[o]+"' is not expected.",lt(e,o))}if(n){if(r.length==1)return je("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",lt(e,r[0].tagStartPos));if(r.length>0)return je("InvalidXml","Invalid '"+JSON.stringify(r.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return je("InvalidXml","Start tag expected.",1);return!0};function KT(e){return e===" "||e==="	"||e===`
`||e==="\r"}function YT(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return je("InvalidXml","XML declaration allowed only at the start of the document.",lt(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function QT(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var S8='"',b8="'";function P8(e,t){let r="",n="",s=!1;for(;t<e.length;t++){if(e[t]===S8||e[t]===b8)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){s=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:s}}var C8=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function XT(e,t){let r=TE.getAllMatches(e,C8),n={};for(let s=0;s<r.length;s++){if(r[s][1].length===0)return je("InvalidAttr","Attribute '"+r[s][2]+"' has no space in starting.",ic(r[s]));if(r[s][3]!==void 0&&r[s][4]===void 0)return je("InvalidAttr","Attribute '"+r[s][2]+"' is without value.",ic(r[s]));if(r[s][3]===void 0&&!t.allowBooleanAttributes)return je("InvalidAttr","boolean attribute '"+r[s][2]+"' is not allowed.",ic(r[s]));let o=r[s][2];if(!A8(o))return je("InvalidAttr","Attribute '"+o+"' is an invalid name.",ic(r[s]));if(!n.hasOwnProperty(o))n[o]=1;else return je("InvalidAttr","Attribute '"+o+"' is repeated.",ic(r[s]))}return!0}function x8(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function O8(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,x8(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function je(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function A8(e){return TE.isName(e)}function T8(e){return TE.isName(e)}function lt(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function ic(e){return e.startIndex+e[1].length}});var eR=l(IE=>{var ZT={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},R8=function(e){return Object.assign({},ZT,e)};IE.buildOptions=R8;IE.defaultOptions=ZT});var rR=l(($me,tR)=>{"use strict";var NE=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,[":@"]:t[":@"]}):this.child.push({[t.tagname]:t.child})}};tR.exports=NE});var sR=l((Bme,nR)=>{var I8=Zp();function N8(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,s=!1,o=!1,i="";for(;t<e.length;t++)if(e[t]==="<"&&!o){if(s&&k8(e,t))t+=7,[entityName,val,t]=q8(e,t+1),val.indexOf("&")===-1&&(r[L8(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(s&&M8(e,t))t+=8;else if(s&&F8(e,t))t+=8;else if(s&&j8(e,t))t+=9;else if(D8)o=!0;else throw new Error("Invalid DOCTYPE");n++,i=""}else if(e[t]===">"){if(o?e[t-1]==="-"&&e[t-2]==="-"&&(o=!1,n--):n--,n===0)break}else e[t]==="["?s=!0:i+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function q8(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=e[t++],s="";for(;t<e.length&&e[t]!==n;t++)s+=e[t];return[r,s,t]}function D8(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function k8(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function M8(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function F8(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function j8(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function L8(e){if(I8.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}nR.exports=N8});var iR=l((Vme,oR)=>{var U8=/^[-+]?0x[a-fA-F0-9]+$/,z8=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var $8={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function B8(e,t={}){if(t=Object.assign({},$8,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&U8.test(r))return Number.parseInt(r,16);{let n=z8.exec(r);if(n){let s=n[1],o=n[2],i=V8(n[3]),a=n[4]||n[6];if(!t.leadingZeros&&o.length>0&&s&&r[2]!==".")return e;if(!t.leadingZeros&&o.length>0&&!s&&r[1]!==".")return e;{let c=Number(r),u=""+c;return u.search(/[eE]/)!==-1||a?t.eNotation?c:e:r.indexOf(".")!==-1?u==="0"&&i===""||u===i||s&&u==="-"+i?c:e:o?i===u||s+i===u?c:e:r===u||r===s+u?c:e}}else return e}}function V8(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}oR.exports=B8});var cR=l((Gme,aR)=>{"use strict";var ME=Zp(),ac=rR(),H8=sR(),G8=iR(),Hme="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,ME.nameRegexp),qE=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=W8,this.parseXml=J8,this.parseTextData=K8,this.resolveNameSpace=Y8,this.buildAttributesMap=X8,this.isItStopNode=r4,this.replaceEntitiesValue=e4,this.readStopNodeData=s4,this.saveTextToParentTag=t4,this.addChild=Z8}};function W8(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function K8(e,t,r,n,s,o,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,s,o);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?kE(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?kE(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function Y8(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var Q8=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function X8(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){let n=ME.getAllMatches(e,Q8),s=n.length,o={};for(let i=0;i<s;i++){let a=this.resolveNameSpace(n[i][1]),c=n[i][4],u=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let d=this.options.attributeValueProcessor(a,c,t);d==null?o[u]=c:typeof d!=typeof c||d!==c?o[u]=d:o[u]=kE(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[u]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){let i={};return i[this.options.attributesGroupName]=o,i}return o}}var J8=function(e){e=e.replace(/\r\n?/g,`
`);let t=new ac("!xml"),r=t,n="",s="";for(let o=0;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="/"){let a=ws(e,">",o,"Closing Tag is not closed."),c=e.substring(o+2,a).trim();if(this.options.removeNSPrefix){let p=c.indexOf(":");p!==-1&&(c=c.substr(p+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,s));let u=s.substring(s.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let d=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(d=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=s.lastIndexOf("."),s=s.substring(0,d),r=this.tagsNodeStack.pop(),n="",o=a}else if(e[o+1]==="?"){let a=DE(e,o,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new ac(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,s,a.tagName)),this.addChild(r,c,s)}o=a.closeIndex+1}else if(e.substr(o+1,3)==="!--"){let a=ws(e,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(o+4,a-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}o=a}else if(e.substr(o+1,2)==="!D"){let a=H8(e,o);this.docTypeEntities=a.entities,o=a.i}else if(e.substr(o+1,2)==="!["){let a=ws(e,"]]>",o,"CDATA is not closed.")-2,c=e.substring(o+9,a);if(n=this.saveTextToParentTag(n,r,s),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let u=this.parseTextData(c,r.tagname,s,!0,!1,!0);u==null&&(u=""),r.add(this.options.textNodeName,u)}o=a+2}else{let a=DE(e,o,this.options.removeNSPrefix),c=a.tagName,u=a.tagExp,d=a.attrExpPresent,p=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,s,!1));let h=r;if(h&&this.options.unpairedTags.indexOf(h.tagname)!==-1&&(r=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),c!==t.tagname&&(s+=s?"."+c:c),this.isItStopNode(this.options.stopNodes,s,c)){let y="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)o=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)o=a.closeIndex;else{let b=this.readStopNodeData(e,c,p+1);if(!b)throw new Error(`Unexpected end of ${c}`);o=b.i,y=b.tagContent}let w=new ac(c);c!==u&&d&&(w[":@"]=this.buildAttributesMap(u,s,c)),y&&(y=this.parseTextData(y,c,s,!0,d,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),w.add(this.options.textNodeName,y),this.addChild(r,w,s)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let y=new ac(c);c!==u&&d&&(y[":@"]=this.buildAttributesMap(u,s,c)),this.addChild(r,y,s),s=s.substr(0,s.lastIndexOf("."))}else{let y=new ac(c);this.tagsNodeStack.push(r),c!==u&&d&&(y[":@"]=this.buildAttributesMap(u,s,c)),this.addChild(r,y,s),r=y}n="",o=p}}else n+=e[o];return t.child};function Z8(e,t,r){let n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}var e4=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function t4(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function r4(e,t,r){let n="*."+r;for(let s in e){let o=e[s];if(n===o||t===o)return!0}return!1}function n4(e,t,r=">"){let n,s="";for(let o=t;o<e.length;o++){let i=e[o];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[o+1]===r[1])return{data:s,index:o}}else return{data:s,index:o};else i==="	"&&(i=" ");s+=i}}function ws(e,t,r,n){let s=e.indexOf(t,r);if(s===-1)throw new Error(n);return s+t.length-1}function DE(e,t,r,n=">"){let s=n4(e,t+1,n);if(!s)return;let o=s.data,i=s.index,a=o.search(/\s/),c=o,u=!0;if(a!==-1&&(c=o.substr(0,a).replace(/\s\s*$/,""),o=o.substr(a+1)),r){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1),u=c!==s.data.substr(d+1))}return{tagName:c,tagExp:o,closeIndex:i,attrExpPresent:u}}function s4(e,t,r){let n=r,s=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let o=ws(e,">",r,`${t} is not closed`);if(e.substring(r+2,o).trim()===t&&(s--,s===0))return{tagContent:e.substring(n,r),i:o};r=o}else if(e[r+1]==="?")r=ws(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=ws(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=ws(e,"]]>",r,"StopNode is not closed.")-2;else{let o=DE(e,r,">");o&&((o&&o.tagName)===t&&o.tagExp[o.tagExp.length-1]!=="/"&&s++,r=o.closeIndex)}}function kE(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:G8(e,r)}else return ME.isExist(e)?e:""}aR.exports=qE});var lR=l(uR=>{"use strict";function o4(e,t){return dR(e,t)}function dR(e,t,r){let n,s={};for(let o=0;o<e.length;o++){let i=e[o],a=i4(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let u=dR(i[a],t,c),d=c4(u,t);i[":@"]?a4(u,i[":@"],c,t):Object.keys(u).length===1&&u[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?u=u[t.textNodeName]:Object.keys(u).length===0&&(t.alwaysCreateTextNode?u[t.textNodeName]="":u=""),s[a]!==void 0&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(u)):t.isArray(a,c,d)?s[a]=[u]:s[a]=u}}}return typeof n=="string"?n.length>0&&(s[t.textNodeName]=n):n!==void 0&&(s[t.textNodeName]=n),s}function i4(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function a4(e,t,r,n){if(t){let s=Object.keys(t),o=s.length;for(let i=0;i<o;i++){let a=s[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function c4(e,t){let{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}uR.prettify=o4});var pR=l((Kme,mR)=>{var{buildOptions:d4}=eR(),u4=cR(),{prettify:l4}=lR(),m4=RE(),FE=class{constructor(t){this.externalEntities={},this.options=d4(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let o=m4.validate(t,r);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}let n=new u4(this.options);n.addExternalEntities(this.externalEntities);let s=n.parseXml(t);return this.options.preserveOrder||s===void 0?s:l4(s,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};mR.exports=FE});var gR=l((Yme,yR)=>{var p4=`
`;function f4(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=p4),_R(e,t,"",r)}function _R(e,t,r,n){let s="",o=!1;for(let i=0;i<e.length;i++){let a=e[i],c=_4(a),u="";if(r.length===0?u=c:u=`${r}.${c}`,c===t.textNodeName){let w=a[c];h4(u,t)||(w=t.tagValueProcessor(c,w),w=hR(w,t)),o&&(s+=n),s+=w,o=!1;continue}else if(c===t.cdataPropName){o&&(s+=n),s+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,o=!1;continue}else if(c===t.commentPropName){s+=n+`<!--${a[c][0][t.textNodeName]}-->`,o=!0;continue}else if(c[0]==="?"){let w=fR(a[":@"],t),b=c==="?xml"?"":n,_=a[c][0][t.textNodeName];_=_.length!==0?" "+_:"",s+=b+`<${c}${_}${w}?>`,o=!0;continue}let d=n;d!==""&&(d+=t.indentBy);let p=fR(a[":@"],t),h=n+`<${c}${p}`,y=_R(a[c],t,u,d);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?s+=h+">":s+=h+"/>":(!y||y.length===0)&&t.suppressEmptyNode?s+=h+"/>":y&&y.endsWith(">")?s+=h+`>${y}${n}</${c}>`:(s+=h+">",y&&n!==""&&(y.includes("/>")||y.includes("</"))?s+=n+t.indentBy+y+n:s+=y,s+=`</${c}>`),o=!0}return s}function _4(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function fR(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let s=t.attributeValueProcessor(n,e[n]);s=hR(s,t),s===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${s}"`}return r}function h4(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function hR(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}yR.exports=f4});var vR=l((Qme,ER)=>{"use strict";var y4=gR(),g4={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function bn(e){this.options=Object.assign({},g4,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=w4),this.processTextOrObjNode=E4,this.options.format?(this.indentate=v4,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}bn.prototype.build=function(e){return this.options.preserveOrder?y4(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};bn.prototype.j2x=function(e,t){let r="",n="";for(let s in e)if(!(typeof e[s]>"u"))if(e[s]===null)s[0]==="?"?n+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+s+"/"+this.tagEndChar;else if(e[s]instanceof Date)n+=this.buildTextValNode(e[s],s,"",t);else if(typeof e[s]!="object"){let o=this.isAttribute(s);if(o)r+=this.buildAttrPairStr(o,""+e[s]);else if(s===this.options.textNodeName){let i=this.options.tagValueProcessor(s,""+e[s]);n+=this.replaceEntitiesValue(i)}else n+=this.buildTextValNode(e[s],s,"",t)}else if(Array.isArray(e[s])){let o=e[s].length,i="";for(let a=0;a<o;a++){let c=e[s][a];typeof c>"u"||(c===null?s[0]==="?"?n+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+s+"/"+this.tagEndChar:typeof c=="object"?this.options.oneListGroup?i+=this.j2x(c,t+1).val:i+=this.processTextOrObjNode(c,s,t):i+=this.buildTextValNode(c,s,"",t))}this.options.oneListGroup&&(i=this.buildObjectNode(i,s,"",t)),n+=i}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){let o=Object.keys(e[s]),i=o.length;for(let a=0;a<i;a++)r+=this.buildAttrPairStr(o[a],""+e[s][o[a]])}else n+=this.processTextOrObjNode(e[s],s,t);return{attrStr:r,val:n}};bn.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function E4(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}bn.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let s="</"+t+this.tagEndChar,o="";return t[0]==="?"&&(o="?",s=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+o+">"+e+s:this.options.commentPropName!==!1&&t===this.options.commentPropName&&o.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+o+this.tagEndChar+e+this.indentate(n)+s}};bn.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};bn.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(t,e);return s=this.replaceEntitiesValue(s),s===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+s+"</"+t+this.tagEndChar}};bn.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function v4(e){return this.options.indentBy.repeat(e)}function w4(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}ER.exports=bn});var SR=l((Xme,wR)=>{"use strict";var S4=RE(),b4=pR(),P4=vR();wR.exports={XMLParser:b4,XMLValidator:S4,XMLBuilder:P4}});var Wr=l(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.de_GetSessionTokenCommand=ce.de_GetFederationTokenCommand=ce.de_GetCallerIdentityCommand=ce.de_GetAccessKeyInfoCommand=ce.de_DecodeAuthorizationMessageCommand=ce.de_AssumeRoleWithWebIdentityCommand=ce.de_AssumeRoleWithSAMLCommand=ce.de_AssumeRoleCommand=ce.se_GetSessionTokenCommand=ce.se_GetFederationTokenCommand=ce.se_GetCallerIdentityCommand=ce.se_GetAccessKeyInfoCommand=ce.se_DecodeAuthorizationMessageCommand=ce.se_AssumeRoleWithWebIdentityCommand=ce.se_AssumeRoleWithSAMLCommand=ce.se_AssumeRoleCommand=void 0;var C4=nt(),M=C(),x4=SR(),Pn=Sn(),O4=Jp(),A4=async(e,t)=>{let r=On,n;return n=Tn({...eW(e,t),Action:"AssumeRole",Version:"2011-06-15"}),xn(t,r,"/",void 0,n)};ce.se_AssumeRoleCommand=A4;var T4=async(e,t)=>{let r=On,n;return n=Tn({...tW(e,t),Action:"AssumeRoleWithSAML",Version:"2011-06-15"}),xn(t,r,"/",void 0,n)};ce.se_AssumeRoleWithSAMLCommand=T4;var R4=async(e,t)=>{let r=On,n;return n=Tn({...rW(e,t),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),xn(t,r,"/",void 0,n)};ce.se_AssumeRoleWithWebIdentityCommand=R4;var I4=async(e,t)=>{let r=On,n;return n=Tn({...nW(e,t),Action:"DecodeAuthorizationMessage",Version:"2011-06-15"}),xn(t,r,"/",void 0,n)};ce.se_DecodeAuthorizationMessageCommand=I4;var N4=async(e,t)=>{let r=On,n;return n=Tn({...sW(e,t),Action:"GetAccessKeyInfo",Version:"2011-06-15"}),xn(t,r,"/",void 0,n)};ce.se_GetAccessKeyInfoCommand=N4;var q4=async(e,t)=>{let r=On,n;return n=Tn({...oW(e,t),Action:"GetCallerIdentity",Version:"2011-06-15"}),xn(t,r,"/",void 0,n)};ce.se_GetCallerIdentityCommand=q4;var D4=async(e,t)=>{let r=On,n;return n=Tn({...iW(e,t),Action:"GetFederationToken",Version:"2011-06-15"}),xn(t,r,"/",void 0,n)};ce.se_GetFederationTokenCommand=D4;var k4=async(e,t)=>{let r=On,n;return n=Tn({...aW(e,t),Action:"GetSessionToken",Version:"2011-06-15"}),xn(t,r,"/",void 0,n)};ce.se_GetSessionTokenCommand=k4;var M4=async(e,t)=>{if(e.statusCode>=300)return F4(e,t);let r=await Gr(e.body,t),n={};return n=lW(r.AssumeRoleResult,t),{$metadata:Xe(e),...n}};ce.de_AssumeRoleCommand=M4;var F4=async(e,t)=>{let r={...e,body:await An(e.body,t)},n=Rn(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await jE(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await ef(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await tf(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await cc(r,t);default:let s=r.body;return Cn({output:e,parsedBody:s.Error,errorCode:n})}},j4=async(e,t)=>{if(e.statusCode>=300)return L4(e,t);let r=await Gr(e.body,t),n={};return n=mW(r.AssumeRoleWithSAMLResult,t),{$metadata:Xe(e),...n}};ce.de_AssumeRoleWithSAMLCommand=j4;var L4=async(e,t)=>{let r={...e,body:await An(e.body,t)},n=Rn(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await jE(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await bR(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await PR(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await ef(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await tf(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await cc(r,t);default:let s=r.body;return Cn({output:e,parsedBody:s.Error,errorCode:n})}},U4=async(e,t)=>{if(e.statusCode>=300)return z4(e,t);let r=await Gr(e.body,t),n={};return n=pW(r.AssumeRoleWithWebIdentityResult,t),{$metadata:Xe(e),...n}};ce.de_AssumeRoleWithWebIdentityCommand=U4;var z4=async(e,t)=>{let r={...e,body:await An(e.body,t)},n=Rn(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await jE(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await J4(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await bR(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await PR(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await ef(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await tf(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await cc(r,t);default:let s=r.body;return Cn({output:e,parsedBody:s.Error,errorCode:n})}},$4=async(e,t)=>{if(e.statusCode>=300)return B4(e,t);let r=await Gr(e.body,t),n={};return n=fW(r.DecodeAuthorizationMessageResult,t),{$metadata:Xe(e),...n}};ce.de_DecodeAuthorizationMessageCommand=$4;var B4=async(e,t)=>{let r={...e,body:await An(e.body,t)},n=Rn(e,r.body);switch(n){case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await Z4(r,t);default:let s=r.body;return Cn({output:e,parsedBody:s.Error,errorCode:n})}},V4=async(e,t)=>{if(e.statusCode>=300)return H4(e,t);let r=await Gr(e.body,t),n={};return n=yW(r.GetAccessKeyInfoResult,t),{$metadata:Xe(e),...n}};ce.de_GetAccessKeyInfoCommand=V4;var H4=async(e,t)=>{let r={...e,body:await An(e.body,t)},n=Rn(e,r.body),s=r.body;return Cn({output:e,parsedBody:s.Error,errorCode:n})},G4=async(e,t)=>{if(e.statusCode>=300)return W4(e,t);let r=await Gr(e.body,t),n={};return n=gW(r.GetCallerIdentityResult,t),{$metadata:Xe(e),...n}};ce.de_GetCallerIdentityCommand=G4;var W4=async(e,t)=>{let r={...e,body:await An(e.body,t)},n=Rn(e,r.body),s=r.body;return Cn({output:e,parsedBody:s.Error,errorCode:n})},K4=async(e,t)=>{if(e.statusCode>=300)return Y4(e,t);let r=await Gr(e.body,t),n={};return n=EW(r.GetFederationTokenResult,t),{$metadata:Xe(e),...n}};ce.de_GetFederationTokenCommand=K4;var Y4=async(e,t)=>{let r={...e,body:await An(e.body,t)},n=Rn(e,r.body);switch(n){case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await ef(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await tf(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await cc(r,t);default:let s=r.body;return Cn({output:e,parsedBody:s.Error,errorCode:n})}},Q4=async(e,t)=>{if(e.statusCode>=300)return X4(e,t);let r=await Gr(e.body,t),n={};return n=vW(r.GetSessionTokenResult,t),{$metadata:Xe(e),...n}};ce.de_GetSessionTokenCommand=Q4;var X4=async(e,t)=>{let r={...e,body:await An(e.body,t)},n=Rn(e,r.body);switch(n){case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await cc(r,t);default:let s=r.body;return Cn({output:e,parsedBody:s.Error,errorCode:n})}},jE=async(e,t)=>{let r=e.body,n=_W(r.Error,t),s=new Pn.ExpiredTokenException({$metadata:Xe(e),...n});return(0,M.decorateServiceException)(s,r)},J4=async(e,t)=>{let r=e.body,n=wW(r.Error,t),s=new Pn.IDPCommunicationErrorException({$metadata:Xe(e),...n});return(0,M.decorateServiceException)(s,r)},bR=async(e,t)=>{let r=e.body,n=SW(r.Error,t),s=new Pn.IDPRejectedClaimException({$metadata:Xe(e),...n});return(0,M.decorateServiceException)(s,r)},Z4=async(e,t)=>{let r=e.body,n=bW(r.Error,t),s=new Pn.InvalidAuthorizationMessageException({$metadata:Xe(e),...n});return(0,M.decorateServiceException)(s,r)},PR=async(e,t)=>{let r=e.body,n=PW(r.Error,t),s=new Pn.InvalidIdentityTokenException({$metadata:Xe(e),...n});return(0,M.decorateServiceException)(s,r)},ef=async(e,t)=>{let r=e.body,n=CW(r.Error,t),s=new Pn.MalformedPolicyDocumentException({$metadata:Xe(e),...n});return(0,M.decorateServiceException)(s,r)},tf=async(e,t)=>{let r=e.body,n=xW(r.Error,t),s=new Pn.PackedPolicyTooLargeException({$metadata:Xe(e),...n});return(0,M.decorateServiceException)(s,r)},cc=async(e,t)=>{let r=e.body,n=OW(r.Error,t),s=new Pn.RegionDisabledException({$metadata:Xe(e),...n});return(0,M.decorateServiceException)(s,r)},eW=(e,t)=>{var n,s,o;let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.PolicyArns!=null){let i=rf(e.PolicyArns,t);((n=e.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(i).forEach(([a,c])=>{let u=`PolicyArns.${a}`;r[u]=c})}if(e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),e.Tags!=null){let i=CR(e.Tags,t);((s=e.Tags)==null?void 0:s.length)===0&&(r.Tags=[]),Object.entries(i).forEach(([a,c])=>{let u=`Tags.${a}`;r[u]=c})}if(e.TransitiveTagKeys!=null){let i=uW(e.TransitiveTagKeys,t);((o=e.TransitiveTagKeys)==null?void 0:o.length)===0&&(r.TransitiveTagKeys=[]),Object.entries(i).forEach(([a,c])=>{let u=`TransitiveTagKeys.${a}`;r[u]=c})}return e.ExternalId!=null&&(r.ExternalId=e.ExternalId),e.SerialNumber!=null&&(r.SerialNumber=e.SerialNumber),e.TokenCode!=null&&(r.TokenCode=e.TokenCode),e.SourceIdentity!=null&&(r.SourceIdentity=e.SourceIdentity),r},tW=(e,t)=>{var n;let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.PrincipalArn!=null&&(r.PrincipalArn=e.PrincipalArn),e.SAMLAssertion!=null&&(r.SAMLAssertion=e.SAMLAssertion),e.PolicyArns!=null){let s=rf(e.PolicyArns,t);((n=e.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(s).forEach(([o,i])=>{let a=`PolicyArns.${o}`;r[a]=i})}return e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),r},rW=(e,t)=>{var n;let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.WebIdentityToken!=null&&(r.WebIdentityToken=e.WebIdentityToken),e.ProviderId!=null&&(r.ProviderId=e.ProviderId),e.PolicyArns!=null){let s=rf(e.PolicyArns,t);((n=e.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(s).forEach(([o,i])=>{let a=`PolicyArns.${o}`;r[a]=i})}return e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),r},nW=(e,t)=>{let r={};return e.EncodedMessage!=null&&(r.EncodedMessage=e.EncodedMessage),r},sW=(e,t)=>{let r={};return e.AccessKeyId!=null&&(r.AccessKeyId=e.AccessKeyId),r},oW=(e,t)=>({}),iW=(e,t)=>{var n,s;let r={};if(e.Name!=null&&(r.Name=e.Name),e.Policy!=null&&(r.Policy=e.Policy),e.PolicyArns!=null){let o=rf(e.PolicyArns,t);((n=e.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(o).forEach(([i,a])=>{let c=`PolicyArns.${i}`;r[c]=a})}if(e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),e.Tags!=null){let o=CR(e.Tags,t);((s=e.Tags)==null?void 0:s.length)===0&&(r.Tags=[]),Object.entries(o).forEach(([i,a])=>{let c=`Tags.${i}`;r[c]=a})}return r},aW=(e,t)=>{let r={};return e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),e.SerialNumber!=null&&(r.SerialNumber=e.SerialNumber),e.TokenCode!=null&&(r.TokenCode=e.TokenCode),r},rf=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let o=cW(s,t);Object.entries(o).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},cW=(e,t)=>{let r={};return e.arn!=null&&(r.arn=e.arn),r},dW=(e,t)=>{let r={};return e.Key!=null&&(r.Key=e.Key),e.Value!=null&&(r.Value=e.Value),r},uW=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},CR=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let o=dW(s,t);Object.entries(o).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},LE=(e,t)=>{let r={};return e.AssumedRoleId!==void 0&&(r.AssumedRoleId=(0,M.expectString)(e.AssumedRoleId)),e.Arn!==void 0&&(r.Arn=(0,M.expectString)(e.Arn)),r},lW=(e,t)=>{let r={};return e.Credentials!==void 0&&(r.Credentials=dc(e.Credentials,t)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=LE(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,M.strictParseInt32)(e.PackedPolicySize)),e.SourceIdentity!==void 0&&(r.SourceIdentity=(0,M.expectString)(e.SourceIdentity)),r},mW=(e,t)=>{let r={};return e.Credentials!==void 0&&(r.Credentials=dc(e.Credentials,t)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=LE(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,M.strictParseInt32)(e.PackedPolicySize)),e.Subject!==void 0&&(r.Subject=(0,M.expectString)(e.Subject)),e.SubjectType!==void 0&&(r.SubjectType=(0,M.expectString)(e.SubjectType)),e.Issuer!==void 0&&(r.Issuer=(0,M.expectString)(e.Issuer)),e.Audience!==void 0&&(r.Audience=(0,M.expectString)(e.Audience)),e.NameQualifier!==void 0&&(r.NameQualifier=(0,M.expectString)(e.NameQualifier)),e.SourceIdentity!==void 0&&(r.SourceIdentity=(0,M.expectString)(e.SourceIdentity)),r},pW=(e,t)=>{let r={};return e.Credentials!==void 0&&(r.Credentials=dc(e.Credentials,t)),e.SubjectFromWebIdentityToken!==void 0&&(r.SubjectFromWebIdentityToken=(0,M.expectString)(e.SubjectFromWebIdentityToken)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=LE(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,M.strictParseInt32)(e.PackedPolicySize)),e.Provider!==void 0&&(r.Provider=(0,M.expectString)(e.Provider)),e.Audience!==void 0&&(r.Audience=(0,M.expectString)(e.Audience)),e.SourceIdentity!==void 0&&(r.SourceIdentity=(0,M.expectString)(e.SourceIdentity)),r},dc=(e,t)=>{let r={};return e.AccessKeyId!==void 0&&(r.AccessKeyId=(0,M.expectString)(e.AccessKeyId)),e.SecretAccessKey!==void 0&&(r.SecretAccessKey=(0,M.expectString)(e.SecretAccessKey)),e.SessionToken!==void 0&&(r.SessionToken=(0,M.expectString)(e.SessionToken)),e.Expiration!==void 0&&(r.Expiration=(0,M.expectNonNull)((0,M.parseRfc3339DateTimeWithOffset)(e.Expiration))),r},fW=(e,t)=>{let r={};return e.DecodedMessage!==void 0&&(r.DecodedMessage=(0,M.expectString)(e.DecodedMessage)),r},_W=(e,t)=>{let r={};return e.message!==void 0&&(r.message=(0,M.expectString)(e.message)),r},hW=(e,t)=>{let r={};return e.FederatedUserId!==void 0&&(r.FederatedUserId=(0,M.expectString)(e.FederatedUserId)),e.Arn!==void 0&&(r.Arn=(0,M.expectString)(e.Arn)),r},yW=(e,t)=>{let r={};return e.Account!==void 0&&(r.Account=(0,M.expectString)(e.Account)),r},gW=(e,t)=>{let r={};return e.UserId!==void 0&&(r.UserId=(0,M.expectString)(e.UserId)),e.Account!==void 0&&(r.Account=(0,M.expectString)(e.Account)),e.Arn!==void 0&&(r.Arn=(0,M.expectString)(e.Arn)),r},EW=(e,t)=>{let r={};return e.Credentials!==void 0&&(r.Credentials=dc(e.Credentials,t)),e.FederatedUser!==void 0&&(r.FederatedUser=hW(e.FederatedUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=(0,M.strictParseInt32)(e.PackedPolicySize)),r},vW=(e,t)=>{let r={};return e.Credentials!==void 0&&(r.Credentials=dc(e.Credentials,t)),r},wW=(e,t)=>{let r={};return e.message!==void 0&&(r.message=(0,M.expectString)(e.message)),r},SW=(e,t)=>{let r={};return e.message!==void 0&&(r.message=(0,M.expectString)(e.message)),r},bW=(e,t)=>{let r={};return e.message!==void 0&&(r.message=(0,M.expectString)(e.message)),r},PW=(e,t)=>{let r={};return e.message!==void 0&&(r.message=(0,M.expectString)(e.message)),r},CW=(e,t)=>{let r={};return e.message!==void 0&&(r.message=(0,M.expectString)(e.message)),r},xW=(e,t)=>{let r={};return e.message!==void 0&&(r.message=(0,M.expectString)(e.message)),r},OW=(e,t)=>{let r={};return e.message!==void 0&&(r.message=(0,M.expectString)(e.message)),r},Xe=e=>{var t,r;return{httpStatusCode:e.statusCode,requestId:(r=(t=e.headers["x-amzn-requestid"])!=null?t:e.headers["x-amzn-request-id"])!=null?r:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},AW=(e,t)=>(0,M.collectBody)(e,t).then(r=>t.utf8Encoder(r)),Cn=(0,M.withBaseException)(O4.STSServiceException),xn=async(e,t,r,n,s)=>{let{hostname:o,protocol:i="https",port:a,path:c}=await e.endpoint(),u={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(u.hostname=n),s!==void 0&&(u.body=s),new C4.HttpRequest(u)},On={"content-type":"application/x-www-form-urlencoded"},Gr=(e,t)=>AW(e,t).then(r=>{if(r.length){let n=new x4.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,u)=>u.trim()===""&&u.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s=n.parse(r),o="#text",i=Object.keys(s)[0],a=s[i];return a[o]&&(a[i]=a[o],delete a[o]),(0,M.getValueFromTextNode)(a)}return{}}),An=async(e,t)=>{var n;let r=await Gr(e,t);return r.Error&&(r.Error.message=(n=r.Error.message)!=null?n:r.Error.Message),r},Tn=e=>Object.entries(e).map(([t,r])=>(0,M.extendedEncodeURIComponent)(t)+"="+(0,M.extendedEncodeURIComponent)(r)).join("&"),Rn=(e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var nf=l(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.AssumeRoleCommand=fo.$Command=void 0;var TW=jr(),RW=N(),IW=k(),OR=C();Object.defineProperty(fo,"$Command",{enumerable:!0,get:function(){return OR.Command}});var NW=Sn(),xR=Wr(),uc=class extends OR.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,IW.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,RW.getEndpointPlugin)(r,uc.getEndpointParameterInstructions())),this.middlewareStack.use((0,TW.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:NW.AssumeRoleResponseFilterSensitiveLog},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,xR.se_AssumeRoleCommand)(t,r)}deserialize(t,r){return(0,xR.de_AssumeRoleCommand)(t,r)}};fo.AssumeRoleCommand=uc});var sf=l(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.AssumeRoleWithWebIdentityCommand=_o.$Command=void 0;var qW=N(),DW=k(),RR=C();Object.defineProperty(_o,"$Command",{enumerable:!0,get:function(){return RR.Command}});var AR=Sn(),TR=Wr(),lc=class extends RR.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,DW.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,qW.getEndpointPlugin)(r,lc.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:AR.AssumeRoleWithWebIdentityRequestFilterSensitiveLog,outputFilterSensitiveLog:AR.AssumeRoleWithWebIdentityResponseFilterSensitiveLog},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,TR.se_AssumeRoleWithWebIdentityCommand)(t,r)}deserialize(t,r){return(0,TR.de_AssumeRoleWithWebIdentityCommand)(t,r)}};_o.AssumeRoleWithWebIdentityCommand=lc});var UE=l(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.decorateDefaultCredentialProvider=ur.getDefaultRoleAssumerWithWebIdentity=ur.getDefaultRoleAssumer=void 0;var kW=nf(),MW=sf(),IR="us-east-1",NR=e=>typeof e!="function"?e===void 0?IR:e:async()=>{try{return await e()}catch{return IR}},FW=(e,t)=>{let r,n;return async(s,o)=>{if(n=s,!r){let{logger:a,region:c,requestHandler:u}=e;r=new t({logger:a,credentialDefaultProvider:()=>async()=>n,region:NR(c||e.region),...u?{requestHandler:u}:{}})}let{Credentials:i}=await r.send(new kW.AssumeRoleCommand(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}};ur.getDefaultRoleAssumer=FW;var jW=(e,t)=>{let r;return async n=>{if(!r){let{logger:o,region:i,requestHandler:a}=e;r=new t({logger:o,region:NR(i||e.region),...a?{requestHandler:a}:{}})}let{Credentials:s}=await r.send(new MW.AssumeRoleWithWebIdentityCommand(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration}}};ur.getDefaultRoleAssumerWithWebIdentity=jW;var LW=e=>t=>e({roleAssumer:(0,ur.getDefaultRoleAssumer)(t,t.stsClientCtor),roleAssumerWithWebIdentity:(0,ur.getDefaultRoleAssumerWithWebIdentity)(t,t.stsClientCtor),...t});ur.decorateDefaultCredentialProvider=LW});var qR=l(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.fromEnv=Je.ENV_EXPIRATION=Je.ENV_SESSION=Je.ENV_SECRET=Je.ENV_KEY=void 0;var UW=ge();Je.ENV_KEY="AWS_ACCESS_KEY_ID";Je.ENV_SECRET="AWS_SECRET_ACCESS_KEY";Je.ENV_SESSION="AWS_SESSION_TOKEN";Je.ENV_EXPIRATION="AWS_CREDENTIAL_EXPIRATION";var zW=()=>async()=>{let e=process.env[Je.ENV_KEY],t=process.env[Je.ENV_SECRET],r=process.env[Je.ENV_SESSION],n=process.env[Je.ENV_EXPIRATION];if(e&&t)return{accessKeyId:e,secretAccessKey:t,...r&&{sessionToken:r},...n&&{expiration:new Date(n)}};throw new UW.CredentialsProviderError("Unable to find environment variable credentials.")};Je.fromEnv=zW});var of=l(zE=>{"use strict";Object.defineProperty(zE,"__esModule",{value:!0});var $W=A();$W.__exportStar(qR(),zE)});var mc=l(af=>{"use strict";Object.defineProperty(af,"__esModule",{value:!0});af.getHomeDir=void 0;var BW=q("os"),VW=q("path"),HW=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${VW.sep}`}=process.env;return e||t||(r?`${n}${r}`:(0,BW.homedir)())};af.getHomeDir=HW});var DR=l(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.getProfileName=lr.DEFAULT_PROFILE=lr.ENV_PROFILE=void 0;lr.ENV_PROFILE="AWS_PROFILE";lr.DEFAULT_PROFILE="default";var GW=e=>e.profile||process.env[lr.ENV_PROFILE]||lr.DEFAULT_PROFILE;lr.getProfileName=GW});var $E=l(cf=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.getSSOTokenFilepath=void 0;var WW=q("crypto"),KW=q("path"),YW=mc(),QW=e=>{let r=(0,WW.createHash)("sha1").update(e).digest("hex");return(0,KW.join)((0,YW.getHomeDir)(),".aws","sso","cache",`${r}.json`)};cf.getSSOTokenFilepath=QW});var kR=l(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.getSSOTokenFromFile=void 0;var XW=q("fs"),JW=$E(),{readFile:ZW}=XW.promises,e5=async e=>{let t=(0,JW.getSSOTokenFilepath)(e),r=await ZW(t,"utf8");return JSON.parse(r)};df.getSSOTokenFromFile=e5});var BE=l(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.getConfigFilepath=Ss.ENV_CONFIG_PATH=void 0;var t5=q("path"),r5=mc();Ss.ENV_CONFIG_PATH="AWS_CONFIG_FILE";var n5=()=>process.env[Ss.ENV_CONFIG_PATH]||(0,t5.join)((0,r5.getHomeDir)(),".aws","config");Ss.getConfigFilepath=n5});var MR=l(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.getCredentialsFilepath=bs.ENV_CREDENTIALS_PATH=void 0;var s5=q("path"),o5=mc();bs.ENV_CREDENTIALS_PATH="AWS_SHARED_CREDENTIALS_FILE";var i5=()=>process.env[bs.ENV_CREDENTIALS_PATH]||(0,s5.join)((0,o5.getHomeDir)(),".aws","credentials");bs.getCredentialsFilepath=i5});var jR=l(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});uf.getProfileData=void 0;var FR=/^profile\s(["'])?([^\1]+)\1$/,a5=e=>Object.entries(e).filter(([t])=>FR.test(t)).reduce((t,[r,n])=>({...t,[FR.exec(r)[2]]:n}),{...e.default&&{default:e.default}});uf.getProfileData=a5});var VE=l(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.parseIni=void 0;var c5=["__proto__","profile __proto__"],d5=e=>{let t={},r;for(let n of e.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(r=n.substring(1,n.length-1),c5.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let o=n.indexOf("="),i=0,a=n.length-1;if(o!==-1&&o!==i&&o!==a){let[u,d]=[n.substring(0,o).trim(),n.substring(o+1).trim()];t[r]=t[r]||{},t[r][u]=d}}return t};lf.parseIni=d5});var GE=l(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.slurpFile=void 0;var u5=q("fs"),{readFile:l5}=u5.promises,HE={},m5=(e,t)=>((!HE[e]||(t==null?void 0:t.ignoreCache))&&(HE[e]=l5(e,"utf8")),HE[e]);mf.slurpFile=m5});var WE=l(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});pf.loadSharedConfigFiles=void 0;var p5=BE(),f5=MR(),_5=jR(),LR=VE(),UR=GE(),zR=()=>({}),h5=async(e={})=>{let{filepath:t=(0,f5.getCredentialsFilepath)(),configFilepath:r=(0,p5.getConfigFilepath)()}=e,n=await Promise.all([(0,UR.slurpFile)(r,{ignoreCache:e.ignoreCache}).then(LR.parseIni).then(_5.getProfileData).catch(zR),(0,UR.slurpFile)(t,{ignoreCache:e.ignoreCache}).then(LR.parseIni).catch(zR)]);return{configFile:n[0],credentialsFile:n[1]}};pf.loadSharedConfigFiles=h5});var BR=l(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.getSsoSessionData=void 0;var $R=/^sso-session\s(["'])?([^\1]+)\1$/,y5=e=>Object.entries(e).filter(([t])=>$R.test(t)).reduce((t,[r,n])=>({...t,[$R.exec(r)[2]]:n}),{});ff.getSsoSessionData=y5});var VR=l(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});_f.loadSsoSessionData=void 0;var g5=BE(),E5=BR(),v5=VE(),w5=GE(),S5=()=>({}),b5=async(e={})=>{var t;return(0,w5.slurpFile)((t=e.configFilepath)!==null&&t!==void 0?t:(0,g5.getConfigFilepath)()).then(v5.parseIni).then(E5.getSsoSessionData).catch(S5)};_f.loadSsoSessionData=b5});var HR=l(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.mergeConfigFiles=void 0;var P5=(...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t};hf.mergeConfigFiles=P5});var GR=l(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});yf.parseKnownFiles=void 0;var C5=WE(),x5=HR(),O5=async e=>{let t=await(0,C5.loadSharedConfigFiles)(e);return(0,x5.mergeConfigFiles)(t.configFile,t.credentialsFile)};yf.parseKnownFiles=O5});var KR=l(WR=>{"use strict";Object.defineProperty(WR,"__esModule",{value:!0})});var pr=l(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});var In=A();In.__exportStar(mc(),mr);In.__exportStar(DR(),mr);In.__exportStar($E(),mr);In.__exportStar(kR(),mr);In.__exportStar(WE(),mr);In.__exportStar(VR(),mr);In.__exportStar(GR(),mr);In.__exportStar(KR(),mr)});var Ef=l(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.httpRequest=void 0;var KE=ge(),A5=q("buffer"),T5=q("http");function R5(e){return new Promise((t,r)=>{var n;let s=(0,T5.request)({method:"GET",...e,hostname:(n=e.hostname)===null||n===void 0?void 0:n.replace(/^\[(.+)\]$/,"$1")});s.on("error",o=>{r(Object.assign(new KE.ProviderError("Unable to connect to instance metadata service"),o)),s.destroy()}),s.on("timeout",()=>{r(new KE.ProviderError("TimeoutError from instance metadata service")),s.destroy()}),s.on("response",o=>{let{statusCode:i=400}=o;(i<200||300<=i)&&(r(Object.assign(new KE.ProviderError("Error response received from instance metadata service"),{statusCode:i})),s.destroy());let a=[];o.on("data",c=>{a.push(c)}),o.on("end",()=>{t(A5.Buffer.concat(a)),s.destroy()})}),s.end()})}gf.httpRequest=R5});var YE=l(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.fromImdsCredentials=ho.isImdsCredentials=void 0;var I5=e=>Boolean(e)&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string";ho.isImdsCredentials=I5;var N5=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)});ho.fromImdsCredentials=N5});var vf=l(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.providerConfigFromInit=fr.DEFAULT_MAX_RETRIES=fr.DEFAULT_TIMEOUT=void 0;fr.DEFAULT_TIMEOUT=1e3;fr.DEFAULT_MAX_RETRIES=0;var q5=({maxRetries:e=fr.DEFAULT_MAX_RETRIES,timeout:t=fr.DEFAULT_TIMEOUT})=>({maxRetries:e,timeout:t});fr.providerConfigFromInit=q5});var QE=l(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.retry=void 0;var D5=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r};wf.retry=D5});var QR=l($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.fromContainerMetadata=$e.ENV_CMDS_AUTH_TOKEN=$e.ENV_CMDS_RELATIVE_URI=$e.ENV_CMDS_FULL_URI=void 0;var Sf=ge(),k5=q("url"),M5=Ef(),YR=YE(),F5=vf(),j5=QE();$e.ENV_CMDS_FULL_URI="AWS_CONTAINER_CREDENTIALS_FULL_URI";$e.ENV_CMDS_RELATIVE_URI="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI";$e.ENV_CMDS_AUTH_TOKEN="AWS_CONTAINER_AUTHORIZATION_TOKEN";var L5=(e={})=>{let{timeout:t,maxRetries:r}=(0,F5.providerConfigFromInit)(e);return()=>(0,j5.retry)(async()=>{let n=await V5(),s=JSON.parse(await U5(t,n));if(!(0,YR.isImdsCredentials)(s))throw new Sf.CredentialsProviderError("Invalid response received from instance metadata service.");return(0,YR.fromImdsCredentials)(s)},r)};$e.fromContainerMetadata=L5;var U5=async(e,t)=>(process.env[$e.ENV_CMDS_AUTH_TOKEN]&&(t.headers={...t.headers,Authorization:process.env[$e.ENV_CMDS_AUTH_TOKEN]}),(await(0,M5.httpRequest)({...t,timeout:e})).toString()),z5="169.254.170.2",$5={localhost:!0,"127.0.0.1":!0},B5={"http:":!0,"https:":!0},V5=async()=>{if(process.env[$e.ENV_CMDS_RELATIVE_URI])return{hostname:z5,path:process.env[$e.ENV_CMDS_RELATIVE_URI]};if(process.env[$e.ENV_CMDS_FULL_URI]){let e=(0,k5.parse)(process.env[$e.ENV_CMDS_FULL_URI]);if(!e.hostname||!(e.hostname in $5))throw new Sf.CredentialsProviderError(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in B5))throw new Sf.CredentialsProviderError(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new Sf.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${$e.ENV_CMDS_RELATIVE_URI} or ${$e.ENV_CMDS_FULL_URI} environment variable is set`,!1)}});var XR=l(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.fromEnv=void 0;var H5=ge(),G5=e=>async()=>{try{let t=e(process.env);if(t===void 0)throw new Error;return t}catch(t){throw new H5.CredentialsProviderError(t.message||`Cannot load config from environment variables with getter: ${e}`)}};bf.fromEnv=G5});var ZR=l(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});Pf.fromSharedConfigFiles=void 0;var W5=ge(),JR=pr(),K5=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=(0,JR.getProfileName)(r),{configFile:s,credentialsFile:o}=await(0,JR.loadSharedConfigFiles)(r),i=o[n]||{},a=s[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let u=e(c);if(u===void 0)throw new Error;return u}catch(u){throw new W5.CredentialsProviderError(u.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${e}`)}};Pf.fromSharedConfigFiles=K5});var eI=l(Cf=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});Cf.fromStatic=void 0;var Y5=ge(),Q5=e=>typeof e=="function",X5=e=>Q5(e)?async()=>await e():(0,Y5.fromStatic)(e);Cf.fromStatic=X5});var rI=l(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.loadConfig=void 0;var tI=ge(),J5=XR(),Z5=ZR(),e9=eI(),t9=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>(0,tI.memoize)((0,tI.chain)((0,J5.fromEnv)(e),(0,Z5.fromSharedConfigFiles)(t,n),(0,e9.fromStatic)(r)));xf.loadConfig=t9});var Nn=l(XE=>{"use strict";Object.defineProperty(XE,"__esModule",{value:!0});var r9=A();r9.__exportStar(rI(),XE)});var nI=l(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.Endpoint=void 0;var n9;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(n9=pc.Endpoint||(pc.Endpoint={}))});var sI=l(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.ENDPOINT_CONFIG_OPTIONS=_r.CONFIG_ENDPOINT_NAME=_r.ENV_ENDPOINT_NAME=void 0;_r.ENV_ENDPOINT_NAME="AWS_EC2_METADATA_SERVICE_ENDPOINT";_r.CONFIG_ENDPOINT_NAME="ec2_metadata_service_endpoint";_r.ENDPOINT_CONFIG_OPTIONS={environmentVariableSelector:e=>e[_r.ENV_ENDPOINT_NAME],configFileSelector:e=>e[_r.CONFIG_ENDPOINT_NAME],default:void 0}});var JE=l(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.EndpointMode=void 0;var s9;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(s9=fc.EndpointMode||(fc.EndpointMode={}))});var oI=l(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.ENDPOINT_MODE_CONFIG_OPTIONS=hr.CONFIG_ENDPOINT_MODE_NAME=hr.ENV_ENDPOINT_MODE_NAME=void 0;var o9=JE();hr.ENV_ENDPOINT_MODE_NAME="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE";hr.CONFIG_ENDPOINT_MODE_NAME="ec2_metadata_service_endpoint_mode";hr.ENDPOINT_MODE_CONFIG_OPTIONS={environmentVariableSelector:e=>e[hr.ENV_ENDPOINT_MODE_NAME],configFileSelector:e=>e[hr.CONFIG_ENDPOINT_MODE_NAME],default:o9.EndpointMode.IPv4}});var e0=l(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.getInstanceMetadataEndpoint=void 0;var aI=Nn(),i9=ms(),iI=nI(),a9=sI(),ZE=JE(),c9=oI(),d9=async()=>(0,i9.parseUrl)(await u9()||await l9());Of.getInstanceMetadataEndpoint=d9;var u9=async()=>(0,aI.loadConfig)(a9.ENDPOINT_CONFIG_OPTIONS)(),l9=async()=>{let e=await(0,aI.loadConfig)(c9.ENDPOINT_MODE_CONFIG_OPTIONS)();switch(e){case ZE.EndpointMode.IPv4:return iI.Endpoint.IPv4;case ZE.EndpointMode.IPv6:return iI.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(ZE.EndpointMode)}`)}}});var cI=l(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.getExtendedInstanceMetadataCredentials=void 0;var m9=5*60,p9=5*60,f9="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",_9=(e,t)=>{var r;let n=m9+Math.floor(Math.random()*p9),s=new Date(Date.now()+n*1e3);t.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+f9);let o=(r=e.originalExpiration)!==null&&r!==void 0?r:e.expiration;return{...e,...o?{originalExpiration:o}:{},expiration:s}};Af.getExtendedInstanceMetadataCredentials=_9});var uI=l(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});Tf.staticStabilityProvider=void 0;var dI=cI(),h9=(e,t={})=>{let r=(t==null?void 0:t.logger)||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=(0,dI.getExtendedInstanceMetadataCredentials)(s,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),s=(0,dI.getExtendedInstanceMetadataCredentials)(n,r);else throw o}return n=s,s}};Tf.staticStabilityProvider=h9});var fI=l(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});Rf.fromInstanceMetadata=void 0;var y9=ge(),t0=Ef(),lI=YE(),g9=vf(),mI=QE(),E9=e0(),v9=uI(),pI="/latest/meta-data/iam/security-credentials/",w9="/latest/api/token",S9=(e={})=>(0,v9.staticStabilityProvider)(b9(e),{logger:e.logger});Rf.fromInstanceMetadata=S9;var b9=e=>{let t=!1,{timeout:r,maxRetries:n}=(0,g9.providerConfigFromInit)(e),s=async(o,i)=>{let a=(await(0,mI.retry)(async()=>{let c;try{c=await C9(i)}catch(u){throw u.statusCode===401&&(t=!1),u}return c},o)).trim();return(0,mI.retry)(async()=>{let c;try{c=await x9(a,i)}catch(u){throw u.statusCode===401&&(t=!1),u}return c},o)};return async()=>{let o=await(0,E9.getInstanceMetadataEndpoint)();if(t)return s(n,{...o,timeout:r});{let i;try{i=(await P9({...o,timeout:r})).toString()}catch(a){if((a==null?void 0:a.statusCode)===400)throw Object.assign(a,{message:"EC2 Metadata token request returned error"});return(a.message==="TimeoutError"||[403,404,405].includes(a.statusCode))&&(t=!0),s(n,{...o,timeout:r})}return s(n,{...o,headers:{"x-aws-ec2-metadata-token":i},timeout:r})}}},P9=async e=>(0,t0.httpRequest)({...e,path:w9,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),C9=async e=>(await(0,t0.httpRequest)({...e,path:pI})).toString(),x9=async(e,t)=>{let r=JSON.parse((await(0,t0.httpRequest)({...t,path:pI+e})).toString());if(!(0,lI.isImdsCredentials)(r))throw new y9.CredentialsProviderError("Invalid response received from instance metadata service.");return(0,lI.fromImdsCredentials)(r)}});var hI=l(_I=>{"use strict";Object.defineProperty(_I,"__esModule",{value:!0})});var Nf=l(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.getInstanceMetadataEndpoint=yr.httpRequest=void 0;var If=A();If.__exportStar(QR(),yr);If.__exportStar(fI(),yr);If.__exportStar(vf(),yr);If.__exportStar(hI(),yr);var O9=Ef();Object.defineProperty(yr,"httpRequest",{enumerable:!0,get:function(){return O9.httpRequest}});var A9=e0();Object.defineProperty(yr,"getInstanceMetadataEndpoint",{enumerable:!0,get:function(){return A9.getInstanceMetadataEndpoint}})});var gI=l(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});qf.resolveCredentialSource=void 0;var T9=of(),yI=Nf(),R9=ge(),I9=(e,t)=>{let r={EcsContainer:yI.fromContainerMetadata,Ec2InstanceMetadata:yI.fromInstanceMetadata,Environment:T9.fromEnv};if(e in r)return r[e]();throw new R9.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};qf.resolveCredentialSource=I9});var EI=l(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.resolveAssumeRoleCredentials=yo.isAssumeRoleProfile=void 0;var r0=ge(),N9=pr(),q9=gI(),D9=n0(),k9=e=>Boolean(e)&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(M9(e)||F9(e));yo.isAssumeRoleProfile=k9;var M9=e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u",F9=e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u",j9=async(e,t,r,n={})=>{let s=t[e];if(!r.roleAssumer)throw new r0.CredentialsProviderError(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:o}=s;if(o&&o in n)throw new r0.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,N9.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let i=o?(0,D9.resolveProfileData)(o,t,r,{...n,[o]:!0}):(0,q9.resolveCredentialSource)(s.credential_source,e)(),a={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id},{mfa_serial:c}=s;if(c){if(!r.mfaCodeProvider)throw new r0.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=c,a.TokenCode=await r.mfaCodeProvider(c)}let u=await i;return r.roleAssumer(u,a)};yo.resolveAssumeRoleCredentials=j9});var vI=l(Df=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});Df.getValidatedProcessCredentials=void 0;var L9=(e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)}}};Df.getValidatedProcessCredentials=L9});var wI=l(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.resolveProcessCredentials=void 0;var s0=ge(),U9=q("child_process"),z9=q("util"),$9=vI(),B9=async(e,t)=>{let r=t[e];if(t[e]){let n=r.credential_process;if(n!==void 0){let s=(0,z9.promisify)(U9.exec);try{let{stdout:o}=await s(n),i;try{i=JSON.parse(o.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return(0,$9.getValidatedProcessCredentials)(e,i)}catch(o){throw new s0.CredentialsProviderError(o.message)}}else throw new s0.CredentialsProviderError(`Profile ${e} did not contain credential_process.`)}else throw new s0.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`)};kf.resolveProcessCredentials=B9});var bI=l(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.fromProcess=void 0;var SI=pr(),V9=wI(),H9=(e={})=>async()=>{let t=await(0,SI.parseKnownFiles)(e);return(0,V9.resolveProcessCredentials)((0,SI.getProfileName)(e),t)};Mf.fromProcess=H9});var i0=l(o0=>{"use strict";Object.defineProperty(o0,"__esModule",{value:!0});var G9=A();G9.__exportStar(bI(),o0)});var PI=l(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.resolveProcessCredentials=go.isProcessProfile=void 0;var W9=i0(),K9=e=>Boolean(e)&&typeof e=="object"&&typeof e.credential_process=="string";go.isProcessProfile=K9;var Y9=async(e,t)=>(0,W9.fromProcess)({...e,profile:t})();go.resolveProcessCredentials=Y9});var a0=l(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.isSsoProfile=void 0;var Q9=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string");Ff.isSsoProfile=Q9});var CI=l(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.resolveClientEndpointParameters=void 0;var X9=e=>{var t,r;return{...e,useDualstackEndpoint:(t=e.useDualstackEndpoint)!=null?t:!1,useFipsEndpoint:(r=e.useFipsEndpoint)!=null?r:!1,defaultSigningName:"awsssoportal"}};jf.resolveClientEndpointParameters=X9});var xI=l((Ype,J9)=>{J9.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.363.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/middleware-host-header":"3.363.0","@aws-sdk/middleware-logger":"3.363.0","@aws-sdk/middleware-recursion-detection":"3.363.0","@aws-sdk/middleware-user-agent":"3.363.0","@aws-sdk/types":"3.357.0","@aws-sdk/util-endpoints":"3.357.0","@aws-sdk/util-user-agent-browser":"3.363.0","@aws-sdk/util-user-agent-node":"3.363.0","@smithy/config-resolver":"^1.0.1","@smithy/fetch-http-handler":"^1.0.1","@smithy/hash-node":"^1.0.1","@smithy/invalid-dependency":"^1.0.1","@smithy/middleware-content-length":"^1.0.1","@smithy/middleware-endpoint":"^1.0.1","@smithy/middleware-retry":"^1.0.2","@smithy/middleware-serde":"^1.0.1","@smithy/middleware-stack":"^1.0.1","@smithy/node-config-provider":"^1.0.1","@smithy/node-http-handler":"^1.0.2","@smithy/protocol-http":"^1.0.1","@smithy/smithy-client":"^1.0.3","@smithy/types":"^1.0.0","@smithy/url-parser":"^1.0.1","@smithy/util-base64":"^1.0.1","@smithy/util-body-length-browser":"^1.0.1","@smithy/util-body-length-node":"^1.0.1","@smithy/util-defaults-mode-browser":"^1.0.1","@smithy/util-defaults-mode-node":"^1.0.1","@smithy/util-retry":"^1.0.2","@smithy/util-utf8":"^1.0.1",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@smithy/service-client-documentation-generator":"^1.0.1","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Lf=l(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.newLiftedPromise=Eo.makeSelfCleaningPromise=void 0;function Z9(e,t){return t?e.finally(()=>{t()}):e}Eo.makeSelfCleaningPromise=Z9;function eK(e){let t,r,n=new Promise((s,o)=>{t=s,r=o});if(!t||!r)throw new Error("Failed to bind resolve and reject when making lifted promise");return e&&e(t,r),{promise:n,resolve:t,reject:r}}Eo.newLiftedPromise=eK});var AI=l(Be=>{"use strict";var tK=Be&&Be.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),rK=Be&&Be.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),nK=Be&&Be.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&tK(t,e,r);return rK(t,e),t};Object.defineProperty(Be,"__esModule",{value:!0});Be.newCancellablePromiseFromNextEvent=Be.CancelController=Be.EVENT_NAME=void 0;var sK=q("events"),OI=nK(Lf());Be.EVENT_NAME="cancelled";var c0=class{constructor(t){this.cancelled=!1,t&&t.emitterFactory?this.emitter=t.emitterFactory():this.emitter=new sK.EventEmitter}cancel(){this.cancelled||(this.cancelled=!0,this.emitter.emit(Be.EVENT_NAME),this.emitter.removeAllListeners(Be.EVENT_NAME))}hasBeenCancelled(){return this.cancelled}addListener(t){if(this.cancelled){t();return}return this.emitter.on(Be.EVENT_NAME,t),()=>{this.emitter.removeListener(Be.EVENT_NAME,t)}}};Be.CancelController=c0;function oK(e){let t,r,n=OI.newLiftedPromise();return t=s=>{try{e.eventDataTransformer?n.resolve(e.eventDataTransformer(s)):n.resolve(s)}catch(o){n.reject(o)}},e.emitter.addListener(e.eventName,t),e.cancelController&&(r=e.cancelController.addListener(()=>{n.reject(e.cancelMessage)})),OI.makeSelfCleaningPromise(n.promise,()=>{t&&e.emitter.removeListener(e.eventName,t),r&&r()})}Be.newCancellablePromiseFromNextEvent=oK});var TI=l((Jpe,iK)=>{iK.exports={name:"aws-crt",version:"1.15.20",description:"NodeJS/browser bindings to the aws-c-* libraries",homepage:"https://github.com/awslabs/aws-crt-nodejs",repository:{type:"git",url:"git+https://github.com/awslabs/aws-crt-nodejs.git"},contributors:["AWS Common Runtime Team <aws-sdk-common-runtime@amazon.com>"],license:"Apache-2.0",main:"./dist/index.js",browser:"./dist.browser/browser.js",types:"./dist/index.d.ts",scripts:{tsc:"node ./scripts/tsc.js",test:"npm run test:native","test:node":"npm run test:native","test:native":"npx jest --runInBand --verbose --config test/native/jest.config.js --forceExit","test:browser":"npx jest --runInBand --verbose --config test/browser/jest.config.js --forceExit","test:browser:ci":"npm run install:puppeteer && npm run test:browser","install:puppeteer":"npm install --save-dev jest-puppeteer puppeteer @types/puppeteer",prepare:"node ./scripts/tsc.js && node ./scripts/install.js",install:"node ./scripts/install.js"},devDependencies:{"@types/crypto-js":"^3.1.43","@types/jest":"^27.0.1","@types/node":"^10.17.54","@types/prettier":"2.6.0","@types/puppeteer":"^5.4.7","@types/uuid":"^3.4.8","@types/ws":"^7.4.7","aws-sdk":"^2.848.0","cmake-js":"^6.3.2","https-proxy-agent":"^5.0.1",jest:"^27.2.1","jest-puppeteer":"^5.0.4","jest-runtime":"^27.2.1",puppeteer:"^3.3.0",tar:"^6.1.11","ts-jest":"^27.0.5",typedoc:"^0.22.18","typedoc-plugin-merge-modules":"^3.1.0",typescript:"^4.7.4",uuid:"^8.3.2",yargs:"^17.2.1"},dependencies:{"@aws-sdk/util-utf8-browser":"^3.109.0","@httptoolkit/websocket-stream":"^6.0.0",axios:"^0.24.0",buffer:"^6.0.3","cmake-js":"^6.3.2","crypto-js":"^4.0.0",mqtt:"^4.3.7",process:"^0.11.10",tar:"^6.1.11"}}});var Uf=l(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.crt_version=gr.package_info=gr.is_browser=gr.is_nodejs=void 0;function RI(){return typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node<"u"}gr.is_nodejs=RI;function aK(){return!RI()}gr.is_browser=aK;function II(){try{return TI()}catch{return{name:"aws-crt-nodejs",version:"UNKNOWN"}}}gr.package_info=II;function cK(){return II().version}gr.crt_version=cK});var NI=l(vo=>{"use strict";var dK=vo&&vo.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(p){i(p)}}function c(d){try{u(n.throw(d))}catch(p){i(p)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(vo,"__esModule",{value:!0});vo.using=void 0;function uK(e,t){return dK(this,void 0,void 0,function*(){try{yield t(e)}finally{e.close()}})}vo.using=uK});var Ht=l(Kr=>{"use strict";var lK=Kr&&Kr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),mK=Kr&&Kr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),pK=Kr&&Kr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&lK(t,e,r);return mK(t,e),t};Object.defineProperty(Kr,"__esModule",{value:!0});var zf=pK(q("path")),qI=q("os"),FI=q("fs"),DI=q("process"),kI="Please upgrade to node >=10.16.0, or use the provided browser implementation.";if("napi"in DI.versions){if(parseInt(DI.versions.napi)<4)throw new Error("The AWS CRT native implementation requires that NAPI version 4 be present. "+kI)}else throw new Error("The current runtime is not reporting an NAPI version. "+kI);var fK="aws-crt-nodejs",_K=`${qI.platform}-${qI.arch}`,d0=zf.resolve(__dirname,"..",".."),MI=zf.join(d0,"dist");(0,FI.existsSync)(MI)&&(d0=MI);var hK=zf.resolve(d0,"bin"),jI=[zf.join(hK,_K,fK)],u0;for(let e of jI)if((0,FI.existsSync)(e+".node")){u0=q(e);break}if(u0==null)throw new Error(`AWS CRT binary not present in any of the following locations:
	`+jI.join(`
	`));Kr.default=u0});var Gt=l(So=>{"use strict";var yK=So&&So.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(So,"__esModule",{value:!0});So.CrtError=void 0;var LI=yK(Ht()),wo=class extends Error{constructor(t){super(gK(t)),this.error=t,this.error_code=EK(t),this.error_name=vK(t)}};So.CrtError=wo;function gK(e){return typeof e=="number"?LI.default.error_code_to_string(e):e instanceof wo?e.message:e.toString()}function EK(e){if(typeof e=="number")return e;if(e instanceof wo)return e.error_code}function vK(e){if(typeof e=="number")return LI.default.error_code_to_name(e);if(e instanceof wo)return e.error_name}});var Ps=l(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.NativeResourceMixin=bo.NativeResource=void 0;var l0=class{constructor(t){this.handle=t}native_handle(){return this.handle}};bo.NativeResource=l0;function wK(e){return class extends e{constructor(...t){let r=t.shift();super(...t),this._handle=r}_super(t){this._handle=t}native_handle(){return this._handle}}}bo.NativeResourceMixin=wK});var m0=l(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.SocketDomain=Wt.SocketType=Wt.TlsVersion=void 0;var SK;(function(e){e[e.SSLv3=0]="SSLv3",e[e.TLSv1=1]="TLSv1",e[e.TLSv1_1=2]="TLSv1_1",e[e.TLSv1_2=3]="TLSv1_2",e[e.TLSv1_3=4]="TLSv1_3",e[e.Default=128]="Default"})(SK=Wt.TlsVersion||(Wt.TlsVersion={}));var bK;(function(e){e[e.STREAM=0]="STREAM",e[e.DGRAM=1]="DGRAM"})(bK=Wt.SocketType||(Wt.SocketType={}));var PK;(function(e){e[e.IPV4=0]="IPV4",e[e.IPV6=1]="IPV6",e[e.LOCAL=2]="LOCAL"})(PK=Wt.SocketDomain||(Wt.SocketDomain={}))});var Yr=l(B=>{"use strict";var CK=B&&B.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(B,"__esModule",{value:!0});B.Pkcs11Lib=B.TlsConnectionOptions=B.ServerTlsContext=B.ClientTlsContext=B.TlsContext=B.TlsContextOptions=B.SocketOptions=B.ClientBootstrap=B.InputStream=B.is_alpn_available=B.enable_logging=B.LogLevel=B.error_code_to_name=B.error_code_to_string=B.SocketDomain=B.SocketType=B.TlsVersion=void 0;var St=CK(Ht()),Co=Ps(),p0=m0(),v0=m0();Object.defineProperty(B,"TlsVersion",{enumerable:!0,get:function(){return v0.TlsVersion}});Object.defineProperty(B,"SocketType",{enumerable:!0,get:function(){return v0.SocketType}});Object.defineProperty(B,"SocketDomain",{enumerable:!0,get:function(){return v0.SocketDomain}});var UI=Gt();function xK(e){return St.default.error_code_to_string(e)}B.error_code_to_string=xK;function OK(e){return St.default.error_code_to_name(e)}B.error_code_to_name=OK;var AK;(function(e){e[e.NONE=0]="NONE",e[e.FATAL=1]="FATAL",e[e.ERROR=2]="ERROR",e[e.WARN=3]="WARN",e[e.INFO=4]="INFO",e[e.DEBUG=5]="DEBUG",e[e.TRACE=6]="TRACE"})(AK=B.LogLevel||(B.LogLevel={}));function TK(e){St.default.io_logging_enable(e)}B.enable_logging=TK;function RK(){return St.default.is_alpn_available()}B.is_alpn_available=RK;var f0=class extends Co.NativeResource{constructor(t){super(St.default.io_input_stream_new(16*1024)),this.source=t,this.source.on("data",r=>{r=Buffer.isBuffer(r)?r:Buffer.from(r.toString()),St.default.io_input_stream_append(this.native_handle(),r)}),this.source.on("end",()=>{St.default.io_input_stream_append(this.native_handle(),void 0)})}};B.InputStream=f0;var _0=class extends Co.NativeResource{constructor(){super(St.default.io_client_bootstrap_new())}};B.ClientBootstrap=_0;var h0=class extends Co.NativeResource{constructor(t=p0.SocketType.STREAM,r=p0.SocketDomain.IPV6,n=5e3,s=!1,o=0,i=0,a=0){super(St.default.io_socket_options_new(t,r,n,o,i,a,s))}};B.SocketOptions=h0;var wt=class{constructor(){this.min_tls_version=p0.TlsVersion.Default,this.alpn_list=[],this.verify_peer=!0}override_default_trust_store_from_path(t,r){this.ca_dirpath=t,this.ca_filepath=r}override_default_trust_store(t){this.certificate_authority=t}static create_client_with_mtls(t,r){let n=new wt;return n.certificate=t,n.private_key=r,n.verify_peer=!0,n}static create_client_with_mtls_from_path(t,r){let n=new wt;return n.certificate_filepath=t,n.private_key_filepath=r,n.verify_peer=!0,n}static create_client_with_mtls_pkcs12_from_path(t,r){let n=new wt;return n.pkcs12_filepath=t,n.pkcs12_password=r,n.verify_peer=!0,n}static create_client_with_mtls_pkcs_from_path(t,r){return this.create_client_with_mtls_pkcs12_from_path(t,r)}static create_client_with_mtls_pkcs11(t){let r=new wt;return r.pkcs11_options=t,r.verify_peer=!0,r}static create_client_with_mtls_windows_cert_store_path(t){let r=new wt;return r.windows_cert_store_path=t,r.verify_peer=!0,r}static create_server_with_mtls_from_path(t,r){let n=new wt;return n.certificate_filepath=t,n.private_key_filepath=r,n.verify_peer=!1,n}static create_server_with_mtls_pkcs_from_path(t,r){let n=new wt;return n.pkcs12_filepath=t,n.pkcs12_password=r,n.verify_peer=!1,n}};B.TlsContextOptions=wt;var _c=class extends Co.NativeResource{constructor(t){if(t==null||t==null)throw new UI.CrtError("TlsContext constructor: ctx_opt not defined");super(St.default.io_tls_ctx_new(t.min_tls_version,t.ca_filepath,t.ca_dirpath,t.certificate_authority,t.alpn_list&&t.alpn_list.length>0?t.alpn_list.join(";"):void 0,t.certificate_filepath,t.certificate,t.private_key_filepath,t.private_key,t.pkcs12_filepath,t.pkcs12_password,t.pkcs11_options,t.windows_cert_store_path,t.verify_peer))}};B.TlsContext=_c;var y0=class extends _c{constructor(t){t||(t=new wt,t.verify_peer=!0),super(t)}};B.ClientTlsContext=y0;var g0=class extends _c{constructor(t){t||(t=new wt,t.verify_peer=!1),super(t)}};B.ServerTlsContext=g0;var E0=class extends Co.NativeResource{constructor(t,r,n=[]){if(t==null||t==null)throw new UI.CrtError("TlsConnectionOptions constructor: tls_ctx not defined");super(St.default.io_tls_connection_options_new(t.native_handle(),r,n&&n.length>0?n.join(";"):void 0)),this.tls_ctx=t,this.server_name=r,this.alpn_list=n}};B.TlsConnectionOptions=E0;var Po=class extends Co.NativeResource{constructor(t,r=Po.InitializeFinalizeBehavior.DEFAULT){super(St.default.io_pkcs11_lib_new(t,r))}close(){St.default.io_pkcs11_lib_close(this.native_handle())}};B.Pkcs11Lib=Po;(function(e){let t;(function(r){r[r.DEFAULT=0]="DEFAULT",r[r.OMIT=1]="OMIT",r[r.STRICT=2]="STRICT"})(t=e.InitializeFinalizeBehavior||(e.InitializeFinalizeBehavior={}))})(Po=B.Pkcs11Lib||(B.Pkcs11Lib={}))});var $f=l(Oe=>{"use strict";var IK=Oe&&Oe.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(p){i(p)}}function c(d){try{u(n.throw(d))}catch(p){i(p)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},NK=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.aws_verify_sigv4a_signing=Oe.aws_sign_request=Oe.AwsSignedBodyHeaderType=Oe.AwsSignedBodyValue=Oe.AwsSignatureType=Oe.AwsSigningAlgorithm=Oe.AwsCredentialsProvider=void 0;var b0=NK(Ht()),w0=Gt(),qK=Yr(),S0=class extends b0.default.AwsCredentialsProvider{static newDefault(t=void 0){return super.newDefault(t!=null?t.native_handle():null)}static newStatic(t,r,n){return super.newStatic(t,r,n)}static newCognito(t){if(t==null||t==null)throw new w0.CrtError("AwsCredentialsProvider newCognito: Cognito config not defined");return super.newCognito(t,t.tlsContext!=null?t.tlsContext.native_handle():new qK.ClientTlsContext().native_handle(),t.bootstrap!=null?t.bootstrap.native_handle():null,t.httpProxyOptions?t.httpProxyOptions.create_native_handle():null)}static newX509(t){if(t==null||t==null)throw new w0.CrtError("AwsCredentialsProvider newX509: X509 config not defined");return super.newX509(t,t.tlsContext.native_handle(),t.httpProxyOptions?t.httpProxyOptions.create_native_handle():null)}};Oe.AwsCredentialsProvider=S0;var DK;(function(e){e[e.SigV4=0]="SigV4",e[e.SigV4Asymmetric=1]="SigV4Asymmetric"})(DK=Oe.AwsSigningAlgorithm||(Oe.AwsSigningAlgorithm={}));var kK;(function(e){e[e.HttpRequestViaHeaders=0]="HttpRequestViaHeaders",e[e.HttpRequestViaQueryParams=1]="HttpRequestViaQueryParams",e[e.HttpRequestChunk=2]="HttpRequestChunk",e[e.HttpRequestEvent=3]="HttpRequestEvent"})(kK=Oe.AwsSignatureType||(Oe.AwsSignatureType={}));var MK;(function(e){e.EmptySha256="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",e.UnsignedPayload="UNSIGNED-PAYLOAD",e.StreamingAws4HmacSha256Payload="STREAMING-AWS4-HMAC-SHA256-PAYLOAD",e.StreamingAws4HmacSha256Events="STREAMING-AWS4-HMAC-SHA256-EVENTS"})(MK=Oe.AwsSignedBodyValue||(Oe.AwsSignedBodyValue={}));var FK;(function(e){e[e.None=0]="None",e[e.XAmzContentSha256=1]="XAmzContentSha256"})(FK=Oe.AwsSignedBodyHeaderType||(Oe.AwsSignedBodyHeaderType={}));function jK(e,t){return IK(this,void 0,void 0,function*(){return new Promise((r,n)=>{try{b0.default.aws_sign_request(e,t,s=>{s==0?r(e):n(new w0.CrtError(s))})}catch(s){n(s)}})})}Oe.aws_sign_request=jK;function LK(e,t,r,n,s,o){return b0.default.aws_verify_sigv4a_signing(e,t,r,n,s,o)}Oe.aws_verify_sigv4a_signing=LK});var $I=l(qn=>{"use strict";var UK=qn&&qn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qn,"__esModule",{value:!0});qn.crc32c=qn.crc32=void 0;var zI=UK(Ht());function zK(e,t){return zI.default.checksums_crc32(e,t)}qn.crc32=zK;function $K(e,t){return zI.default.checksums_crc32c(e,t)}qn.crc32c=$K});var VI=l(Dn=>{"use strict";var BK=Dn&&Dn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.native_memory_dump=Dn.native_memory=void 0;var BI=BK(Ht());function VK(){return BI.default.native_memory()}Dn.native_memory=VK;function HK(){return BI.default.native_memory_dump()}Dn.native_memory_dump=HK});var GI=l(Le=>{"use strict";var GK=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Le,"__esModule",{value:!0});Le.hmac_sha256=Le.Sha256Hmac=Le.hash_sha1=Le.Sha1Hash=Le.hash_sha256=Le.Sha256Hash=Le.hash_md5=Le.Md5Hash=void 0;var kt=GK(Ht()),HI=Ps(),hc=class extends HI.NativeResource{update(t){kt.default.hash_update(this.native_handle(),t)}finalize(t){return kt.default.hash_digest(this.native_handle(),t)}constructor(t){super(t)}},P0=class extends hc{constructor(){super(kt.default.hash_md5_new())}};Le.Md5Hash=P0;function WK(e,t){return kt.default.hash_md5_compute(e,t)}Le.hash_md5=WK;var C0=class extends hc{constructor(){super(kt.default.hash_sha256_new())}};Le.Sha256Hash=C0;function KK(e,t){return kt.default.hash_sha256_compute(e,t)}Le.hash_sha256=KK;var x0=class extends hc{constructor(){super(kt.default.hash_sha1_new())}};Le.Sha1Hash=x0;function YK(e,t){return kt.default.hash_sha1_compute(e,t)}Le.hash_sha1=YK;var O0=class extends HI.NativeResource{update(t){kt.default.hmac_update(this.native_handle(),t)}finalize(t){return kt.default.hmac_digest(this.native_handle(),t)}constructor(t){super(t)}},A0=class extends O0{constructor(t){super(kt.default.hmac_sha256_new(t))}};Le.Sha256Hmac=A0;function QK(e,t,r){return kt.default.hmac_sha256_compute(e,t,r)}Le.hmac_sha256=QK});var yc=l(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.BufferedEventEmitter=void 0;var XK=q("events"),T0=class{constructor(t,r){this.event=t,this.args=r}},R0=class extends XK.EventEmitter{constructor(){super(),this.corked=!1}cork(){this.corked=!0}uncork(){for(this.corked=!1;this.eventQueue;){let t=this.eventQueue;super.emit(t.event,...t.args),this.eventQueue=this.eventQueue.next}}emit(t,...r){if(this.corked){let n=this.lastQueuedEvent;return this.lastQueuedEvent=new T0(t,r),n?n.next=this.lastQueuedEvent:this.eventQueue=this.lastQueuedEvent,this.listeners(t).length>0}return super.emit(t,...r)}};Bf.BufferedEventEmitter=R0});var KI=l(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.unmarshalInt64BigintFromBuffer=Ae.marshalInt64BigintAsBuffer=Ae.MIN_INT64=Ae.MAX_INT64=Ae.MIN_INT32=Ae.MAX_INT32=Ae.MIN_INT16=Ae.MAX_INT16=Ae.MIN_INT8=Ae.MAX_INT8=void 0;var WI=Gt();Ae.MAX_INT8=127;Ae.MIN_INT8=-128;Ae.MAX_INT16=32767;Ae.MIN_INT16=-32768;Ae.MAX_INT32=2147483647;Ae.MIN_INT32=-2147483648;Ae.MAX_INT64=BigInt("9223372036854775807");Ae.MIN_INT64=BigInt("-9223372036854775808");var xo=BigInt("256");function JK(e){if(e<Ae.MIN_INT64||e>Ae.MAX_INT64)throw new WI.CrtError("marshalInt64BigintAsBuffer expects a value that can fit in 8 bytes");let t=new Uint8Array(8);if(e<0){e=-e-BigInt(1);for(let r=0;r<8;++r)t[r]=255-Number(e%xo),e/=xo}else for(let r=0;r<8;++r)t[r]=Number(e%xo),e/=xo;return t}Ae.marshalInt64BigintAsBuffer=JK;function ZK(e){let t=BigInt(0),r=new Uint8Array(e);if(r.length!=8)throw new WI.CrtError("unmarshalInt64BigintFromBuffer expects a byte buffer of length 8");let n=BigInt(1);if((r[7]&128)!=0){for(let o=0;o<r.length;++o){let i=BigInt(255-r[o]);t+=i*n,n*=xo}t+=BigInt(1),t=-t}else for(let o=0;o<r.length;++o){let i=BigInt(r[o]);t+=i*n,n*=xo}return t}Ae.unmarshalInt64BigintFromBuffer=ZK});var JI=l(Ee=>{"use strict";var e7=Ee&&Ee.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),t7=Ee&&Ee.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),I0=Ee&&Ee.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&e7(t,e,r);return t7(t,e),t},Vf=Ee&&Ee.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(p){i(p)}}function c(d){try{u(n.throw(d))}catch(p){i(p)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},r7=Ee&&Ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.ClientStream=Ee.ClientConnection=Ee.MessageType=Ee.MessageFlags=Ee.Header=Ee.HeaderType=void 0;var YI=Ps(),QI=yc(),Ce=Gt(),Hf=I0(Yr()),Kt=I0(KI()),Gf=I0(Lf()),kn=r7(Ht()),Ie;(function(e){e[e.BooleanTrue=0]="BooleanTrue",e[e.BooleanFalse=1]="BooleanFalse",e[e.Byte=2]="Byte",e[e.Int16=3]="Int16",e[e.Int32=4]="Int32",e[e.Int64=5]="Int64",e[e.ByteBuffer=6]="ByteBuffer",e[e.String=7]="String",e[e.Timestamp=8]="Timestamp",e[e.UUID=9]="UUID"})(Ie=Ee.HeaderType||(Ee.HeaderType={}));var n7=127,_e=class{constructor(t,r,n){this.name=t,this.type=r,this.value=n}static validateHeaderName(t){if(t.length==0||t.length>n7)throw new Ce.CrtError(`Event stream header name (${t}) is not valid`)}static newBoolean(t,r){return _e.validateHeaderName(t),r?new _e(t,Ie.BooleanTrue):new _e(t,Ie.BooleanFalse)}static newByte(t,r){if(_e.validateHeaderName(t),r>=Kt.MIN_INT8&&r<=Kt.MAX_INT8&&Number.isSafeInteger(r))return new _e(t,Ie.Byte,r);throw new Ce.CrtError(`Illegal value for eventstream byte-valued header: ${r}`)}static newInt16(t,r){if(_e.validateHeaderName(t),r>=Kt.MIN_INT16&&r<=Kt.MAX_INT16&&Number.isSafeInteger(r))return new _e(t,Ie.Int16,r);throw new Ce.CrtError(`Illegal value for eventstream int16-valued header: ${r}`)}static newInt32(t,r){if(_e.validateHeaderName(t),r>=Kt.MIN_INT32&&r<=Kt.MAX_INT32&&Number.isSafeInteger(r))return new _e(t,Ie.Int32,r);throw new Ce.CrtError(`Illegal value for eventstream int32-valued header: ${r}`)}static newInt64FromNumber(t,r){if(_e.validateHeaderName(t),Number.isSafeInteger(r))return new _e(t,Ie.Int64,Kt.marshalInt64BigintAsBuffer(BigInt(r)));throw new Ce.CrtError(`Illegal value for eventstream int64-valued header: ${r}`)}static newInt64FromBigint(t,r){if(_e.validateHeaderName(t),r>=Kt.MIN_INT64&&r<=Kt.MAX_INT64)return new _e(t,Ie.Int64,Kt.marshalInt64BigintAsBuffer(r));throw new Ce.CrtError(`Illegal value for eventstream int64-valued header: ${r}`)}static newByteBuffer(t,r){return _e.validateHeaderName(t),new _e(t,Ie.ByteBuffer,r)}static newString(t,r){return _e.validateHeaderName(t),new _e(t,Ie.String,r)}static newTimeStampFromSecondsSinceEpoch(t,r){if(_e.validateHeaderName(t),Number.isSafeInteger(r)&&r>=0)return new _e(t,Ie.Timestamp,r);throw new Ce.CrtError(`Illegal value for eventstream timestamp-valued header: ${r}`)}static newTimeStampFromDate(t,r){_e.validateHeaderName(t);let n=r.getTime();if(Number.isSafeInteger(n))return new _e(t,Ie.Timestamp,n);throw new Ce.CrtError(`Illegal value for eventstream timestamp-valued header: ${r}`)}static newUUID(t,r){if(_e.validateHeaderName(t),r.byteLength==16)return new _e(t,Ie.UUID,r);throw new Ce.CrtError(`Illegal value for eventstream uuid-valued header: ${r}`)}toValue(t){if(t!=this.type)throw new Ce.CrtError(`Header of type (${this.type}) cannot be converted to type (${t})`);return this.value}asBoolean(){switch(this.type){case Ie.BooleanFalse:return!1;case Ie.BooleanTrue:return!0;default:throw new Ce.CrtError(`Header of type (${this.type}) cannot be converted to type (boolean)`)}}asByte(){return this.toValue(Ie.Byte)}asInt16(){return this.toValue(Ie.Int16)}asInt32(){return this.toValue(Ie.Int32)}asInt64(){return Kt.unmarshalInt64BigintFromBuffer(this.toValue(Ie.Int64))}asByteBuffer(){return this.toValue(Ie.ByteBuffer)}asString(){return this.toValue(Ie.String)}asTimestamp(){return this.toValue(Ie.Timestamp)}asUUID(){return this.toValue(Ie.UUID)}};Ee.Header=_e;var s7;(function(e){e[e.None=0]="None",e[e.ConnectionAccepted=1]="ConnectionAccepted",e[e.TerminateStream=2]="TerminateStream"})(s7=Ee.MessageFlags||(Ee.MessageFlags={}));var o7;(function(e){e[e.ApplicationMessage=0]="ApplicationMessage",e[e.ApplicationError=1]="ApplicationError",e[e.Ping=2]="Ping",e[e.PingResponse=3]="PingResponse",e[e.Connect=4]="Connect",e[e.ConnectAck=5]="ConnectAck",e[e.ProtocolError=6]="ProtocolError",e[e.InternalError=7]="InternalError"})(o7=Ee.MessageType||(Ee.MessageType={}));function i7(e){return Array.from(e,t=>new _e(t.name,t.type,t.value))}function XI(e){let t={type:e.type,flags:e.flags,payload:e.payload};return e.headers&&(t.headers=i7(e.headers)),t}var st;(function(e){e[e.None=0]="None",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.Disconnected=3]="Disconnected",e[e.Closed=4]="Closed"})(st||(st={}));var Er=class extends(0,YI.NativeResourceMixin)(QI.BufferedEventEmitter){constructor(t){if(t===void 0)throw new Ce.CrtError("Invalid configuration passed to eventstream ClientConnection constructor");super(),this.state=st.None,this._super(kn.default.event_stream_client_connection_new(this,t,(r,n)=>{Er._s_on_disconnect(r,n)},(r,n)=>{Er._s_on_protocol_message(r,n)},t.socketOptions?t.socketOptions.native_handle():null,t.tlsCtx?t.tlsCtx.native_handle():null))}close(){this.state!=st.Closed&&(this.state=st.Closed,kn.default.event_stream_client_connection_close(this.native_handle()))}connect(t){return Vf(this,void 0,void 0,function*(){let r,n=new Promise((s,o)=>{if(!t){o(new Ce.CrtError("Invalid options passed to event stream ClientConnection.connect"));return}if(this.state!=st.None){o(new Ce.CrtError(`Event stream connection in a state (${this.state}) where connect() is not allowed.`));return}if(this.state=st.Connecting,t.cancelController){let a=()=>{o(new Ce.CrtError("Event stream connection connect() cancelled by external request.")),setImmediate(()=>{this.close()})};if(r=t.cancelController.addListener(a),!r)return}function i(a,c){return Er._s_on_connection_setup(s,o,a,c)}try{kn.default.event_stream_client_connection_connect(this.native_handle(),i)}catch(a){this.state=st.Disconnected,o(a)}});return Gf.makeSelfCleaningPromise(n,r)})}sendProtocolMessage(t){return Vf(this,void 0,void 0,function*(){let r,n=new Promise((s,o)=>{try{let i=function(a){return Er._s_on_connection_send_protocol_message_completion(s,o,a)};if(!t){o(new Ce.CrtError("Invalid options passed to event stream ClientConnection.sendProtocolMessage"));return}if(!this.isConnected()){o(new Ce.CrtError(`Event stream connection in a state (${this.state}) where sending protocol messages is not allowed.`));return}if(t.cancelController){let a=()=>{o(new Ce.CrtError("Event stream connection sendProtocolMessage() cancelled by external request.")),setImmediate(()=>{this.close()})};if(r=t.cancelController.addListener(a),!r)return}kn.default.event_stream_client_connection_send_protocol_message(this.native_handle(),t,i)}catch(i){o(i)}});return Gf.makeSelfCleaningPromise(n,r)})}isConnected(){return this.state==st.Connected}newStream(){if(!this.isConnected())throw new Ce.CrtError(`Event stream connection in a state (${this.state}) where creating new streams is forbidden.`);return new bt(this)}on(t,r){return super.on(t,r),this}static _s_on_connection_setup(t,r,n,s){s==0&&n.state==st.Connecting?(n.state=st.Connected,t()):(n.state!=st.Closed&&(n.state=st.Disconnected),r(Hf.error_code_to_string(s)))}static _s_on_disconnect(t,r){t.state!=st.Closed&&(t.state=st.Disconnected),process.nextTick(()=>{t.emit("disconnection",{errorCode:r})})}static _s_on_protocol_message(t,r){process.nextTick(()=>{t.emit("protocolMessage",{message:XI(r)})})}static _s_on_connection_send_protocol_message_completion(t,r,n){n==0?t():r(Hf.error_code_to_string(n))}};Ee.ClientConnection=Er;Er.DISCONNECTION="disconnection";Er.PROTOCOL_MESSAGE="protocolMessage";var ot;(function(e){e[e.None=0]="None",e[e.Activating=1]="Activating",e[e.Activated=2]="Activated",e[e.Ended=3]="Ended",e[e.Closed=4]="Closed"})(ot||(ot={}));var bt=class extends(0,YI.NativeResourceMixin)(QI.BufferedEventEmitter){constructor(t){super(),this._super(kn.default.event_stream_client_stream_new(this,t.native_handle(),r=>{bt._s_on_stream_ended(r)},(r,n)=>{bt._s_on_stream_message(r,n)})),this.state=ot.None}close(){this.state!=ot.Closed&&(this.state=ot.Closed,kn.default.event_stream_client_stream_close(this.native_handle()))}activate(t){return Vf(this,void 0,void 0,function*(){let r,n=new Promise((s,o)=>{try{let i=function(a,c){return bt._s_on_stream_activated(s,o,a,c)};if(this.state!=ot.None){o(new Ce.CrtError(`Event stream in a state (${this.state}) where activation is not allowed.`));return}if(t===void 0){this.state=ot.Ended,o(new Ce.CrtError("Invalid options passed to ClientStream.activate"));return}if(this.state=ot.Activating,t.cancelController){let a=()=>{o(new Ce.CrtError("Event stream activate() cancelled by external request.")),setImmediate(()=>{this.close()})};if(r=t.cancelController.addListener(a),!r)return}kn.default.event_stream_client_stream_activate(this.native_handle(),t,i)}catch(i){this.state=ot.Ended,o(i)}});return Gf.makeSelfCleaningPromise(n,r)})}sendMessage(t){return Vf(this,void 0,void 0,function*(){let r,n=new Promise((s,o)=>{try{let i=function(a){return bt._s_on_stream_send_message_completion(s,o,a)};if(!t){o(new Ce.CrtError("Invalid options passed to ClientStream.sendMessage"));return}if(this.state!=ot.Activated){o(new Ce.CrtError(`Event stream in a state (${this.state}) where sending messages is not allowed.`));return}if(t.cancelController){let a=()=>{o(new Ce.CrtError("Event stream sendMessage() cancelled by external request.")),setImmediate(()=>{this.close()})};if(r=t.cancelController.addListener(a),!r)return}kn.default.event_stream_client_stream_send_message(this.native_handle(),t,i)}catch(i){o(i)}});return Gf.makeSelfCleaningPromise(n,r)})}isActive(){return this.state==ot.Activated}on(t,r){return super.on(t,r),this}static _s_on_stream_activated(t,r,n,s){s==0&&n.state==ot.Activating?(n.state=ot.Activated,t()):(n.state!=ot.Closed&&(n.state=ot.Ended),r(Hf.error_code_to_string(s)))}static _s_on_stream_send_message_completion(t,r,n){n==0?t():r(Hf.error_code_to_string(n))}static _s_on_stream_ended(t){process.nextTick(()=>{t.emit(bt.ENDED,{})})}static _s_on_stream_message(t,r){process.nextTick(()=>{t.emit(bt.MESSAGE,{message:XI(r)})})}};Ee.ClientStream=bt;bt.ENDED="ended";bt.MESSAGE="message"});var q0=l(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.CommonHttpProxyOptions=vr.HttpProxyAuthenticationType=vr.HttpVersion=void 0;var a7;(function(e){e[e.Unknown=0]="Unknown",e[e.Http1_0=1]="Http1_0",e[e.Http1_1=2]="Http1_1",e[e.Http2=3]="Http2"})(a7=vr.HttpVersion||(vr.HttpVersion={}));var ZI;(function(e){e[e.None=0]="None",e[e.Basic=1]="Basic"})(ZI=vr.HttpProxyAuthenticationType||(vr.HttpProxyAuthenticationType={}));var N0=class{constructor(t,r,n=ZI.None,s,o){this.host_name=t,this.port=r,this.auth_method=n,this.auth_username=s,this.auth_password=o}};vr.CommonHttpProxyOptions=N0});var Yf=l(ve=>{"use strict";var c7=ve&&ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ve,"__esModule",{value:!0});ve.HttpClientConnectionManager=ve.HttpClientStream=ve.HttpStream=ve.HttpClientConnection=ve.HttpProxyOptions=ve.HttpProxyConnectionType=ve.HttpConnection=ve.HttpRequest=ve.HttpHeaders=ve.HttpProxyAuthenticationType=void 0;var Mt=c7(Ht()),F0=Ps(),Cs=Gt(),eN=q0(),d7=q0();Object.defineProperty(ve,"HttpProxyAuthenticationType",{enumerable:!0,get:function(){return d7.HttpProxyAuthenticationType}});var tN=yc();ve.HttpHeaders=Mt.default.HttpHeaders;var u7=Mt.default.HttpRequest,D0=class extends u7{constructor(t,r,n,s){super(t,r,n,s==null?void 0:s.native_handle())}};ve.HttpRequest=D0;var xs=class extends(0,F0.NativeResourceMixin)(tN.BufferedEventEmitter){constructor(t){super(),this._super(t)}close(){Mt.default.http_connection_close(this.native_handle())}on(t,r){return super.on(t,r),t=="connect"&&process.nextTick(()=>{this.uncork()}),this}};ve.HttpConnection=xs;xs.CONNECT="connect";xs.ERROR="error";xs.CLOSE="close";var rN;(function(e){e[e.Legacy=0]="Legacy",e[e.Forwarding=1]="Forwarding",e[e.Tunneling=2]="Tunneling"})(rN=ve.HttpProxyConnectionType||(ve.HttpProxyConnectionType={}));var k0=class extends eN.CommonHttpProxyOptions{constructor(t,r,n=eN.HttpProxyAuthenticationType.None,s,o,i,a){super(t,r,n,s,o),this.tls_opts=i,this.connection_type=a}create_native_handle(){return Mt.default.http_proxy_options_new(this.host_name,this.port,this.auth_method,this.auth_username,this.auth_password,this.tls_opts?this.tls_opts.native_handle():void 0,this.connection_type?this.connection_type:rN.Legacy)}};ve.HttpProxyOptions=k0;var Wf=class extends xs{constructor(t,r,n,s,o,i,a){if(s==null||s==null)throw new Cs.CrtError("HttpClientConnection constructor: socket_options not defined");super(a||Mt.default.http_connection_new(t!=null?t.native_handle():null,(c,u)=>{this._on_setup(c,u)},(c,u)=>{this._on_shutdown(c,u)},r,n,s.native_handle(),o?o.native_handle():void 0,i?i.create_native_handle():void 0)),this.bootstrap=t,this.socket_options=s,this.tls_opts=o}_on_setup(t,r){if(r){this.emit("error",new Cs.CrtError(r));return}this.emit("connect")}_on_shutdown(t,r){if(r){this.emit("error",new Cs.CrtError(r));return}this.emit("close")}request(t){let r,n=(a,c)=>{r._on_response(a,c)},s=a=>{r._on_body(a)},o=a=>{r._on_complete(a)},i=Mt.default.http_stream_new(this.native_handle(),t,o,n,s);return r=new Qr(i,this,t)}};ve.HttpClientConnection=Wf;var Kf=class extends(0,F0.NativeResourceMixin)(tN.BufferedEventEmitter){constructor(t,r){super(),this.connection=r,this._super(t),this.cork()}activate(){Mt.default.http_stream_activate(this.native_handle())}close(){Mt.default.http_stream_close(this.native_handle())}_on_body(t){this.emit("data",t)}_on_complete(t){if(t){this.emit("error",new Cs.CrtError(t)),this.close();return}this.on("end",()=>{this.close()}),this.emit("end")}};ve.HttpStream=Kf;var Qr=class extends Kf{constructor(t,r,n){super(t,r),this.request=n}status_code(){return this.response_status_code}on(t,r){return super.on(t,r),t=="response"&&process.nextTick(()=>{this.uncork()}),this}_on_response(t,r){this.response_status_code=t;let n=new ve.HttpHeaders(r);this.emit("response",t,n)}};ve.HttpClientStream=Qr;Qr.RESPONSE="response";Qr.DATA="data";Qr.ERROR="error";Qr.END="end";Qr.HEADERS="headers";var M0=class extends F0.NativeResource{constructor(t,r,n,s,o,i,a,c){if(i==null||i==null)throw new Cs.CrtError("HttpClientConnectionManager constructor: socket_options not defined");super(Mt.default.http_connection_manager_new(t!=null?t.native_handle():null,r,n,s,o,i.native_handle(),a?a.native_handle():void 0,c?c.create_native_handle():void 0,void 0)),this.bootstrap=t,this.host=r,this.port=n,this.max_connections=s,this.initial_window_size=o,this.socket_options=i,this.tls_opts=a,this.proxy_options=c,this.connections=new Map}acquire(){return new Promise((t,r)=>{let n=(s,o)=>{if(o){r(new Cs.CrtError(o));return}let i=this.connections.get(s);i||(i=new Wf(this.bootstrap,this.host,this.port,this.socket_options,this.tls_opts,this.proxy_options,s),this.connections.set(s,i),i.on("close",()=>{this.connections.delete(s)})),t(i)};Mt.default.http_connection_manager_acquire(this.native_handle(),n)})}release(t){if(t==null||t==null)throw new Cs.CrtError("HttpClientConnectionManager release: connection not defined");Mt.default.http_connection_manager_release(this.native_handle(),t.native_handle())}close(){Mt.default.http_connection_manager_close(this.native_handle())}};ve.HttpClientConnectionManager=M0});var Qf=l(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.DEFAULT_RECONNECT_MIN_SEC=Yt.DEFAULT_RECONNECT_MAX_SEC=Yt.MqttWill=Yt.QoS=void 0;var l7;(function(e){e[e.AtMostOnce=0]="AtMostOnce",e[e.AtLeastOnce=1]="AtLeastOnce",e[e.ExactlyOnce=2]="ExactlyOnce"})(l7=Yt.QoS||(Yt.QoS={}));var j0=class{constructor(t,r,n,s=!1){this.topic=t,this.qos=r,this.payload=n,this.retain=s}};Yt.MqttWill=j0;Yt.DEFAULT_RECONNECT_MAX_SEC=128;Yt.DEFAULT_RECONNECT_MIN_SEC=1});var U0=l(Ve=>{"use strict";var m7=Ve&&Ve.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),p7=Ve&&Ve.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f7=Ve&&Ve.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&m7(t,e,r);return p7(t,e),t};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.extractRegionFromEndpoint=Ve.buildMqtt5FinalUsername=Ve.populate_username_string_with_custom_authorizer=Ve.is_string_and_not_empty=Ve.add_to_username_parameter=void 0;var _7=f7(Uf());function Xf(e,t,r){let n=e;return n.indexOf("?")!=-1?n+="&":n+="?",t.indexOf(r)!=-1?n+t:n+r+t}Ve.add_to_username_parameter=Xf;function wr(e){return e!=null&&typeof e=="string"&&e!=""}Ve.is_string_and_not_empty=wr;function h7(e,t,r,n,s,o,i){let a="";if(e&&(a+=e),wr(t)==!1?wr(s)&&s&&(a+=s):a+=t,wr(r)&&r&&(a=Xf(a,r,"x-amz-customauthorizer-name=")),wr(n)&&n&&(a=Xf(a,n,"x-amz-customauthorizer-signature="),(wr(o)&&o||wr(i)&&i)&&console.log("Warning: Signed custom authorizers with signature will not work without a token key name and token value. Your connection may be rejected/stalled on the IoT Core side due to this. Please set the token key name and token value to connect to a signed custom authorizer.")),wr(n)||wr(i)||wr(o)){if(!i||!o)throw new Error("Token-based custom authentication requires all token-related properties to be set");a=Xf(a,i,o+"=")}return a}Ve.populate_username_string_with_custom_authorizer=h7;function L0(e,t,r){t&&r.push([e,t])}function y7(e){let t="",r=[];if(e){let n=!1;if((e.tokenValue||e.tokenKeyName||e.tokenSignature)&&(n=!0,!e.tokenValue||!e.tokenKeyName||!e.tokenSignature))throw new Error("Token-based custom authentication requires all token-related properties to be set");let s=e.username,o=(s!=null?s:"").split("?"),i=o.slice(1);if(t=o[0],i.length>1)throw new Error("Custom auth username property value is invalid");i.length==1&&i[0].split("&").forEach((a,c,u)=>{var d;let p=a.split("=");r.push([p[0],(d=p[1])!==null&&d!==void 0?d:""])}),L0("x-amz-customauthorizer-name",e.authorizerName,r),n&&(L0(e.tokenKeyName,e.tokenValue,r),L0("x-amz-customauthorizer-signature",e.tokenSignature,r))}return r.push(["SDK","NodeJSv2"]),r.push(["Version",_7.crt_version()]),(t!=null?t:"")+"?"+r.map(n=>`${n[0]}=${n[1]}`).join("&")}Ve.buildMqtt5FinalUsername=y7;function g7(e){let t=/^[\w\-]+\.[\w\-]+\.([\w+\-]+)\./,r=e.match(t);if(r)return r[1];throw new Error("AWS region could not be extracted from endpoint.  Use 'region' property on WebsocketConfig to set manually.")}Ve.extractRegionFromEndpoint=g7});var oN=l(jt=>{"use strict";var E7=jt&&jt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),v7=jt&&jt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$0=jt&&jt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&E7(t,e,r);return v7(t,e),t},w7=jt&&jt.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(p){i(p)}}function c(d){try{u(n.throw(d))}catch(p){i(p)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(jt,"__esModule",{value:!0});jt.AwsIotMqttConnectionConfigBuilder=void 0;var nN=Qf(),Mn=$0(Yr()),Oo=Yr(),S7=$0(Uf()),sN=Gt(),gc=$f(),z0=$0(U0()),Ft=class{constructor(t){this.tls_ctx_options=t,this.params={client_id:"",host_name:"",socket_options:new Mn.SocketOptions,port:8883,use_websocket:!1,clean_session:!1,keep_alive:void 0,will:void 0,username:"",password:void 0,tls_ctx:void 0,reconnect_min_sec:nN.DEFAULT_RECONNECT_MIN_SEC,reconnect_max_sec:nN.DEFAULT_RECONNECT_MAX_SEC},this.is_using_custom_authorizer=!1}static new_mtls_builder_from_path(t,r){let n=new Ft(Oo.TlsContextOptions.create_client_with_mtls_from_path(t,r));return n.params.port=8883,Mn.is_alpn_available()&&n.tls_ctx_options.alpn_list.unshift("x-amzn-mqtt-ca"),n}static new_mtls_builder(t,r){let n=new Ft(Oo.TlsContextOptions.create_client_with_mtls(t,r));return n.params.port=8883,Mn.is_alpn_available()&&n.tls_ctx_options.alpn_list.unshift("x-amzn-mqtt-ca"),n}static new_mtls_pkcs11_builder(t){let r=new Ft(Oo.TlsContextOptions.create_client_with_mtls_pkcs11(t));return r.params.port=8883,Mn.is_alpn_available()&&r.tls_ctx_options.alpn_list.unshift("x-amzn-mqtt-ca"),r}static new_mtls_pkcs12_builder(t){let r=new Ft(Oo.TlsContextOptions.create_client_with_mtls_pkcs12_from_path(t.pkcs12_file,t.pkcs12_password));return r.params.port=8883,Mn.is_alpn_available()&&r.tls_ctx_options.alpn_list.unshift("x-amzn-mqtt-ca"),r}static new_mtls_windows_cert_store_path_builder(t){let r=new Ft(Oo.TlsContextOptions.create_client_with_mtls_windows_cert_store_path(t));return r.params.port=8883,Mn.is_alpn_available()&&r.tls_ctx_options.alpn_list.unshift("x-amzn-mqtt-ca"),r}static new_default_builder(){let t=new Mn.TlsContextOptions;return new Ft(t)}static new_websocket_builder(...t){return this.new_with_websockets(...t)}static configure_websocket_handshake(t,r){if(r){if(t==null||t==null)throw new sN.CrtError("AwsIotMqttConnectionConfigBuilder configure_websocket_handshake: builder not defined");t.params.websocket_handshake_transform=(n,s)=>w7(this,void 0,void 0,function*(){var o,i,a;let c=(i=(o=r.create_signing_config)===null||o===void 0?void 0:o.call(r))!==null&&i!==void 0?i:{algorithm:gc.AwsSigningAlgorithm.SigV4,signature_type:gc.AwsSignatureType.HttpRequestViaQueryParams,provider:r.credentials_provider,region:r.region,service:(a=r.service)!==null&&a!==void 0?a:"iotdevicegateway",signed_body_value:gc.AwsSignedBodyValue.EmptySha256,omit_session_token:!0};try{yield(0,gc.aws_sign_request)(n,c),s()}catch(u){u instanceof sN.CrtError?s(u.error_code):s(3)}})}return t}static new_with_websockets(t){let r=t==null?void 0:t.tls_ctx_options;r||(r=new Oo.TlsContextOptions,r.alpn_list=[]);let n=new Ft(r);return n.params.use_websocket=!0,n.params.proxy_options=t==null?void 0:t.proxy_options,n.tls_ctx_options&&(n.params.port=443),this.configure_websocket_handshake(n,t),n}static new_builder_for_websocket(){return this.new_with_websockets()}with_certificate_authority_from_path(t,r){return this.tls_ctx_options.override_default_trust_store_from_path(t,r),this}with_certificate_authority(t){return this.tls_ctx_options.override_default_trust_store(t),this}with_endpoint(t){return this.params.host_name=t,this}with_port(t){return this.params.port=t,this}with_client_id(t){return this.params.client_id=t,this}with_clean_session(t){return this.params.clean_session=t,this}with_keep_alive_seconds(t){return this.params.keep_alive=t,this}with_timeout_ms(t){return this.with_ping_timeout_ms(t),this}with_ping_timeout_ms(t){return this.params.ping_timeout=t,this}with_protocol_operation_timeout_ms(t){return this.params.protocol_operation_timeout=t,this}with_will(t){return this.params.will=t,this}with_socket_options(t){return this.params.socket_options=t,this}with_credentials(t,r,n,s){return Ft.configure_websocket_handshake(this,{credentials_provider:gc.AwsCredentialsProvider.newStatic(r,n,s),region:t,service:"iotdevicegateway"})}with_http_proxy_options(t){return this.params.proxy_options=t,this}with_custom_authorizer(t,r,n,s,o,i){this.is_using_custom_authorizer=!0;let a=z0.populate_username_string_with_custom_authorizer("",t,r,n,this.params.username,o,i);return this.params.username=a,this.params.password=s,this.params.use_websocket||(this.tls_ctx_options.alpn_list=["mqtt"]),this.params.port=443,this}with_username(t){return this.params.username=t,this}with_password(t){return this.params.password=t,this}with_reconnect_max_sec(t){return this.params.reconnect_max_sec=t,this}with_reconnect_min_sec(t){return this.params.reconnect_min_sec=t,this}build(){var t,r,n;if(this.params.client_id===void 0||this.params.host_name===void 0)throw"client_id and endpoint are required";return this.is_using_custom_authorizer==!1&&z0.is_string_and_not_empty(this.params.username)&&(((t=this.params.username)===null||t===void 0?void 0:t.indexOf("x-amz-customauthorizer-name="))!=-1||((r=this.params.username)===null||r===void 0?void 0:r.indexOf("x-amz-customauthorizer-signature="))!=-1)&&(this.is_using_custom_authorizer=!0),this.is_using_custom_authorizer==!0&&this.params.port!=443&&console.log("Warning: Attempting to connect to authorizer with unsupported port. Port is not 443..."),this.params.tls_ctx===void 0&&(this.params.tls_ctx=new Mn.ClientTlsContext(this.tls_ctx_options)),z0.is_string_and_not_empty(this.params.username)==!1?this.params.username="?SDK=NodeJSv2&Version=":((n=this.params.username)===null||n===void 0?void 0:n.indexOf("?"))!=-1?this.params.username+="&SDK=NodeJSv2&Version=":this.params.username+="?SDK=NodeJSv2&Version=",this.params.username+=S7.crt_version(),this.params}};jt.AwsIotMqttConnectionConfigBuilder=Ft});var Jf=l(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});Ao.DEFAULT_KEEP_ALIVE=Ao.normalize_payload=void 0;function b7(e){if(e instanceof Buffer||typeof e=="string")return e;if(ArrayBuffer.isView(e)){let t=e;return Buffer.from(t.buffer,t.byteOffset,t.byteLength)}if(e instanceof ArrayBuffer)return Buffer.from(e);if(typeof e=="object")return JSON.stringify(e);if(!e)return"";throw new TypeError("payload parameter must be a string, object, or DataView.")}Ao.normalize_payload=b7;Ao.DEFAULT_KEEP_ALIVE=1200});var iN=l(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.RetryJitterType=Fn.ClientSessionBehavior=void 0;var P7;(function(e){e[e.Default=0]="Default",e[e.Clean=1]="Clean",e[e.RejoinPostSuccess=2]="RejoinPostSuccess",e[e.RejoinAlways=3]="RejoinAlways"})(P7=Fn.ClientSessionBehavior||(Fn.ClientSessionBehavior={}));var C7;(function(e){e[e.Default=0]="Default",e[e.None=1]="None",e[e.Full=2]="Full",e[e.Decorrelated=3]="Decorrelated"})(C7=Fn.RetryJitterType||(Fn.RetryJitterType={}))});var aN=l(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.PacketType=W.RetainHandlingType=W.QoS=W.PayloadFormatIndicator=W.isSuccessfulPubackReasonCode=W.PubackReasonCode=W.isSuccessfulUnsubackReasonCode=W.UnsubackReasonCode=W.isSuccessfulSubackReasonCode=W.SubackReasonCode=W.isSuccessfulDisconnectReasonCode=W.DisconnectReasonCode=W.isSuccessfulConnectReasonCode=W.ConnectReasonCode=void 0;var x7;(function(e){e[e.Success=0]="Success",e[e.UnspecifiedError=128]="UnspecifiedError",e[e.MalformedPacket=129]="MalformedPacket",e[e.ProtocolError=130]="ProtocolError",e[e.ImplementationSpecificError=131]="ImplementationSpecificError",e[e.UnsupportedProtocolVersion=132]="UnsupportedProtocolVersion",e[e.ClientIdentifierNotValid=133]="ClientIdentifierNotValid",e[e.BadUsernameOrPassword=134]="BadUsernameOrPassword",e[e.NotAuthorized=135]="NotAuthorized",e[e.ServerUnavailable=136]="ServerUnavailable",e[e.ServerBusy=137]="ServerBusy",e[e.Banned=138]="Banned",e[e.BadAuthenticationMethod=140]="BadAuthenticationMethod",e[e.TopicNameInvalid=144]="TopicNameInvalid",e[e.PacketTooLarge=149]="PacketTooLarge",e[e.QuotaExceeded=151]="QuotaExceeded",e[e.PayloadFormatInvalid=153]="PayloadFormatInvalid",e[e.RetainNotSupported=154]="RetainNotSupported",e[e.QosNotSupported=155]="QosNotSupported",e[e.UseAnotherServer=156]="UseAnotherServer",e[e.ServerMoved=157]="ServerMoved",e[e.ConnectionRateExceeded=159]="ConnectionRateExceeded"})(x7=W.ConnectReasonCode||(W.ConnectReasonCode={}));function O7(e){return e<128}W.isSuccessfulConnectReasonCode=O7;var A7;(function(e){e[e.NormalDisconnection=0]="NormalDisconnection",e[e.DisconnectWithWillMessage=4]="DisconnectWithWillMessage",e[e.UnspecifiedError=128]="UnspecifiedError",e[e.MalformedPacket=129]="MalformedPacket",e[e.ProtocolError=130]="ProtocolError",e[e.ImplementationSpecificError=131]="ImplementationSpecificError",e[e.NotAuthorized=135]="NotAuthorized",e[e.ServerBusy=137]="ServerBusy",e[e.ServerShuttingDown=139]="ServerShuttingDown",e[e.KeepAliveTimeout=141]="KeepAliveTimeout",e[e.SessionTakenOver=142]="SessionTakenOver",e[e.TopicFilterInvalid=143]="TopicFilterInvalid",e[e.TopicNameInvalid=144]="TopicNameInvalid",e[e.ReceiveMaximumExceeded=147]="ReceiveMaximumExceeded",e[e.TopicAliasInvalid=148]="TopicAliasInvalid",e[e.PacketTooLarge=149]="PacketTooLarge",e[e.MessageRateTooHigh=150]="MessageRateTooHigh",e[e.QuotaExceeded=151]="QuotaExceeded",e[e.AdministrativeAction=152]="AdministrativeAction",e[e.PayloadFormatInvalid=153]="PayloadFormatInvalid",e[e.RetainNotSupported=154]="RetainNotSupported",e[e.QosNotSupported=155]="QosNotSupported",e[e.UseAnotherServer=156]="UseAnotherServer",e[e.ServerMoved=157]="ServerMoved",e[e.SharedSubscriptionsNotSupported=158]="SharedSubscriptionsNotSupported",e[e.ConnectionRateExceeded=159]="ConnectionRateExceeded",e[e.MaximumConnectTime=160]="MaximumConnectTime",e[e.SubscriptionIdentifiersNotSupported=161]="SubscriptionIdentifiersNotSupported",e[e.WildcardSubscriptionsNotSupported=162]="WildcardSubscriptionsNotSupported"})(A7=W.DisconnectReasonCode||(W.DisconnectReasonCode={}));function T7(e){return e<128}W.isSuccessfulDisconnectReasonCode=T7;var R7;(function(e){e[e.GrantedQoS0=0]="GrantedQoS0",e[e.GrantedQoS1=1]="GrantedQoS1",e[e.GrantedQoS2=2]="GrantedQoS2",e[e.UnspecifiedError=128]="UnspecifiedError",e[e.ImplementationSpecificError=131]="ImplementationSpecificError",e[e.NotAuthorized=135]="NotAuthorized",e[e.TopicFilterInvalid=143]="TopicFilterInvalid",e[e.PacketIdentifierInUse=145]="PacketIdentifierInUse",e[e.QuotaExceeded=151]="QuotaExceeded",e[e.SharedSubscriptionsNotSupported=158]="SharedSubscriptionsNotSupported",e[e.SubscriptionIdentifiersNotSupported=161]="SubscriptionIdentifiersNotSupported",e[e.WildcardSubscriptionsNotSupported=162]="WildcardSubscriptionsNotSupported"})(R7=W.SubackReasonCode||(W.SubackReasonCode={}));function I7(e){return e<128}W.isSuccessfulSubackReasonCode=I7;var N7;(function(e){e[e.Success=0]="Success",e[e.NoSubscriptionExisted=17]="NoSubscriptionExisted",e[e.UnspecifiedError=128]="UnspecifiedError",e[e.ImplementationSpecificError=131]="ImplementationSpecificError",e[e.NotAuthorized=135]="NotAuthorized",e[e.TopicFilterInvalid=143]="TopicFilterInvalid",e[e.PacketIdentifierInUse=145]="PacketIdentifierInUse"})(N7=W.UnsubackReasonCode||(W.UnsubackReasonCode={}));function q7(e){return e<128}W.isSuccessfulUnsubackReasonCode=q7;var D7;(function(e){e[e.Success=0]="Success",e[e.NoMatchingSubscribers=16]="NoMatchingSubscribers",e[e.UnspecifiedError=128]="UnspecifiedError",e[e.ImplementationSpecificError=131]="ImplementationSpecificError",e[e.NotAuthorized=135]="NotAuthorized",e[e.TopicNameInvalid=144]="TopicNameInvalid",e[e.PacketIdentifierInUse=145]="PacketIdentifierInUse",e[e.QuotaExceeded=151]="QuotaExceeded",e[e.PayloadFormatInvalid=153]="PayloadFormatInvalid"})(D7=W.PubackReasonCode||(W.PubackReasonCode={}));function k7(e){return e<128}W.isSuccessfulPubackReasonCode=k7;var M7;(function(e){e[e.Bytes=0]="Bytes",e[e.Utf8=1]="Utf8"})(M7=W.PayloadFormatIndicator||(W.PayloadFormatIndicator={}));var F7;(function(e){e[e.AtMostOnce=0]="AtMostOnce",e[e.AtLeastOnce=1]="AtLeastOnce",e[e.ExactlyOnce=2]="ExactlyOnce"})(F7=W.QoS||(W.QoS={}));var j7;(function(e){e[e.SendOnSubscribe=0]="SendOnSubscribe",e[e.SendOnSubscribeIfNew=1]="SendOnSubscribeIfNew",e[e.DontSend=2]="DontSend"})(j7=W.RetainHandlingType||(W.RetainHandlingType={}));var L7;(function(e){e[e.Connect=1]="Connect",e[e.Connack=2]="Connack",e[e.Publish=3]="Publish",e[e.Puback=4]="Puback",e[e.Pubrec=5]="Pubrec",e[e.Pubrel=6]="Pubrel",e[e.Pubcomp=7]="Pubcomp",e[e.Subscribe=8]="Subscribe",e[e.Suback=9]="Suback",e[e.Unsubscribe=10]="Unsubscribe",e[e.Unsuback=11]="Unsuback",e[e.Pingreq=12]="Pingreq",e[e.Pingresp=13]="Pingresp",e[e.Disconnect=14]="Disconnect",e[e.Auth=15]="Auth"})(L7=W.PacketType||(W.PacketType={}))});var H0=l(Se=>{"use strict";var dN=Se&&Se.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),U7=Se&&Se.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),uN=Se&&Se.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&dN(t,e,r);return U7(t,e),t},lN=Se&&Se.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&dN(t,e,r)},B0=Se&&Se.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(p){i(p)}}function c(d){try{u(n.throw(d))}catch(p){i(p)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},z7=Se&&Se.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Se,"__esModule",{value:!0});Se.Mqtt5Client=Se.ClientExtendedValidationAndFlowControl=Se.ClientOperationQueueBehavior=Se.HttpProxyOptions=void 0;var jn=z7(Ht()),$7=Ps(),B7=yc(),V0=uN(Yr()),V7=uN(Jf()),cN=Gt(),H7=Yf();Object.defineProperty(Se,"HttpProxyOptions",{enumerable:!0,get:function(){return H7.HttpProxyOptions}});lN(iN(),Se);lN(aN(),Se);var G7;(function(e){e[e.Default=0]="Default",e[e.FailNonQos1PublishOnDisconnect=1]="FailNonQos1PublishOnDisconnect",e[e.FailQos0PublishOnDisconnect=2]="FailQos0PublishOnDisconnect",e[e.FailAllOnDisconnect=3]="FailAllOnDisconnect"})(G7=Se.ClientOperationQueueBehavior||(Se.ClientOperationQueueBehavior={}));var W7;(function(e){e[e.None=0]="None",e[e.AwsIotCoreDefaults=1]="AwsIotCoreDefaults"})(W7=Se.ClientExtendedValidationAndFlowControl||(Se.ClientExtendedValidationAndFlowControl={}));var we=class extends(0,$7.NativeResourceMixin)(B7.BufferedEventEmitter){constructor(t){super(),this._super(jn.default.mqtt5_client_new(this,t,r=>{we._s_on_stopped(r)},r=>{we._s_on_attempting_connect(r)},(r,n,s)=>{we._s_on_connection_success(r,n,s)},(r,n,s)=>{we._s_on_connection_failure(r,new cN.CrtError(n),s)},(r,n,s)=>{we._s_on_disconnection(r,new cN.CrtError(n),s)},(r,n)=>{we._s_on_message_received(r,n)},t.clientBootstrap?t.clientBootstrap.native_handle():null,t.socketOptions?t.socketOptions.native_handle():null,t.tlsCtx?t.tlsCtx.native_handle():null,t.httpProxyOptions?t.httpProxyOptions.create_native_handle():null))}close(){jn.default.mqtt5_client_close(this.native_handle())}start(){jn.default.mqtt5_client_start(this.native_handle())}stop(t){jn.default.mqtt5_client_stop(this.native_handle(),t)}subscribe(t){return B0(this,void 0,void 0,function*(){return new Promise((r,n)=>{function s(o,i,a){return we._s_on_suback_callback(r,n,o,i,a)}try{jn.default.mqtt5_client_subscribe(this.native_handle(),t,s)}catch(o){n(o)}})})}unsubscribe(t){return B0(this,void 0,void 0,function*(){return new Promise((r,n)=>{function s(o,i,a){return we._s_on_unsuback_callback(r,n,o,i,a)}try{jn.default.mqtt5_client_unsubscribe(this.native_handle(),t,s)}catch(o){n(o)}})})}publish(t){return B0(this,void 0,void 0,function*(){return new Promise((r,n)=>{t&&t.payload&&(t.payload=V7.normalize_payload(t.payload));function s(o,i,a){return we._s_on_puback_callback(r,n,o,i,a)}try{jn.default.mqtt5_client_publish(this.native_handle(),t,s)}catch(o){n(o)}})})}getQueueStatistics(){return jn.default.mqtt5_client_get_queue_statistics(this.native_handle())}on(t,r){return super.on(t,r),this}static _s_on_stopped(t){process.nextTick(()=>{let r={};t.emit(we.STOPPED,r)})}static _s_on_attempting_connect(t){process.nextTick(()=>{let r={};t.emit(we.ATTEMPTING_CONNECT,r)})}static _s_on_connection_success(t,r,n){let s={connack:r,settings:n};process.nextTick(()=>{t.emit(we.CONNECTION_SUCCESS,s)})}static _s_on_connection_failure(t,r,n){let s={error:r};n!=null&&(s.connack=n),process.nextTick(()=>{t.emit(we.CONNECTION_FAILURE,s)})}static _s_on_disconnection(t,r,n){let s={error:r};n!=null&&(s.disconnect=n),process.nextTick(()=>{t.emit(we.DISCONNECTION,s)})}static _s_on_suback_callback(t,r,n,s,o){s==0&&o!==void 0?t(o):r(V0.error_code_to_string(s))}static _s_on_unsuback_callback(t,r,n,s,o){s==0&&o!==void 0?t(o):r(V0.error_code_to_string(s))}static _s_on_puback_callback(t,r,n,s,o){s==0?t(o):r(V0.error_code_to_string(s))}static _s_on_message_received(t,r){let n={message:r};process.nextTick(()=>{t.emit(we.MESSAGE_RECEIVED,n)})}};Se.Mqtt5Client=we;we.ERROR="error";we.MESSAGE_RECEIVED="messageReceived";we.ATTEMPTING_CONNECT="attemptingConnect";we.CONNECTION_SUCCESS="connectionSuccess";we.CONNECTION_FAILURE="connectionFailure";we.DISCONNECTION="disconnection";we.STOPPED="stopped"});var fN=l(Lt=>{"use strict";var K7=Lt&&Lt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Y7=Lt&&Lt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vc=Lt&&Lt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&K7(t,e,r);return Y7(t,e),t},mN=Lt&&Lt.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(p){i(p)}}function c(d){try{u(n.throw(d))}catch(p){i(p)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.AwsIotMqtt5ClientConfigBuilder=void 0;var Q7=vc(H0()),mt=vc(Yr()),Ec=vc($f()),X7=Gt(),pN=vc(U0()),J7=vc(Jf()),De=class{constructor(t,r,n){this.tlsContextOptions=n,this.config={hostName:t,port:r,connectProperties:{keepAliveIntervalSeconds:J7.DEFAULT_KEEP_ALIVE},extendedValidationAndFlowControlOptions:Q7.ClientExtendedValidationAndFlowControl.AwsIotCoreDefaults}}static newDirectMqttBuilderWithMtlsFromPath(t,r,n){let s=new De(t,De.DEFAULT_DIRECT_MQTT_PORT,mt.TlsContextOptions.create_client_with_mtls_from_path(r,n));return mt.is_alpn_available()&&s.tlsContextOptions.alpn_list.unshift("x-amzn-mqtt-ca"),s}static newDirectMqttBuilderWithMtlsFromMemory(t,r,n){let s=new De(t,De.DEFAULT_DIRECT_MQTT_PORT,mt.TlsContextOptions.create_client_with_mtls(r,n));return mt.is_alpn_available()&&s.tlsContextOptions.alpn_list.unshift("x-amzn-mqtt-ca"),s}static newDirectMqttBuilderWithMtlsFromPkcs11(t,r){let n=new De(t,De.DEFAULT_DIRECT_MQTT_PORT,mt.TlsContextOptions.create_client_with_mtls_pkcs11(r));return mt.is_alpn_available()&&n.tlsContextOptions.alpn_list.unshift("x-amzn-mqtt-ca"),n}static newDirectMqttBuilderWithMtlsFromPkcs12(t,r){let n=new De(t,De.DEFAULT_DIRECT_MQTT_PORT,mt.TlsContextOptions.create_client_with_mtls_pkcs12_from_path(r.pkcs12_file,r.pkcs12_password));return mt.is_alpn_available()&&n.tlsContextOptions.alpn_list.unshift("x-amzn-mqtt-ca"),n}static newDirectMqttBuilderWithMtlsFromWindowsCertStorePath(t,r){let n=new De(t,De.DEFAULT_DIRECT_MQTT_PORT,mt.TlsContextOptions.create_client_with_mtls_windows_cert_store_path(r));return mt.is_alpn_available()&&n.tlsContextOptions.alpn_list.unshift("x-amzn-mqtt-ca"),n}static newDirectMqttBuilderWithCustomAuth(t,r){let n=new De(t,De.DEFAULT_WEBSOCKET_MQTT_PORT,new mt.TlsContextOptions);return n.customAuthConfig=r,n.tlsContextOptions.alpn_list=["mqtt"],n}static newWebsocketMqttBuilderWithSigv4Auth(t,r){let n=new mt.TlsContextOptions;n.alpn_list=[];let s=new De(t,De.DEFAULT_WEBSOCKET_MQTT_PORT,n),o=r==null?void 0:r.credentialsProvider;return o||(o=Ec.AwsCredentialsProvider.newDefault()),s.config.websocketHandshakeTransform=(i,a)=>mN(this,void 0,void 0,function*(){var c;try{let u={algorithm:Ec.AwsSigningAlgorithm.SigV4,signature_type:Ec.AwsSignatureType.HttpRequestViaQueryParams,provider:o,region:(c=r==null?void 0:r.region)!==null&&c!==void 0?c:pN.extractRegionFromEndpoint(t),service:"iotdevicegateway",signed_body_value:Ec.AwsSignedBodyValue.EmptySha256,omit_session_token:!0};yield Ec.aws_sign_request(i,u),a()}catch(u){u instanceof X7.CrtError?a(u.error_code):a(3)}}),s}static newWebsocketMqttBuilderWithCustomAuth(t,r){let n=new De(t,De.DEFAULT_WEBSOCKET_MQTT_PORT,new mt.TlsContextOptions);return n.customAuthConfig=r,n.config.websocketHandshakeTransform=(s,o)=>mN(this,void 0,void 0,function*(){o(0)}),n}withCertificateAuthorityFromPath(t,r){return this.tlsContextOptions.override_default_trust_store_from_path(t,r),this}withCertificateAuthority(t){return this.tlsContextOptions.override_default_trust_store(t),this}withPort(t){return this.config.port=t,this}withConnectProperties(t){return this.config.connectProperties=t,this}withSessionBehavior(t){return this.config.sessionBehavior=t,this}withRetryJitterMode(t){return this.config.retryJitterMode=t,this}withMinReconnectDelayMs(t){return this.config.minReconnectDelayMs=t,this}withMaxReconnectDelayMs(t){return this.config.maxReconnectDelayMs=t,this}withMinConnectedTimeToResetReconnectDelayMs(t){return this.config.minConnectedTimeToResetReconnectDelayMs=t,this}withConnackTimeoutMs(t){return this.config.connackTimeoutMs=t,this}withOfflineQueueBehavior(t){return this.config.offlineQueueBehavior=t,this}withPingTimeoutMs(t){return this.config.pingTimeoutMs=t,this}withAckTimeoutSeconds(t){return this.config.ackTimeoutSeconds=t,this}withSocketOptions(t){return this.config.socketOptions=t,this}withHttpProxyOptions(t){return this.config.httpProxyOptions=t,this}withExtendedValidationAndFlowControlOptions(t){return this.config.extendedValidationAndFlowControlOptions=t,this}build(){var t,r;return this.config.tlsCtx===void 0&&(this.config.tlsCtx=new mt.ClientTlsContext(this.tlsContextOptions)),this.config.connectProperties&&(this.config.connectProperties.username=pN.buildMqtt5FinalUsername(this.customAuthConfig),!((t=this.customAuthConfig)===null||t===void 0)&&t.password&&(this.config.connectProperties.password=(r=this.customAuthConfig)===null||r===void 0?void 0:r.password)),this.config}};Lt.AwsIotMqtt5ClientConfigBuilder=De;De.DEFAULT_WEBSOCKET_MQTT_PORT=443;De.DEFAULT_DIRECT_MQTT_PORT=8883});var hN=l(Ln=>{"use strict";var Z7=Ln&&Ln.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_N=Ln&&Ln.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Z7(t,e,r)};Object.defineProperty(Ln,"__esModule",{value:!0});_N(oN(),Ln);_N(fN(),Ln)});var SN=l(ke=>{"use strict";var eY=ke&&ke.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),tY=ke&&ke.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),EN=ke&&ke.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&eY(t,e,r);return tY(t,e),t},To=ke&&ke.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(p){i(p)}}function c(d){try{u(n.throw(d))}catch(p){i(p)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},rY=ke&&ke.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ke,"__esModule",{value:!0});ke.MqttClientConnection=ke.MqttClient=ke.MqttWill=ke.QoS=ke.HttpProxyOptions=void 0;var Ut=rY(Ht()),vN=Ps(),nY=yc(),yN=EN(Jf()),Un=Gt(),Zf=EN(Yr()),sY=Yf();Object.defineProperty(ke,"HttpProxyOptions",{enumerable:!0,get:function(){return sY.HttpProxyOptions}});var gN=Qf(),wN=Qf();Object.defineProperty(ke,"QoS",{enumerable:!0,get:function(){return wN.QoS}});Object.defineProperty(ke,"MqttWill",{enumerable:!0,get:function(){return wN.MqttWill}});var G0=class extends vN.NativeResource{constructor(t=void 0){super(Ut.default.mqtt_client_new(t!=null?t.native_handle():null)),this.bootstrap=t}new_connection(t){return new Pt(this,t)}};ke.MqttClient=G0;var Pt=class extends(0,vN.NativeResourceMixin)(nY.BufferedEventEmitter){constructor(t,r){if(super(),this.client=t,this.config=r,r==null||r==null)throw new Un.CrtError("MqttClientConnection constructor: config not defined");let n=r.will?{topic:r.will.topic,qos:r.will.qos,payload:yN.normalize_payload(r.will.payload),retain:r.will.retain}:void 0;var s=gN.DEFAULT_RECONNECT_MIN_SEC,o=gN.DEFAULT_RECONNECT_MAX_SEC;if(r.reconnect_min_sec&&(s=r.reconnect_min_sec,o=Math.max(s,o)),r.reconnect_max_sec&&(o=r.reconnect_max_sec,s=Math.min(s,o)),t==null||t==null)throw new Un.CrtError("MqttClientConnection constructor: client not defined");if(r.socket_options==null||r.socket_options==null)throw new Un.CrtError("MqttClientConnection constructor: socket_options in configuration not defined");this._super(Ut.default.mqtt_client_connection_new(t.native_handle(),i=>{this._on_connection_interrupted(i)},(i,a)=>{this._on_connection_resumed(i,a)},r.tls_ctx?r.tls_ctx.native_handle():null,n,r.username,r.password,r.use_websocket,r.proxy_options?r.proxy_options.create_native_handle():void 0,r.websocket_handshake_transform,s,o)),this.tls_ctx=r.tls_ctx,Ut.default.mqtt_client_connection_on_message(this.native_handle(),this._on_any_publish.bind(this)),Ut.default.mqtt_client_connection_on_closed(this.native_handle(),this._on_connection_closed.bind(this)),this.on("error",i=>{})}close(){Ut.default.mqtt_client_connection_close(this.native_handle())}on(t,r){return super.on(t,r),t=="connect"&&process.nextTick(()=>{this.uncork()}),this}connect(){return To(this,void 0,void 0,function*(){return new Promise((t,r)=>{if(r=this._reject(r),this.config.socket_options==null||this.config.socket_options==null)throw new Un.CrtError("MqttClientConnection connect: socket_options in configuration not defined");try{Ut.default.mqtt_client_connection_connect(this.native_handle(),this.config.client_id,this.config.host_name,this.config.port,this.config.socket_options.native_handle(),this.config.keep_alive,this.config.ping_timeout,this.config.protocol_operation_timeout,this.config.clean_session,this._on_connect_callback.bind(this,t,r))}catch(n){r(n)}})})}reconnect(){return To(this,void 0,void 0,function*(){return new Promise((t,r)=>{r=this._reject(r);try{Ut.default.mqtt_client_connection_reconnect(this.native_handle(),this._on_connect_callback.bind(this,t,r))}catch(n){r(n)}})})}publish(t,r,n,s=!1){return To(this,void 0,void 0,function*(){return typeof t!="string"?Promise.reject("topic is not a string"):typeof n!="number"?Promise.reject("qos is not a number"):typeof s!="boolean"?Promise.reject("retain is not a boolean"):new Promise((o,i)=>{i=this._reject(i);try{Ut.default.mqtt_client_connection_publish(this.native_handle(),t,yN.normalize_payload(r),n,s,this._on_puback_callback.bind(this,o,i))}catch(a){i(a)}})})}subscribe(t,r,n){return To(this,void 0,void 0,function*(){return typeof t!="string"?Promise.reject("topic is not a string"):typeof r!="number"?Promise.reject("qos is not a number"):new Promise((s,o)=>{o=this._reject(o);try{Ut.default.mqtt_client_connection_subscribe(this.native_handle(),t,r,n,this._on_suback_callback.bind(this,s,o))}catch(i){o(i)}})})}unsubscribe(t){return To(this,void 0,void 0,function*(){return typeof t!="string"?Promise.reject("topic is not a string"):new Promise((r,n)=>{n=this._reject(n);try{Ut.default.mqtt_client_connection_unsubscribe(this.native_handle(),t,this._on_unsuback_callback.bind(this,r,n))}catch(s){n(s)}})})}disconnect(){return To(this,void 0,void 0,function*(){return new Promise((t,r)=>{r=this._reject(r);try{Ut.default.mqtt_client_connection_disconnect(this.native_handle(),this._on_disconnect_callback.bind(this,t))}catch(n){r(n)}})})}getQueueStatistics(){return Ut.default.mqtt_client_connection_get_queue_statistics(this.native_handle())}_reject(t){return r=>{t(r),process.nextTick(()=>{this.emit("error",new Un.CrtError(r))})}}_on_connection_interrupted(t){this.emit("interrupt",new Un.CrtError(t))}_on_connection_resumed(t,r){this.emit("resume",t,r);let n={session_present:r,reason_code:t};this.emit("connection_success",n)}_on_any_publish(t,r,n,s,o){this.emit("message",t,r,n,s,o)}_on_connection_closed(){let t={};this.emit("closed",t),this.close()}_on_connect_callback(t,r,n,s,o){if(n==0&&s==0){t(o),this.emit("connect",o);let i={session_present:o,reason_code:s};this.emit("connection_success",i)}else if(n!=0){r("Failed to connect: "+Zf.error_code_to_string(n));let i={error:new Un.CrtError(n)};this.emit("connection_failure",i)}else{r("Server rejected connection.");let i={error:new Un.CrtError(5134)};this.emit("connection_failure",i)}}_on_puback_callback(t,r,n,s){s==0?t({packet_id:n}):r("Failed to publish: "+Zf.error_code_to_string(s))}_on_suback_callback(t,r,n,s,o,i){i==0?t({packet_id:n,topic:s,qos:o,error_code:i}):r("Failed to subscribe: "+Zf.error_code_to_string(i))}_on_unsuback_callback(t,r,n,s){s==0?t({packet_id:n}):r("Failed to unsubscribe: "+Zf.error_code_to_string(s))}_on_disconnect_callback(t){t(),this.emit("disconnect")}};ke.MqttClientConnection=Pt;Pt.CONNECT="connect";Pt.DISCONNECT="disconnect";Pt.ERROR="error";Pt.INTERRUPT="interrupt";Pt.RESUME="resume";Pt.MESSAGE="message";Pt.CONNECTION_SUCCESS="connection_success";Pt.CONNECTION_FAILURE="connection_failure";Pt.CLOSED="closed"});var bN=l(Y=>{"use strict";var oY=Y&&Y.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),iY=Y&&Y.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),pt=Y&&Y.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&oY(t,e,r);return iY(t,e),t};Object.defineProperty(Y,"__esModule",{value:!0});Y.CrtError=Y.resource_safety=Y.promise=Y.platform=Y.mqtt5=Y.mqtt=Y.iot=Y.io=Y.http=Y.eventstream=Y.crt=Y.crypto=Y.checksums=Y.cancel=Y.auth=void 0;var aY=pt(AI());Y.cancel=aY;var cY=pt(Uf());Y.platform=cY;var dY=pt(Lf());Y.promise=dY;var uY=pt(NI());Y.resource_safety=uY;var lY=pt($f());Y.auth=lY;var mY=pt($I());Y.checksums=mY;var pY=pt(VI());Y.crt=pY;var fY=pt(GI());Y.crypto=fY;var _Y=pt(JI());Y.eventstream=_Y;var hY=pt(Yf());Y.http=hY;var yY=pt(Yr());Y.io=yY;var gY=pt(hN());Y.iot=gY;var EY=pt(SN());Y.mqtt=EY;var vY=pt(H0());Y.mqtt5=vY;var wY=Gt();Object.defineProperty(Y,"CrtError",{enumerable:!0,get:function(){return wY.CrtError}})});var CN=l((e_,PN)=>{"use strict";Object.defineProperty(e_,"__esModule",{value:!0});e_.isCrtAvailable=void 0;var SY=()=>{try{return typeof q=="function"&&typeof PN<"u"&&bN()?["md/crt-avail"]:null}catch{return null}};e_.isCrtAvailable=SY});var wc=l(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.defaultUserAgent=Sr.UA_APP_ID_INI_NAME=Sr.UA_APP_ID_ENV_NAME=void 0;var bY=Nn(),xN=q("os"),W0=q("process"),PY=CN();Sr.UA_APP_ID_ENV_NAME="AWS_SDK_UA_APP_ID";Sr.UA_APP_ID_INI_NAME="sdk-ua-app-id";var CY=({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],["ua","2.0"],[`os/${(0,xN.platform)()}`,(0,xN.release)()],["lang/js"],["md/nodejs",`${W0.versions.node}`]],n=(0,PY.isCrtAvailable)();n&&r.push(n),e&&r.push([`api/${e}`,t]),W0.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${W0.env.AWS_EXECUTION_ENV}`]);let s=(0,bY.loadConfig)({environmentVariableSelector:i=>i[Sr.UA_APP_ID_ENV_NAME],configFileSelector:i=>i[Sr.UA_APP_ID_INI_NAME],default:void 0})(),o;return async()=>{if(!o){let i=await s;o=i?[...r,[`app/${i}`]]:[...r]}return o}};Sr.defaultUserAgent=CY});var Sc=l(t_=>{"use strict";Object.defineProperty(t_,"__esModule",{value:!0});t_.Hash=void 0;var K0=os(),xY=rr(),OY=q("buffer"),ON=q("crypto"),Y0=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update((0,xY.toUint8Array)(AN(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,ON.createHmac)(this.algorithmIdentifier,AN(this.secret)):(0,ON.createHash)(this.algorithmIdentifier)}};t_.Hash=Y0;function AN(e,t){return OY.Buffer.isBuffer(e)?e:typeof e=="string"?(0,K0.fromString)(e,t):ArrayBuffer.isView(e)?(0,K0.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength):(0,K0.fromArrayBuffer)(e)}});var RN=l(r_=>{"use strict";Object.defineProperty(r_,"__esModule",{value:!0});r_.calculateBodyLength=void 0;var TN=q("fs"),AY=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.from(e).length;if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,TN.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,TN.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)};r_.calculateBodyLength=AY});var bc=l(Q0=>{"use strict";Object.defineProperty(Q0,"__esModule",{value:!0});var TY=A();TY.__exportStar(RN(),Q0)});var $N=l(n_=>{"use strict";Object.defineProperty(n_,"__esModule",{value:!0});n_.ruleSet=void 0;var jN="required",Xr="fn",Jr="argv",Ro="ref",X0="PartitionResult",br="tree",Pc="error",Cc="endpoint",IN={[jN]:!1,type:"String"},NN={[jN]:!0,default:!1,type:"Boolean"},LN={[Ro]:"Endpoint"},UN={[Xr]:"booleanEquals",[Jr]:[{[Ro]:"UseFIPS"},!0]},zN={[Xr]:"booleanEquals",[Jr]:[{[Ro]:"UseDualStack"},!0]},Pr={},qN={[Xr]:"booleanEquals",[Jr]:[!0,{[Xr]:"getAttr",[Jr]:[{[Ro]:X0},"supportsFIPS"]}]},DN={[Xr]:"booleanEquals",[Jr]:[!0,{[Xr]:"getAttr",[Jr]:[{[Ro]:X0},"supportsDualStack"]}]},kN=[LN],MN=[UN],FN=[zN],RY={version:"1.0",parameters:{Region:IN,UseDualStack:NN,UseFIPS:NN,Endpoint:IN},rules:[{conditions:[{[Xr]:"aws.partition",[Jr]:[{[Ro]:"Region"}],assign:X0}],type:br,rules:[{conditions:[{[Xr]:"isSet",[Jr]:kN},{[Xr]:"parseURL",[Jr]:kN,assign:"url"}],type:br,rules:[{conditions:MN,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Pc},{type:br,rules:[{conditions:FN,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Pc},{endpoint:{url:LN,properties:Pr,headers:Pr},type:Cc}]}]},{conditions:[UN,zN],type:br,rules:[{conditions:[qN,DN],type:br,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Pr,headers:Pr},type:Cc}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Pc}]},{conditions:MN,type:br,rules:[{conditions:[qN],type:br,rules:[{type:br,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Pr,headers:Pr},type:Cc}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Pc}]},{conditions:FN,type:br,rules:[{conditions:[DN],type:br,rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Pr,headers:Pr},type:Cc}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Pc}]},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Pr,headers:Pr},type:Cc}]}]};n_.ruleSet=RY});var BN=l(s_=>{"use strict";Object.defineProperty(s_,"__esModule",{value:!0});s_.defaultEndpointResolver=void 0;var IY=eo(),NY=$N(),qY=(e,t={})=>(0,IY.resolveEndpoint)(NY.ruleSet,{endpointParams:e,logger:t.logger});s_.defaultEndpointResolver=qY});var GN=l(o_=>{"use strict";Object.defineProperty(o_,"__esModule",{value:!0});o_.getRuntimeConfig=void 0;var DY=C(),kY=ms(),VN=oo(),HN=rr(),MY=BN(),FY=e=>{var t,r,n,s,o,i,a,c,u;return{apiVersion:"2019-06-10",base64Decoder:(t=e==null?void 0:e.base64Decoder)!=null?t:VN.fromBase64,base64Encoder:(r=e==null?void 0:e.base64Encoder)!=null?r:VN.toBase64,disableHostPrefix:(n=e==null?void 0:e.disableHostPrefix)!=null?n:!1,endpointProvider:(s=e==null?void 0:e.endpointProvider)!=null?s:MY.defaultEndpointResolver,logger:(o=e==null?void 0:e.logger)!=null?o:new DY.NoOpLogger,serviceId:(i=e==null?void 0:e.serviceId)!=null?i:"SSO",urlParser:(a=e==null?void 0:e.urlParser)!=null?a:kY.parseUrl,utf8Decoder:(c=e==null?void 0:e.utf8Decoder)!=null?c:HN.fromUtf8,utf8Encoder:(u=e==null?void 0:e.utf8Encoder)!=null?u:HN.toUtf8}};o_.getRuntimeConfig=FY});var WN=l(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.IMDS_REGION_PATH=ft.DEFAULTS_MODE_OPTIONS=ft.ENV_IMDS_DISABLED=ft.AWS_DEFAULT_REGION_ENV=ft.AWS_REGION_ENV=ft.AWS_EXECUTION_ENV=void 0;ft.AWS_EXECUTION_ENV="AWS_EXECUTION_ENV";ft.AWS_REGION_ENV="AWS_REGION";ft.AWS_DEFAULT_REGION_ENV="AWS_DEFAULT_REGION";ft.ENV_IMDS_DISABLED="AWS_EC2_METADATA_DISABLED";ft.DEFAULTS_MODE_OPTIONS=["in-region","cross-region","mobile","standard","legacy"];ft.IMDS_REGION_PATH="/latest/meta-data/placement/region"});var KN=l(i_=>{"use strict";Object.defineProperty(i_,"__esModule",{value:!0});i_.NODE_DEFAULTS_MODE_CONFIG_OPTIONS=void 0;var jY="AWS_DEFAULTS_MODE",LY="defaults_mode";i_.NODE_DEFAULTS_MODE_CONFIG_OPTIONS={environmentVariableSelector:e=>e[jY],configFileSelector:e=>e[LY],default:"legacy"}});var XN=l(a_=>{"use strict";Object.defineProperty(a_,"__esModule",{value:!0});a_.resolveDefaultsModeConfig=void 0;var UY=or(),YN=Nf(),QN=Nn(),zY=ge(),zn=WN(),$Y=KN(),BY=({region:e=(0,QN.loadConfig)(UY.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=(0,QN.loadConfig)($Y.NODE_DEFAULTS_MODE_CONFIG_OPTIONS)}={})=>(0,zY.memoize)(async()=>{let r=typeof t=="function"?await t():t;switch(r==null?void 0:r.toLowerCase()){case"auto":return VY(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r==null?void 0:r.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${zn.DEFAULTS_MODE_OPTIONS.join(", ")}, got ${r}`)}});a_.resolveDefaultsModeConfig=BY;var VY=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await HY();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},HY=async()=>{var e;if(process.env[zn.AWS_EXECUTION_ENV]&&(process.env[zn.AWS_REGION_ENV]||process.env[zn.AWS_DEFAULT_REGION_ENV]))return(e=process.env[zn.AWS_REGION_ENV])!==null&&e!==void 0?e:process.env[zn.AWS_DEFAULT_REGION_ENV];if(!process.env[zn.ENV_IMDS_DISABLED])try{let t=await(0,YN.getInstanceMetadataEndpoint)();return(await(0,YN.httpRequest)({...t,path:zn.IMDS_REGION_PATH})).toString()}catch{}}});var xc=l(J0=>{"use strict";Object.defineProperty(J0,"__esModule",{value:!0});var GY=A();GY.__exportStar(XN(),J0)});var eq=l(d_=>{"use strict";Object.defineProperty(d_,"__esModule",{value:!0});d_.getRuntimeConfig=void 0;var WY=A(),KY=WY.__importDefault(xI()),YY=wc(),c_=or(),QY=Sc(),JN=Vr(),Oc=Nn(),ZN=co(),XY=bc(),JY=qt(),ZY=GN(),eQ=C(),tQ=xc(),rQ=C(),nQ=e=>{var s,o,i,a,c,u,d,p,h,y;(0,rQ.emitWarningIfUnsupportedVersion)(process.version);let t=(0,tQ.resolveDefaultsModeConfig)(e),r=()=>t().then(eQ.loadConfigsForDefaultMode),n=(0,ZY.getRuntimeConfig)(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(s=e==null?void 0:e.bodyLengthChecker)!=null?s:XY.calculateBodyLength,defaultUserAgentProvider:(o=e==null?void 0:e.defaultUserAgentProvider)!=null?o:(0,YY.defaultUserAgent)({serviceId:n.serviceId,clientVersion:KY.default.version}),maxAttempts:(i=e==null?void 0:e.maxAttempts)!=null?i:(0,Oc.loadConfig)(JN.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:(a=e==null?void 0:e.region)!=null?a:(0,Oc.loadConfig)(c_.NODE_REGION_CONFIG_OPTIONS,c_.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:(c=e==null?void 0:e.requestHandler)!=null?c:new ZN.NodeHttpHandler(r),retryMode:(u=e==null?void 0:e.retryMode)!=null?u:(0,Oc.loadConfig)({...JN.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||JY.DEFAULT_RETRY_MODE}),sha256:(d=e==null?void 0:e.sha256)!=null?d:QY.Hash.bind(null,"sha256"),streamCollector:(p=e==null?void 0:e.streamCollector)!=null?p:ZN.streamCollector,useDualstackEndpoint:(h=e==null?void 0:e.useDualstackEndpoint)!=null?h:(0,Oc.loadConfig)(c_.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:(y=e==null?void 0:e.useFipsEndpoint)!=null?y:(0,Oc.loadConfig)(c_.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};d_.getRuntimeConfig=nQ});var Ac=l(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.SSOClient=Io.__Client=void 0;var tq=ua(),sQ=la(),oQ=ma(),rq=qa(),iQ=or(),aQ=Ma(),cQ=N(),nq=Vr(),sq=C();Object.defineProperty(Io,"__Client",{enumerable:!0,get:function(){return sq.Client}});var dQ=CI(),uQ=eq(),Z0=class extends sq.Client{constructor(t){let r=(0,uQ.getRuntimeConfig)(t),n=(0,dQ.resolveClientEndpointParameters)(r),s=(0,iQ.resolveRegionConfig)(n),o=(0,cQ.resolveEndpointConfig)(s),i=(0,nq.resolveRetryConfig)(o),a=(0,tq.resolveHostHeaderConfig)(i),c=(0,rq.resolveUserAgentConfig)(a);super(c),this.config=c,this.middlewareStack.use((0,nq.getRetryPlugin)(this.config)),this.middlewareStack.use((0,aQ.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,tq.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,sQ.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,oQ.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,rq.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};Io.SSOClient=Z0});var u_=l(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.SSOServiceException=No.__ServiceException=void 0;var oq=C();Object.defineProperty(No,"__ServiceException",{enumerable:!0,get:function(){return oq.ServiceException}});var Tc=class extends oq.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,Tc.prototype)}};No.SSOServiceException=Tc});var Os=l(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.LogoutRequestFilterSensitiveLog=Ne.ListAccountsRequestFilterSensitiveLog=Ne.ListAccountRolesRequestFilterSensitiveLog=Ne.GetRoleCredentialsResponseFilterSensitiveLog=Ne.RoleCredentialsFilterSensitiveLog=Ne.GetRoleCredentialsRequestFilterSensitiveLog=Ne.UnauthorizedException=Ne.TooManyRequestsException=Ne.ResourceNotFoundException=Ne.InvalidRequestException=void 0;var qo=C(),l_=u_(),Rc=class extends l_.SSOServiceException{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Rc.prototype)}};Ne.InvalidRequestException=Rc;var Ic=class extends l_.SSOServiceException{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Ic.prototype)}};Ne.ResourceNotFoundException=Ic;var Nc=class extends l_.SSOServiceException{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,Nc.prototype)}};Ne.TooManyRequestsException=Nc;var qc=class extends l_.SSOServiceException{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,qc.prototype)}};Ne.UnauthorizedException=qc;var lQ=e=>({...e,...e.accessToken&&{accessToken:qo.SENSITIVE_STRING}});Ne.GetRoleCredentialsRequestFilterSensitiveLog=lQ;var mQ=e=>({...e,...e.secretAccessKey&&{secretAccessKey:qo.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:qo.SENSITIVE_STRING}});Ne.RoleCredentialsFilterSensitiveLog=mQ;var pQ=e=>({...e,...e.roleCredentials&&{roleCredentials:(0,Ne.RoleCredentialsFilterSensitiveLog)(e.roleCredentials)}});Ne.GetRoleCredentialsResponseFilterSensitiveLog=pQ;var fQ=e=>({...e,...e.accessToken&&{accessToken:qo.SENSITIVE_STRING}});Ne.ListAccountRolesRequestFilterSensitiveLog=fQ;var _Q=e=>({...e,...e.accessToken&&{accessToken:qo.SENSITIVE_STRING}});Ne.ListAccountsRequestFilterSensitiveLog=_Q;var hQ=e=>({...e,...e.accessToken&&{accessToken:qo.SENSITIVE_STRING}});Ne.LogoutRequestFilterSensitiveLog=hQ});var Dc=l(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.de_LogoutCommand=He.de_ListAccountsCommand=He.de_ListAccountRolesCommand=He.de_GetRoleCredentialsCommand=He.se_LogoutCommand=He.se_ListAccountsCommand=He.se_ListAccountRolesCommand=He.se_GetRoleCredentialsCommand=void 0;var m_=nt(),F=C(),p_=Os(),yQ=u_(),gQ=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i=(0,F.map)({},g_,{"x-amz-sso_bearer_token":e.accessToken}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/federation/credentials`,c=(0,F.map)({role_name:[,(0,F.expectNonNull)(e.roleName,"roleName")],account_id:[,(0,F.expectNonNull)(e.accountId,"accountId")]}),u;return new m_.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:i,path:a,query:c,body:u})};He.se_GetRoleCredentialsCommand=gQ;var EQ=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i=(0,F.map)({},g_,{"x-amz-sso_bearer_token":e.accessToken}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/assignment/roles`,c=(0,F.map)({next_token:[,e.nextToken],max_result:[()=>e.maxResults!==void 0,()=>e.maxResults.toString()],account_id:[,(0,F.expectNonNull)(e.accountId,"accountId")]}),u;return new m_.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:i,path:a,query:c,body:u})};He.se_ListAccountRolesCommand=EQ;var vQ=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i=(0,F.map)({},g_,{"x-amz-sso_bearer_token":e.accessToken}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/assignment/accounts`,c=(0,F.map)({next_token:[,e.nextToken],max_result:[()=>e.maxResults!==void 0,()=>e.maxResults.toString()]}),u;return new m_.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:i,path:a,query:c,body:u})};He.se_ListAccountsCommand=vQ;var wQ=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i=(0,F.map)({},g_,{"x-amz-sso_bearer_token":e.accessToken}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/logout`,c;return new m_.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,body:c})};He.se_LogoutCommand=wQ;var SQ=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return bQ(e,t);let r=(0,F.map)({$metadata:$n(e)}),n=(0,F.expectNonNull)((0,F.expectObject)(await E_(e.body,t)),"body"),s=(0,F.take)(n,{roleCredentials:F._json});return Object.assign(r,s),r};He.de_GetRoleCredentialsCommand=SQ;var bQ=async(e,t)=>{let r={...e,body:await v_(e.body,t)},n=w_(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await __(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await ev(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await h_(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await y_(r,t);default:let s=r.body;return f_({output:e,parsedBody:s,errorCode:n})}},PQ=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return CQ(e,t);let r=(0,F.map)({$metadata:$n(e)}),n=(0,F.expectNonNull)((0,F.expectObject)(await E_(e.body,t)),"body"),s=(0,F.take)(n,{nextToken:F.expectString,roleList:F._json});return Object.assign(r,s),r};He.de_ListAccountRolesCommand=PQ;var CQ=async(e,t)=>{let r={...e,body:await v_(e.body,t)},n=w_(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await __(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await ev(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await h_(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await y_(r,t);default:let s=r.body;return f_({output:e,parsedBody:s,errorCode:n})}},xQ=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return OQ(e,t);let r=(0,F.map)({$metadata:$n(e)}),n=(0,F.expectNonNull)((0,F.expectObject)(await E_(e.body,t)),"body"),s=(0,F.take)(n,{accountList:F._json,nextToken:F.expectString});return Object.assign(r,s),r};He.de_ListAccountsCommand=xQ;var OQ=async(e,t)=>{let r={...e,body:await v_(e.body,t)},n=w_(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await __(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await ev(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await h_(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await y_(r,t);default:let s=r.body;return f_({output:e,parsedBody:s,errorCode:n})}},AQ=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return TQ(e,t);let r=(0,F.map)({$metadata:$n(e)});return await(0,F.collectBody)(e.body,t),r};He.de_LogoutCommand=AQ;var TQ=async(e,t)=>{let r={...e,body:await v_(e.body,t)},n=w_(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await __(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await h_(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await y_(r,t);default:let s=r.body;return f_({output:e,parsedBody:s,errorCode:n})}},f_=(0,F.withBaseException)(yQ.SSOServiceException),__=async(e,t)=>{let r=(0,F.map)({}),n=e.body,s=(0,F.take)(n,{message:F.expectString});Object.assign(r,s);let o=new p_.InvalidRequestException({$metadata:$n(e),...r});return(0,F.decorateServiceException)(o,e.body)},ev=async(e,t)=>{let r=(0,F.map)({}),n=e.body,s=(0,F.take)(n,{message:F.expectString});Object.assign(r,s);let o=new p_.ResourceNotFoundException({$metadata:$n(e),...r});return(0,F.decorateServiceException)(o,e.body)},h_=async(e,t)=>{let r=(0,F.map)({}),n=e.body,s=(0,F.take)(n,{message:F.expectString});Object.assign(r,s);let o=new p_.TooManyRequestsException({$metadata:$n(e),...r});return(0,F.decorateServiceException)(o,e.body)},y_=async(e,t)=>{let r=(0,F.map)({}),n=e.body,s=(0,F.take)(n,{message:F.expectString});Object.assign(r,s);let o=new p_.UnauthorizedException({$metadata:$n(e),...r});return(0,F.decorateServiceException)(o,e.body)},$n=e=>{var t,r;return{httpStatusCode:e.statusCode,requestId:(r=(t=e.headers["x-amzn-requestid"])!=null?t:e.headers["x-amzn-request-id"])!=null?r:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},RQ=(e,t)=>(0,F.collectBody)(e,t).then(r=>t.utf8Encoder(r)),g_=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),E_=(e,t)=>RQ(e,t).then(r=>r.length?JSON.parse(r):{}),v_=async(e,t)=>{var n;let r=await E_(e,t);return r.message=(n=r.message)!=null?n:r.Message,r},w_=(e,t)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var tv=l(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.GetRoleCredentialsCommand=Do.$Command=void 0;var IQ=N(),NQ=k(),cq=C();Object.defineProperty(Do,"$Command",{enumerable:!0,get:function(){return cq.Command}});var iq=Os(),aq=Dc(),kc=class extends cq.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,NQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,IQ.getEndpointPlugin)(r,kc.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:iq.GetRoleCredentialsRequestFilterSensitiveLog,outputFilterSensitiveLog:iq.GetRoleCredentialsResponseFilterSensitiveLog},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,aq.se_GetRoleCredentialsCommand)(t,r)}deserialize(t,r){return(0,aq.de_GetRoleCredentialsCommand)(t,r)}};Do.GetRoleCredentialsCommand=kc});var S_=l(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.ListAccountRolesCommand=ko.$Command=void 0;var qQ=N(),DQ=k(),uq=C();Object.defineProperty(ko,"$Command",{enumerable:!0,get:function(){return uq.Command}});var kQ=Os(),dq=Dc(),Mc=class extends uq.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,DQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,qQ.getEndpointPlugin)(r,Mc.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"SSOClient",commandName:"ListAccountRolesCommand",inputFilterSensitiveLog:kQ.ListAccountRolesRequestFilterSensitiveLog,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,dq.se_ListAccountRolesCommand)(t,r)}deserialize(t,r){return(0,dq.de_ListAccountRolesCommand)(t,r)}};ko.ListAccountRolesCommand=Mc});var b_=l(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.ListAccountsCommand=Mo.$Command=void 0;var MQ=N(),FQ=k(),mq=C();Object.defineProperty(Mo,"$Command",{enumerable:!0,get:function(){return mq.Command}});var jQ=Os(),lq=Dc(),Fc=class extends mq.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,FQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,MQ.getEndpointPlugin)(r,Fc.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"SSOClient",commandName:"ListAccountsCommand",inputFilterSensitiveLog:jQ.ListAccountsRequestFilterSensitiveLog,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,lq.se_ListAccountsCommand)(t,r)}deserialize(t,r){return(0,lq.de_ListAccountsCommand)(t,r)}};Mo.ListAccountsCommand=Fc});var rv=l(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.LogoutCommand=Fo.$Command=void 0;var LQ=N(),UQ=k(),fq=C();Object.defineProperty(Fo,"$Command",{enumerable:!0,get:function(){return fq.Command}});var zQ=Os(),pq=Dc(),jc=class extends fq.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,UQ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,LQ.getEndpointPlugin)(r,jc.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"SSOClient",commandName:"LogoutCommand",inputFilterSensitiveLog:zQ.LogoutRequestFilterSensitiveLog,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,pq.se_LogoutCommand)(t,r)}deserialize(t,r){return(0,pq.de_LogoutCommand)(t,r)}};Fo.LogoutCommand=jc});var _q=l(C_=>{"use strict";Object.defineProperty(C_,"__esModule",{value:!0});C_.SSO=void 0;var $Q=C(),BQ=tv(),VQ=S_(),HQ=b_(),GQ=rv(),WQ=Ac(),KQ={GetRoleCredentialsCommand:BQ.GetRoleCredentialsCommand,ListAccountRolesCommand:VQ.ListAccountRolesCommand,ListAccountsCommand:HQ.ListAccountsCommand,LogoutCommand:GQ.LogoutCommand},P_=class extends WQ.SSOClient{};C_.SSO=P_;(0,$Q.createAggregatedClient)(KQ,P_)});var hq=l(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});var x_=A();x_.__exportStar(tv(),jo);x_.__exportStar(S_(),jo);x_.__exportStar(b_(),jo);x_.__exportStar(rv(),jo)});var gq=l(yq=>{"use strict";Object.defineProperty(yq,"__esModule",{value:!0})});var Eq=l(O_=>{"use strict";Object.defineProperty(O_,"__esModule",{value:!0});O_.paginateListAccountRoles=void 0;var YQ=S_(),QQ=Ac(),XQ=async(e,t,...r)=>await e.send(new YQ.ListAccountRolesCommand(t),...r);async function*JQ(e,t,...r){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(t.nextToken=n,t.maxResults=e.pageSize,e.client instanceof QQ.SSOClient)o=await XQ(e.client,t,...r);else throw new Error("Invalid client, expected SSO | SSOClient");yield o;let i=n;n=o.nextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}O_.paginateListAccountRoles=JQ});var vq=l(A_=>{"use strict";Object.defineProperty(A_,"__esModule",{value:!0});A_.paginateListAccounts=void 0;var ZQ=b_(),eX=Ac(),tX=async(e,t,...r)=>await e.send(new ZQ.ListAccountsCommand(t),...r);async function*rX(e,t,...r){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(t.nextToken=n,t.maxResults=e.pageSize,e.client instanceof eX.SSOClient)o=await tX(e.client,t,...r);else throw new Error("Invalid client, expected SSO | SSOClient");yield o;let i=n;n=o.nextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}A_.paginateListAccounts=rX});var wq=l(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});var nv=A();nv.__exportStar(gq(),Lc);nv.__exportStar(Eq(),Lc);nv.__exportStar(vq(),Lc)});var Sq=l(sv=>{"use strict";Object.defineProperty(sv,"__esModule",{value:!0});var nX=A();nX.__exportStar(Os(),sv)});var bq=l(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.SSOServiceException=void 0;var Uc=A();Uc.__exportStar(Ac(),Zr);Uc.__exportStar(_q(),Zr);Uc.__exportStar(hq(),Zr);Uc.__exportStar(wq(),Zr);Uc.__exportStar(Sq(),Zr);var sX=u_();Object.defineProperty(Zr,"SSOServiceException",{enumerable:!0,get:function(){return sX.SSOServiceException}})});var T_=l(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.REFRESH_MESSAGE=Lo.EXPIRE_WINDOW_MS=void 0;Lo.EXPIRE_WINDOW_MS=5*60*1e3;Lo.REFRESH_MESSAGE="To refresh this SSO session run 'aws sso login' with the corresponding profile."});var Pq=l(R_=>{"use strict";Object.defineProperty(R_,"__esModule",{value:!0});R_.resolveClientEndpointParameters=void 0;var oX=e=>{var t,r;return{...e,useDualstackEndpoint:(t=e.useDualstackEndpoint)!=null?t:!1,useFipsEndpoint:(r=e.useFipsEndpoint)!=null?r:!1,defaultSigningName:"awsssooidc"}};R_.resolveClientEndpointParameters=oX});var Cq=l((o_e,iX)=>{iX.exports={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.363.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/middleware-host-header":"3.363.0","@aws-sdk/middleware-logger":"3.363.0","@aws-sdk/middleware-recursion-detection":"3.363.0","@aws-sdk/middleware-user-agent":"3.363.0","@aws-sdk/types":"3.357.0","@aws-sdk/util-endpoints":"3.357.0","@aws-sdk/util-user-agent-browser":"3.363.0","@aws-sdk/util-user-agent-node":"3.363.0","@smithy/config-resolver":"^1.0.1","@smithy/fetch-http-handler":"^1.0.1","@smithy/hash-node":"^1.0.1","@smithy/invalid-dependency":"^1.0.1","@smithy/middleware-content-length":"^1.0.1","@smithy/middleware-endpoint":"^1.0.1","@smithy/middleware-retry":"^1.0.2","@smithy/middleware-serde":"^1.0.1","@smithy/middleware-stack":"^1.0.1","@smithy/node-config-provider":"^1.0.1","@smithy/node-http-handler":"^1.0.2","@smithy/protocol-http":"^1.0.1","@smithy/smithy-client":"^1.0.3","@smithy/types":"^1.0.0","@smithy/url-parser":"^1.0.1","@smithy/util-base64":"^1.0.1","@smithy/util-body-length-browser":"^1.0.1","@smithy/util-body-length-node":"^1.0.1","@smithy/util-defaults-mode-browser":"^1.0.1","@smithy/util-defaults-mode-node":"^1.0.1","@smithy/util-retry":"^1.0.2","@smithy/util-utf8":"^1.0.1",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@smithy/service-client-documentation-generator":"^1.0.1","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}}});var Fq=l(I_=>{"use strict";Object.defineProperty(I_,"__esModule",{value:!0});I_.ruleSet=void 0;var qq="required",en="fn",tn="argv",Uo="ref",ov="PartitionResult",Cr="tree",zc="error",$c="endpoint",xq={[qq]:!1,type:"String"},Oq={[qq]:!0,default:!1,type:"Boolean"},Dq={[Uo]:"Endpoint"},kq={[en]:"booleanEquals",[tn]:[{[Uo]:"UseFIPS"},!0]},Mq={[en]:"booleanEquals",[tn]:[{[Uo]:"UseDualStack"},!0]},xr={},Aq={[en]:"booleanEquals",[tn]:[!0,{[en]:"getAttr",[tn]:[{[Uo]:ov},"supportsFIPS"]}]},Tq={[en]:"booleanEquals",[tn]:[!0,{[en]:"getAttr",[tn]:[{[Uo]:ov},"supportsDualStack"]}]},Rq=[Dq],Iq=[kq],Nq=[Mq],aX={version:"1.0",parameters:{Region:xq,UseDualStack:Oq,UseFIPS:Oq,Endpoint:xq},rules:[{conditions:[{[en]:"aws.partition",[tn]:[{[Uo]:"Region"}],assign:ov}],type:Cr,rules:[{conditions:[{[en]:"isSet",[tn]:Rq},{[en]:"parseURL",[tn]:Rq,assign:"url"}],type:Cr,rules:[{conditions:Iq,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:zc},{type:Cr,rules:[{conditions:Nq,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:zc},{endpoint:{url:Dq,properties:xr,headers:xr},type:$c}]}]},{conditions:[kq,Mq],type:Cr,rules:[{conditions:[Aq,Tq],type:Cr,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xr,headers:xr},type:$c}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:zc}]},{conditions:Iq,type:Cr,rules:[{conditions:[Aq],type:Cr,rules:[{type:Cr,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:xr,headers:xr},type:$c}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:zc}]},{conditions:Nq,type:Cr,rules:[{conditions:[Tq],type:Cr,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:xr,headers:xr},type:$c}]},{error:"DualStack is enabled but this partition does not support DualStack",type:zc}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:xr,headers:xr},type:$c}]}]};I_.ruleSet=aX});var jq=l(N_=>{"use strict";Object.defineProperty(N_,"__esModule",{value:!0});N_.defaultEndpointResolver=void 0;var cX=eo(),dX=Fq(),uX=(e,t={})=>(0,cX.resolveEndpoint)(dX.ruleSet,{endpointParams:e,logger:t.logger});N_.defaultEndpointResolver=uX});var zq=l(q_=>{"use strict";Object.defineProperty(q_,"__esModule",{value:!0});q_.getRuntimeConfig=void 0;var lX=C(),mX=ms(),Lq=oo(),Uq=rr(),pX=jq(),fX=e=>{var t,r,n,s,o,i,a,c,u;return{apiVersion:"2019-06-10",base64Decoder:(t=e==null?void 0:e.base64Decoder)!=null?t:Lq.fromBase64,base64Encoder:(r=e==null?void 0:e.base64Encoder)!=null?r:Lq.toBase64,disableHostPrefix:(n=e==null?void 0:e.disableHostPrefix)!=null?n:!1,endpointProvider:(s=e==null?void 0:e.endpointProvider)!=null?s:pX.defaultEndpointResolver,logger:(o=e==null?void 0:e.logger)!=null?o:new lX.NoOpLogger,serviceId:(i=e==null?void 0:e.serviceId)!=null?i:"SSO OIDC",urlParser:(a=e==null?void 0:e.urlParser)!=null?a:mX.parseUrl,utf8Decoder:(c=e==null?void 0:e.utf8Decoder)!=null?c:Uq.fromUtf8,utf8Encoder:(u=e==null?void 0:e.utf8Encoder)!=null?u:Uq.toUtf8}};q_.getRuntimeConfig=fX});var Vq=l(k_=>{"use strict";Object.defineProperty(k_,"__esModule",{value:!0});k_.getRuntimeConfig=void 0;var _X=A(),hX=_X.__importDefault(Cq()),yX=wc(),D_=or(),gX=Sc(),$q=Vr(),Bc=Nn(),Bq=co(),EX=bc(),vX=qt(),wX=zq(),SX=C(),bX=xc(),PX=C(),CX=e=>{var s,o,i,a,c,u,d,p,h,y;(0,PX.emitWarningIfUnsupportedVersion)(process.version);let t=(0,bX.resolveDefaultsModeConfig)(e),r=()=>t().then(SX.loadConfigsForDefaultMode),n=(0,wX.getRuntimeConfig)(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(s=e==null?void 0:e.bodyLengthChecker)!=null?s:EX.calculateBodyLength,defaultUserAgentProvider:(o=e==null?void 0:e.defaultUserAgentProvider)!=null?o:(0,yX.defaultUserAgent)({serviceId:n.serviceId,clientVersion:hX.default.version}),maxAttempts:(i=e==null?void 0:e.maxAttempts)!=null?i:(0,Bc.loadConfig)($q.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:(a=e==null?void 0:e.region)!=null?a:(0,Bc.loadConfig)(D_.NODE_REGION_CONFIG_OPTIONS,D_.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:(c=e==null?void 0:e.requestHandler)!=null?c:new Bq.NodeHttpHandler(r),retryMode:(u=e==null?void 0:e.retryMode)!=null?u:(0,Bc.loadConfig)({...$q.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||vX.DEFAULT_RETRY_MODE}),sha256:(d=e==null?void 0:e.sha256)!=null?d:gX.Hash.bind(null,"sha256"),streamCollector:(p=e==null?void 0:e.streamCollector)!=null?p:Bq.streamCollector,useDualstackEndpoint:(h=e==null?void 0:e.useDualstackEndpoint)!=null?h:(0,Bc.loadConfig)(D_.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:(y=e==null?void 0:e.useFipsEndpoint)!=null?y:(0,Bc.loadConfig)(D_.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};k_.getRuntimeConfig=CX});var av=l(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.SSOOIDCClient=zo.__Client=void 0;var Hq=ua(),xX=la(),OX=ma(),Gq=qa(),AX=or(),TX=Ma(),RX=N(),Wq=Vr(),Kq=C();Object.defineProperty(zo,"__Client",{enumerable:!0,get:function(){return Kq.Client}});var IX=Pq(),NX=Vq(),iv=class extends Kq.Client{constructor(t){let r=(0,NX.getRuntimeConfig)(t),n=(0,IX.resolveClientEndpointParameters)(r),s=(0,AX.resolveRegionConfig)(n),o=(0,RX.resolveEndpointConfig)(s),i=(0,Wq.resolveRetryConfig)(o),a=(0,Hq.resolveHostHeaderConfig)(i),c=(0,Gq.resolveUserAgentConfig)(a);super(c),this.config=c,this.middlewareStack.use((0,Wq.getRetryPlugin)(this.config)),this.middlewareStack.use((0,TX.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Hq.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,xX.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,OX.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Gq.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};zo.SSOOIDCClient=iv});var M_=l($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.SSOOIDCServiceException=$o.__ServiceException=void 0;var Yq=C();Object.defineProperty($o,"__ServiceException",{enumerable:!0,get:function(){return Yq.ServiceException}});var Vc=class extends Yq.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,Vc.prototype)}};$o.SSOOIDCServiceException=Vc});var cv=l(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.InvalidClientMetadataException=be.UnsupportedGrantTypeException=be.UnauthorizedClientException=be.SlowDownException=be.InvalidScopeException=be.InvalidRequestException=be.InvalidGrantException=be.InvalidClientException=be.InternalServerException=be.ExpiredTokenException=be.AuthorizationPendingException=be.AccessDeniedException=void 0;var zt=M_(),Hc=class extends zt.SSOOIDCServiceException{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,Hc.prototype),this.error=t.error,this.error_description=t.error_description}};be.AccessDeniedException=Hc;var Gc=class extends zt.SSOOIDCServiceException{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,Gc.prototype),this.error=t.error,this.error_description=t.error_description}};be.AuthorizationPendingException=Gc;var Wc=class extends zt.SSOOIDCServiceException{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Wc.prototype),this.error=t.error,this.error_description=t.error_description}};be.ExpiredTokenException=Wc;var Kc=class extends zt.SSOOIDCServiceException{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,Kc.prototype),this.error=t.error,this.error_description=t.error_description}};be.InternalServerException=Kc;var Yc=class extends zt.SSOOIDCServiceException{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,Yc.prototype),this.error=t.error,this.error_description=t.error_description}};be.InvalidClientException=Yc;var Qc=class extends zt.SSOOIDCServiceException{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,Qc.prototype),this.error=t.error,this.error_description=t.error_description}};be.InvalidGrantException=Qc;var Xc=class extends zt.SSOOIDCServiceException{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Xc.prototype),this.error=t.error,this.error_description=t.error_description}};be.InvalidRequestException=Xc;var Jc=class extends zt.SSOOIDCServiceException{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,Jc.prototype),this.error=t.error,this.error_description=t.error_description}};be.InvalidScopeException=Jc;var Zc=class extends zt.SSOOIDCServiceException{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,Zc.prototype),this.error=t.error,this.error_description=t.error_description}};be.SlowDownException=Zc;var ed=class extends zt.SSOOIDCServiceException{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,ed.prototype),this.error=t.error,this.error_description=t.error_description}};be.UnauthorizedClientException=ed;var td=class extends zt.SSOOIDCServiceException{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,td.prototype),this.error=t.error,this.error_description=t.error_description}};be.UnsupportedGrantTypeException=td;var rd=class extends zt.SSOOIDCServiceException{constructor(t){super({name:"InvalidClientMetadataException",$fault:"client",...t}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,rd.prototype),this.error=t.error,this.error_description=t.error_description}};be.InvalidClientMetadataException=rd});var j_=l(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.de_StartDeviceAuthorizationCommand=_t.de_RegisterClientCommand=_t.de_CreateTokenCommand=_t.se_StartDeviceAuthorizationCommand=_t.se_RegisterClientCommand=_t.se_CreateTokenCommand=void 0;var dv=nt(),P=C(),$t=cv(),qX=M_(),DX=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/token`,c;return c=JSON.stringify((0,P.take)(e,{clientId:[],clientSecret:[],code:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:u=>(0,P._json)(u)})),new dv.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,body:c})};_t.se_CreateTokenCommand=DX;var kX=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/client/register`,c;return c=JSON.stringify((0,P.take)(e,{clientName:[],clientType:[],scopes:u=>(0,P._json)(u)})),new dv.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,body:c})};_t.se_RegisterClientCommand=kX;var MX=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/device_authorization`,c;return c=JSON.stringify((0,P.take)(e,{clientId:[],clientSecret:[],startUrl:[]})),new dv.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,body:c})};_t.se_StartDeviceAuthorizationCommand=MX;var FX=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return jX(e,t);let r=(0,P.map)({$metadata:it(e)}),n=(0,P.expectNonNull)((0,P.expectObject)(await F_(e.body,t)),"body"),s=(0,P.take)(n,{accessToken:P.expectString,expiresIn:P.expectInt32,idToken:P.expectString,refreshToken:P.expectString,tokenType:P.expectString});return Object.assign(r,s),r};_t.de_CreateTokenCommand=FX;var jX=async(e,t)=>{let r={...e,body:await pv(e.body,t)},n=fv(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await BX(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await VX(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await HX(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await lv(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Qq(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await WX(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await mv(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Xq(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Jq(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await Zq(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await KX(r,t);default:let s=r.body;return uv({output:e,parsedBody:s,errorCode:n})}},LX=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return UX(e,t);let r=(0,P.map)({$metadata:it(e)}),n=(0,P.expectNonNull)((0,P.expectObject)(await F_(e.body,t)),"body"),s=(0,P.take)(n,{authorizationEndpoint:P.expectString,clientId:P.expectString,clientIdIssuedAt:P.expectLong,clientSecret:P.expectString,clientSecretExpiresAt:P.expectLong,tokenEndpoint:P.expectString});return Object.assign(r,s),r};_t.de_RegisterClientCommand=LX;var UX=async(e,t)=>{let r={...e,body:await pv(e.body,t)},n=fv(e,r.body);switch(n){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await lv(r,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await GX(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await mv(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Xq(r,t);default:let s=r.body;return uv({output:e,parsedBody:s,errorCode:n})}},zX=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return $X(e,t);let r=(0,P.map)({$metadata:it(e)}),n=(0,P.expectNonNull)((0,P.expectObject)(await F_(e.body,t)),"body"),s=(0,P.take)(n,{deviceCode:P.expectString,expiresIn:P.expectInt32,interval:P.expectInt32,userCode:P.expectString,verificationUri:P.expectString,verificationUriComplete:P.expectString});return Object.assign(r,s),r};_t.de_StartDeviceAuthorizationCommand=zX;var $X=async(e,t)=>{let r={...e,body:await pv(e.body,t)},n=fv(e,r.body);switch(n){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await lv(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Qq(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await mv(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Jq(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await Zq(r,t);default:let s=r.body;return uv({output:e,parsedBody:s,errorCode:n})}},uv=(0,P.withBaseException)(qX.SSOOIDCServiceException),BX=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new $t.AccessDeniedException({$metadata:it(e),...r});return(0,P.decorateServiceException)(o,e.body)},VX=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new $t.AuthorizationPendingException({$metadata:it(e),...r});return(0,P.decorateServiceException)(o,e.body)},HX=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new $t.ExpiredTokenException({$metadata:it(e),...r});return(0,P.decorateServiceException)(o,e.body)},lv=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new $t.InternalServerException({$metadata:it(e),...r});return(0,P.decorateServiceException)(o,e.body)},Qq=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new $t.InvalidClientException({$metadata:it(e),...r});return(0,P.decorateServiceException)(o,e.body)},GX=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new $t.InvalidClientMetadataException({$metadata:it(e),...r});return(0,P.decorateServiceException)(o,e.body)},WX=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new $t.InvalidGrantException({$metadata:it(e),...r});return(0,P.decorateServiceException)(o,e.body)},mv=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new $t.InvalidRequestException({$metadata:it(e),...r});return(0,P.decorateServiceException)(o,e.body)},Xq=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new $t.InvalidScopeException({$metadata:it(e),...r});return(0,P.decorateServiceException)(o,e.body)},Jq=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new $t.SlowDownException({$metadata:it(e),...r});return(0,P.decorateServiceException)(o,e.body)},Zq=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new $t.UnauthorizedClientException({$metadata:it(e),...r});return(0,P.decorateServiceException)(o,e.body)},KX=async(e,t)=>{let r=(0,P.map)({}),n=e.body,s=(0,P.take)(n,{error:P.expectString,error_description:P.expectString});Object.assign(r,s);let o=new $t.UnsupportedGrantTypeException({$metadata:it(e),...r});return(0,P.decorateServiceException)(o,e.body)},it=e=>{var t,r;return{httpStatusCode:e.statusCode,requestId:(r=(t=e.headers["x-amzn-requestid"])!=null?t:e.headers["x-amzn-request-id"])!=null?r:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},YX=(e,t)=>(0,P.collectBody)(e,t).then(r=>t.utf8Encoder(r)),F_=(e,t)=>YX(e,t).then(r=>r.length?JSON.parse(r):{}),pv=async(e,t)=>{var n;let r=await F_(e,t);return r.message=(n=r.message)!=null?n:r.Message,r},fv=(e,t)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var _v=l(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.CreateTokenCommand=Bo.$Command=void 0;var QX=N(),XX=k(),tD=C();Object.defineProperty(Bo,"$Command",{enumerable:!0,get:function(){return tD.Command}});var eD=j_(),nd=class extends tD.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,XX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,QX.getEndpointPlugin)(r,nd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,eD.se_CreateTokenCommand)(t,r)}deserialize(t,r){return(0,eD.de_CreateTokenCommand)(t,r)}};Bo.CreateTokenCommand=nd});var hv=l(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.RegisterClientCommand=Vo.$Command=void 0;var JX=N(),ZX=k(),nD=C();Object.defineProperty(Vo,"$Command",{enumerable:!0,get:function(){return nD.Command}});var rD=j_(),sd=class extends nD.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,ZX.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,JX.getEndpointPlugin)(r,sd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"SSOOIDCClient",commandName:"RegisterClientCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,rD.se_RegisterClientCommand)(t,r)}deserialize(t,r){return(0,rD.de_RegisterClientCommand)(t,r)}};Vo.RegisterClientCommand=sd});var yv=l(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.StartDeviceAuthorizationCommand=Ho.$Command=void 0;var eJ=N(),tJ=k(),oD=C();Object.defineProperty(Ho,"$Command",{enumerable:!0,get:function(){return oD.Command}});var sD=j_(),od=class extends oD.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,tJ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,eJ.getEndpointPlugin)(r,od.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"SSOOIDCClient",commandName:"StartDeviceAuthorizationCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,sD.se_StartDeviceAuthorizationCommand)(t,r)}deserialize(t,r){return(0,sD.de_StartDeviceAuthorizationCommand)(t,r)}};Ho.StartDeviceAuthorizationCommand=od});var iD=l(U_=>{"use strict";Object.defineProperty(U_,"__esModule",{value:!0});U_.SSOOIDC=void 0;var rJ=C(),nJ=_v(),sJ=hv(),oJ=yv(),iJ=av(),aJ={CreateTokenCommand:nJ.CreateTokenCommand,RegisterClientCommand:sJ.RegisterClientCommand,StartDeviceAuthorizationCommand:oJ.StartDeviceAuthorizationCommand},L_=class extends iJ.SSOOIDCClient{};U_.SSOOIDC=L_;(0,rJ.createAggregatedClient)(aJ,L_)});var aD=l(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});var gv=A();gv.__exportStar(_v(),id);gv.__exportStar(hv(),id);gv.__exportStar(yv(),id)});var cD=l(Ev=>{"use strict";Object.defineProperty(Ev,"__esModule",{value:!0});var cJ=A();cJ.__exportStar(cv(),Ev)});var vv=l(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.SSOOIDCServiceException=void 0;var z_=A();z_.__exportStar(av(),Bn);z_.__exportStar(iD(),Bn);z_.__exportStar(aD(),Bn);z_.__exportStar(cD(),Bn);var dJ=M_();Object.defineProperty(Bn,"SSOOIDCServiceException",{enumerable:!0,get:function(){return dJ.SSOOIDCServiceException}})});var dD=l($_=>{"use strict";Object.defineProperty($_,"__esModule",{value:!0});$_.getSsoOidcClient=void 0;var uJ=vv(),wv={},lJ=e=>{if(wv[e])return wv[e];let t=new uJ.SSOOIDCClient({region:e});return wv[e]=t,t};$_.getSsoOidcClient=lJ});var uD=l(B_=>{"use strict";Object.defineProperty(B_,"__esModule",{value:!0});B_.getNewSsoOidcToken=void 0;var mJ=vv(),pJ=dD(),fJ=(e,t)=>(0,pJ.getSsoOidcClient)(t).send(new mJ.CreateTokenCommand({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}));B_.getNewSsoOidcToken=fJ});var lD=l(V_=>{"use strict";Object.defineProperty(V_,"__esModule",{value:!0});V_.validateTokenExpiry=void 0;var _J=ge(),hJ=T_(),yJ=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new _J.TokenProviderError(`Token is expired. ${hJ.REFRESH_MESSAGE}`,!1)};V_.validateTokenExpiry=yJ});var mD=l(H_=>{"use strict";Object.defineProperty(H_,"__esModule",{value:!0});H_.validateTokenKey=void 0;var gJ=ge(),EJ=T_(),vJ=(e,t,r=!1)=>{if(typeof t>"u")throw new gJ.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${EJ.REFRESH_MESSAGE}`,!1)};H_.validateTokenKey=vJ});var pD=l(G_=>{"use strict";Object.defineProperty(G_,"__esModule",{value:!0});G_.writeSSOTokenToFile=void 0;var wJ=pr(),SJ=q("fs"),{writeFile:bJ}=SJ.promises,PJ=(e,t)=>{let r=(0,wJ.getSSOTokenFilepath)(e),n=JSON.stringify(t,null,2);return bJ(r,n)};G_.writeSSOTokenToFile=PJ});var Sv=l(K_=>{"use strict";Object.defineProperty(K_,"__esModule",{value:!0});K_.fromSso=void 0;var ad=ge(),W_=pr(),fD=T_(),CJ=uD(),_D=lD(),As=mD(),xJ=pD(),hD=new Date(0),OJ=(e={})=>async()=>{let t=await(0,W_.parseKnownFiles)(e),r=(0,W_.getProfileName)(e),n=t[r];if(n){if(!n.sso_session)throw new ad.TokenProviderError(`Profile '${r}' is missing required property 'sso_session'.`)}else throw new ad.TokenProviderError(`Profile '${r}' could not be found in shared credentials file.`,!1);let s=n.sso_session,i=(await(0,W_.loadSsoSessionData)(e))[s];if(!i)throw new ad.TokenProviderError(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let y of["sso_start_url","sso_region"])if(!i[y])throw new ad.TokenProviderError(`Sso session '${s}' is missing required property '${y}'.`,!1);let a=i.sso_start_url,c=i.sso_region,u;try{u=await(0,W_.getSSOTokenFromFile)(s)}catch{throw new ad.TokenProviderError(`The SSO session token associated with profile=${r} was not found or is invalid. ${fD.REFRESH_MESSAGE}`,!1)}(0,As.validateTokenKey)("accessToken",u.accessToken),(0,As.validateTokenKey)("expiresAt",u.expiresAt);let{accessToken:d,expiresAt:p}=u,h={token:d,expiration:new Date(p)};if(h.expiration.getTime()-Date.now()>fD.EXPIRE_WINDOW_MS)return h;if(Date.now()-hD.getTime()<30*1e3)return(0,_D.validateTokenExpiry)(h),h;(0,As.validateTokenKey)("clientId",u.clientId,!0),(0,As.validateTokenKey)("clientSecret",u.clientSecret,!0),(0,As.validateTokenKey)("refreshToken",u.refreshToken,!0);try{hD.setTime(Date.now());let y=await(0,CJ.getNewSsoOidcToken)(u,c);(0,As.validateTokenKey)("accessToken",y.accessToken),(0,As.validateTokenKey)("expiresIn",y.expiresIn);let w=new Date(Date.now()+y.expiresIn*1e3);try{await(0,xJ.writeSSOTokenToFile)(s,{...u,accessToken:y.accessToken,expiresAt:w.toISOString(),refreshToken:y.refreshToken})}catch{}return{token:y.accessToken,expiration:w}}catch{return(0,_D.validateTokenExpiry)(h),h}};K_.fromSso=OJ});var yD=l(Y_=>{"use strict";Object.defineProperty(Y_,"__esModule",{value:!0});Y_.fromStatic=void 0;var AJ=ge(),TJ=({token:e})=>async()=>{if(!e||!e.token)throw new AJ.TokenProviderError("Please pass a valid token to fromStatic",!1);return e};Y_.fromStatic=TJ});var gD=l(Q_=>{"use strict";Object.defineProperty(Q_,"__esModule",{value:!0});Q_.nodeProvider=void 0;var bv=ge(),RJ=Sv(),IJ=(e={})=>(0,bv.memoize)((0,bv.chain)((0,RJ.fromSso)(e),async()=>{throw new bv.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);Q_.nodeProvider=IJ});var ED=l(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});var Pv=A();Pv.__exportStar(Sv(),cd);Pv.__exportStar(yD(),cd);Pv.__exportStar(gD(),cd)});var wD=l(X_=>{"use strict";Object.defineProperty(X_,"__esModule",{value:!0});X_.resolveSSOCredentials=void 0;var vD=bq(),NJ=ED(),dd=ge(),qJ=pr(),DJ=15*60*1e3,ud=!1,kJ=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,profile:i})=>{let a,c="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let _=await(0,NJ.fromSso)({profile:i})();a={accessToken:_.token,expiresAt:new Date(_.expiration).toISOString()}}catch(_){throw new dd.CredentialsProviderError(_.message,ud)}else try{a=await(0,qJ.getSSOTokenFromFile)(e)}catch{throw new dd.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${c}`,ud)}if(new Date(a.expiresAt).getTime()-Date.now()<=DJ)throw new dd.CredentialsProviderError(`The SSO session associated with this profile has expired. ${c}`,ud);let{accessToken:u}=a,d=o||new vD.SSOClient({region:n}),p;try{p=await d.send(new vD.GetRoleCredentialsCommand({accountId:r,roleName:s,accessToken:u}))}catch(_){throw dd.CredentialsProviderError.from(_,ud)}let{roleCredentials:{accessKeyId:h,secretAccessKey:y,sessionToken:w,expiration:b}={}}=p;if(!h||!y||!w||!b)throw new dd.CredentialsProviderError("SSO returns an invalid temporary credential.",ud);return{accessKeyId:h,secretAccessKey:y,sessionToken:w,expiration:new Date(b)}};X_.resolveSSOCredentials=kJ});var Cv=l(J_=>{"use strict";Object.defineProperty(J_,"__esModule",{value:!0});J_.validateSsoProfile=void 0;var MJ=ge(),FJ=e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:s}=e;if(!t||!r||!n||!s)throw new MJ.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e};J_.validateSsoProfile=FJ});var bD=l(Z_=>{"use strict";Object.defineProperty(Z_,"__esModule",{value:!0});Z_.fromSSO=void 0;var ld=ge(),xv=pr(),jJ=a0(),SD=wD(),LJ=Cv(),UJ=(e={})=>async()=>{let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,ssoSession:i}=e,a=(0,xv.getProfileName)(e);if(!t&&!r&&!n&&!s&&!i){let u=(await(0,xv.parseKnownFiles)(e))[a];if(!u)throw new ld.CredentialsProviderError(`Profile ${a} was not found.`);if(!(0,jJ.isSsoProfile)(u))throw new ld.CredentialsProviderError(`Profile ${a} is not configured with SSO credentials.`);if(u!=null&&u.sso_session){let _=(await(0,xv.loadSsoSessionData)(e))[u.sso_session],L=` configurations in profile ${a} and sso-session ${u.sso_session}`;if(n&&n!==_.sso_region)throw new ld.CredentialsProviderError("Conflicting SSO region"+L,!1);if(t&&t!==_.sso_start_url)throw new ld.CredentialsProviderError("Conflicting SSO start_url"+L,!1);u.sso_region=_.sso_region,u.sso_start_url=_.sso_start_url}let{sso_start_url:d,sso_account_id:p,sso_region:h,sso_role_name:y,sso_session:w}=(0,LJ.validateSsoProfile)(u);return(0,SD.resolveSSOCredentials)({ssoStartUrl:d,ssoSession:w,ssoAccountId:p,ssoRegion:h,ssoRoleName:y,ssoClient:o,profile:a})}else{if(!t||!r||!n||!s)throw new ld.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return(0,SD.resolveSSOCredentials)({ssoStartUrl:t,ssoSession:i,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,profile:a})}};Z_.fromSSO=UJ});var CD=l(PD=>{"use strict";Object.defineProperty(PD,"__esModule",{value:!0})});var th=l(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});var eh=A();eh.__exportStar(bD(),Go);eh.__exportStar(a0(),Go);eh.__exportStar(CD(),Go);eh.__exportStar(Cv(),Go)});var OD=l(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.resolveSsoCredentials=Wo.isSsoProfile=void 0;var xD=th(),zJ=th();Object.defineProperty(Wo,"isSsoProfile",{enumerable:!0,get:function(){return zJ.isSsoProfile}});var $J=e=>{let{sso_start_url:t,sso_account_id:r,sso_session:n,sso_region:s,sso_role_name:o}=(0,xD.validateSsoProfile)(e);return(0,xD.fromSSO)({ssoStartUrl:t,ssoAccountId:r,ssoSession:n,ssoRegion:s,ssoRoleName:o})()};Wo.resolveSsoCredentials=$J});var AD=l(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.resolveStaticCredentials=Ko.isStaticCredsProfile=void 0;var BJ=e=>Boolean(e)&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1;Ko.isStaticCredsProfile=BJ;var VJ=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token});Ko.resolveStaticCredentials=VJ});var Ov=l(rh=>{"use strict";Object.defineProperty(rh,"__esModule",{value:!0});rh.fromWebToken=void 0;var HJ=ge(),GJ=e=>()=>{let{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:s,policyArns:o,policy:i,durationSeconds:a,roleAssumerWithWebIdentity:c}=e;if(!c)throw new HJ.CredentialsProviderError(`Role Arn '${t}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return c({RoleArn:t,RoleSessionName:r!=null?r:`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:s,PolicyArns:o,Policy:i,DurationSeconds:a})};rh.fromWebToken=GJ});var TD=l(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});nh.fromTokenFile=void 0;var WJ=ge(),KJ=q("fs"),YJ=Ov(),QJ="AWS_WEB_IDENTITY_TOKEN_FILE",XJ="AWS_ROLE_ARN",JJ="AWS_ROLE_SESSION_NAME",ZJ=(e={})=>async()=>{var t,r,n;let s=(t=e==null?void 0:e.webIdentityTokenFile)!==null&&t!==void 0?t:process.env[QJ],o=(r=e==null?void 0:e.roleArn)!==null&&r!==void 0?r:process.env[XJ],i=(n=e==null?void 0:e.roleSessionName)!==null&&n!==void 0?n:process.env[JJ];if(!s||!o)throw new WJ.CredentialsProviderError("Web identity configuration not specified");return(0,YJ.fromWebToken)({...e,webIdentityToken:(0,KJ.readFileSync)(s,{encoding:"ascii"}),roleArn:o,roleSessionName:i})()};nh.fromTokenFile=ZJ});var Av=l(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});var RD=A();RD.__exportStar(TD(),sh);RD.__exportStar(Ov(),sh)});var ID=l(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.resolveWebIdentityCredentials=Yo.isWebIdentityProfile=void 0;var eZ=Av(),tZ=e=>Boolean(e)&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1;Yo.isWebIdentityProfile=tZ;var rZ=async(e,t)=>(0,eZ.fromTokenFile)({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity})();Yo.resolveWebIdentityCredentials=rZ});var n0=l(ih=>{"use strict";Object.defineProperty(ih,"__esModule",{value:!0});ih.resolveProfileData=void 0;var nZ=ge(),ND=EI(),qD=PI(),DD=OD(),oh=AD(),kD=ID(),sZ=async(e,t,r,n={})=>{let s=t[e];if(Object.keys(n).length>0&&(0,oh.isStaticCredsProfile)(s))return(0,oh.resolveStaticCredentials)(s);if((0,ND.isAssumeRoleProfile)(s))return(0,ND.resolveAssumeRoleCredentials)(e,t,r,n);if((0,oh.isStaticCredsProfile)(s))return(0,oh.resolveStaticCredentials)(s);if((0,kD.isWebIdentityProfile)(s))return(0,kD.resolveWebIdentityCredentials)(s,r);if((0,qD.isProcessProfile)(s))return(0,qD.resolveProcessCredentials)(r,e);if((0,DD.isSsoProfile)(s))return(0,DD.resolveSsoCredentials)(s);throw new nZ.CredentialsProviderError(`Profile ${e} could not be found or parsed in shared credentials file.`)};ih.resolveProfileData=sZ});var FD=l(ah=>{"use strict";Object.defineProperty(ah,"__esModule",{value:!0});ah.fromIni=void 0;var MD=pr(),oZ=n0(),iZ=(e={})=>async()=>{let t=await(0,MD.parseKnownFiles)(e);return(0,oZ.resolveProfileData)((0,MD.getProfileName)(e),t,e)};ah.fromIni=iZ});var jD=l(Tv=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0});var aZ=A();aZ.__exportStar(FD(),Tv)});var LD=l(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.remoteProvider=Ts.ENV_IMDS_DISABLED=void 0;var ch=Nf(),cZ=ge();Ts.ENV_IMDS_DISABLED="AWS_EC2_METADATA_DISABLED";var dZ=e=>process.env[ch.ENV_CMDS_RELATIVE_URI]||process.env[ch.ENV_CMDS_FULL_URI]?(0,ch.fromContainerMetadata)(e):process.env[Ts.ENV_IMDS_DISABLED]?async()=>{throw new cZ.CredentialsProviderError("EC2 Instance Metadata Service access disabled")}:(0,ch.fromInstanceMetadata)(e);Ts.remoteProvider=dZ});var UD=l(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});dh.defaultProvider=void 0;var uZ=of(),lZ=jD(),mZ=i0(),pZ=th(),fZ=Av(),Rv=ge(),_Z=pr(),hZ=LD(),yZ=(e={})=>(0,Rv.memoize)((0,Rv.chain)(...e.profile||process.env[_Z.ENV_PROFILE]?[]:[(0,uZ.fromEnv)()],(0,pZ.fromSSO)(e),(0,lZ.fromIni)(e),(0,mZ.fromProcess)(e),(0,fZ.fromTokenFile)(e),(0,hZ.remoteProvider)(e),async()=>{throw new Rv.CredentialsProviderError("Could not load credentials from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);dh.defaultProvider=yZ});var uh=l(Iv=>{"use strict";Object.defineProperty(Iv,"__esModule",{value:!0});var gZ=A();gZ.__exportStar(UD(),Iv)});var ck=l(lh=>{"use strict";Object.defineProperty(lh,"__esModule",{value:!0});lh.ruleSet=void 0;var JD="required",j="type",le="fn",me="argv",Vn="ref",zD=!1,EZ=!0,Rs="booleanEquals",Ze="tree",Ke="stringEquals",ZD="sigv4",ek="sts",tk="us-east-1",Te="endpoint",$D="https://sts.{Region}.{PartitionResult#dnsSuffix}",Qo="error",qv="getAttr",BD={[JD]:!1,[j]:"String"},Nv={[JD]:!0,default:!1,[j]:"Boolean"},rk={[Vn]:"Endpoint"},VD={[le]:"isSet",[me]:[{[Vn]:"Region"}]},Ye={[Vn]:"Region"},HD={[le]:"aws.partition",[me]:[Ye],assign:"PartitionResult"},nk={[Vn]:"UseFIPS"},sk={[Vn]:"UseDualStack"},et={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:ZD,signingName:ek,signingRegion:tk}]},headers:{}},Ct={},GD={conditions:[{[le]:Ke,[me]:[Ye,"aws-global"]}],[Te]:et,[j]:Te},ok={[le]:Rs,[me]:[nk,!0]},ik={[le]:Rs,[me]:[sk,!0]},WD={[le]:Rs,[me]:[!0,{[le]:qv,[me]:[{[Vn]:"PartitionResult"},"supportsFIPS"]}]},ak={[Vn]:"PartitionResult"},KD={[le]:Rs,[me]:[!0,{[le]:qv,[me]:[ak,"supportsDualStack"]}]},YD=[{[le]:"isSet",[me]:[rk]}],QD=[ok],XD=[ik],vZ={version:"1.0",parameters:{Region:BD,UseDualStack:Nv,UseFIPS:Nv,Endpoint:BD,UseGlobalEndpoint:Nv},rules:[{conditions:[{[le]:Rs,[me]:[{[Vn]:"UseGlobalEndpoint"},EZ]},{[le]:"not",[me]:YD},VD,HD,{[le]:Rs,[me]:[nk,zD]},{[le]:Rs,[me]:[sk,zD]}],[j]:Ze,rules:[{conditions:[{[le]:Ke,[me]:[Ye,"ap-northeast-1"]}],endpoint:et,[j]:Te},{conditions:[{[le]:Ke,[me]:[Ye,"ap-south-1"]}],endpoint:et,[j]:Te},{conditions:[{[le]:Ke,[me]:[Ye,"ap-southeast-1"]}],endpoint:et,[j]:Te},{conditions:[{[le]:Ke,[me]:[Ye,"ap-southeast-2"]}],endpoint:et,[j]:Te},GD,{conditions:[{[le]:Ke,[me]:[Ye,"ca-central-1"]}],endpoint:et,[j]:Te},{conditions:[{[le]:Ke,[me]:[Ye,"eu-central-1"]}],endpoint:et,[j]:Te},{conditions:[{[le]:Ke,[me]:[Ye,"eu-north-1"]}],endpoint:et,[j]:Te},{conditions:[{[le]:Ke,[me]:[Ye,"eu-west-1"]}],endpoint:et,[j]:Te},{conditions:[{[le]:Ke,[me]:[Ye,"eu-west-2"]}],endpoint:et,[j]:Te},{conditions:[{[le]:Ke,[me]:[Ye,"eu-west-3"]}],endpoint:et,[j]:Te},{conditions:[{[le]:Ke,[me]:[Ye,"sa-east-1"]}],endpoint:et,[j]:Te},{conditions:[{[le]:Ke,[me]:[Ye,tk]}],endpoint:et,[j]:Te},{conditions:[{[le]:Ke,[me]:[Ye,"us-east-2"]}],endpoint:et,[j]:Te},{conditions:[{[le]:Ke,[me]:[Ye,"us-west-1"]}],endpoint:et,[j]:Te},{conditions:[{[le]:Ke,[me]:[Ye,"us-west-2"]}],endpoint:et,[j]:Te},{endpoint:{url:$D,properties:{authSchemes:[{name:ZD,signingName:ek,signingRegion:"{Region}"}]},headers:Ct},[j]:Te}]},{conditions:YD,[j]:Ze,rules:[{conditions:QD,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[j]:Qo},{[j]:Ze,rules:[{conditions:XD,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[j]:Qo},{endpoint:{url:rk,properties:Ct,headers:Ct},[j]:Te}]}]},{[j]:Ze,rules:[{conditions:[VD],[j]:Ze,rules:[{conditions:[HD],[j]:Ze,rules:[{conditions:[ok,ik],[j]:Ze,rules:[{conditions:[WD,KD],[j]:Ze,rules:[{[j]:Ze,rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ct,headers:Ct},[j]:Te}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[j]:Qo}]},{conditions:QD,[j]:Ze,rules:[{conditions:[WD],[j]:Ze,rules:[{[j]:Ze,rules:[{conditions:[{[le]:Ke,[me]:["aws-us-gov",{[le]:qv,[me]:[ak,"name"]}]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Ct,headers:Ct},[j]:Te},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ct,headers:Ct},[j]:Te}]}]},{error:"FIPS is enabled but this partition does not support FIPS",[j]:Qo}]},{conditions:XD,[j]:Ze,rules:[{conditions:[KD],[j]:Ze,rules:[{[j]:Ze,rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ct,headers:Ct},[j]:Te}]}]},{error:"DualStack is enabled but this partition does not support DualStack",[j]:Qo}]},{[j]:Ze,rules:[GD,{endpoint:{url:$D,properties:Ct,headers:Ct},[j]:Te}]}]}]},{error:"Invalid Configuration: Missing Region",[j]:Qo}]}]};lh.ruleSet=vZ});var dk=l(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});mh.defaultEndpointResolver=void 0;var wZ=eo(),SZ=ck(),bZ=(e,t={})=>(0,wZ.resolveEndpoint)(SZ.ruleSet,{endpointParams:e,logger:t.logger});mh.defaultEndpointResolver=bZ});var mk=l(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});ph.getRuntimeConfig=void 0;var PZ=C(),CZ=ms(),uk=oo(),lk=rr(),xZ=dk(),OZ=e=>{var t,r,n,s,o,i,a,c,u;return{apiVersion:"2011-06-15",base64Decoder:(t=e==null?void 0:e.base64Decoder)!=null?t:uk.fromBase64,base64Encoder:(r=e==null?void 0:e.base64Encoder)!=null?r:uk.toBase64,disableHostPrefix:(n=e==null?void 0:e.disableHostPrefix)!=null?n:!1,endpointProvider:(s=e==null?void 0:e.endpointProvider)!=null?s:xZ.defaultEndpointResolver,logger:(o=e==null?void 0:e.logger)!=null?o:new PZ.NoOpLogger,serviceId:(i=e==null?void 0:e.serviceId)!=null?i:"STS",urlParser:(a=e==null?void 0:e.urlParser)!=null?a:CZ.parseUrl,utf8Decoder:(c=e==null?void 0:e.utf8Decoder)!=null?c:lk.fromUtf8,utf8Encoder:(u=e==null?void 0:e.utf8Encoder)!=null?u:lk.toUtf8}};ph.getRuntimeConfig=OZ});var _k=l(_h=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});_h.getRuntimeConfig=void 0;var AZ=A(),TZ=AZ.__importDefault(VT()),RZ=UE(),IZ=uh(),NZ=wc(),fh=or(),qZ=Sc(),pk=Vr(),md=Nn(),fk=co(),DZ=bc(),kZ=qt(),MZ=mk(),FZ=C(),jZ=xc(),LZ=C(),UZ=e=>{var s,o,i,a,c,u,d,p,h,y,w;(0,LZ.emitWarningIfUnsupportedVersion)(process.version);let t=(0,jZ.resolveDefaultsModeConfig)(e),r=()=>t().then(FZ.loadConfigsForDefaultMode),n=(0,MZ.getRuntimeConfig)(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(s=e==null?void 0:e.bodyLengthChecker)!=null?s:DZ.calculateBodyLength,credentialDefaultProvider:(o=e==null?void 0:e.credentialDefaultProvider)!=null?o:(0,RZ.decorateDefaultCredentialProvider)(IZ.defaultProvider),defaultUserAgentProvider:(i=e==null?void 0:e.defaultUserAgentProvider)!=null?i:(0,NZ.defaultUserAgent)({serviceId:n.serviceId,clientVersion:TZ.default.version}),maxAttempts:(a=e==null?void 0:e.maxAttempts)!=null?a:(0,md.loadConfig)(pk.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:(c=e==null?void 0:e.region)!=null?c:(0,md.loadConfig)(fh.NODE_REGION_CONFIG_OPTIONS,fh.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:(u=e==null?void 0:e.requestHandler)!=null?u:new fk.NodeHttpHandler(r),retryMode:(d=e==null?void 0:e.retryMode)!=null?d:(0,md.loadConfig)({...pk.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||kZ.DEFAULT_RETRY_MODE}),sha256:(p=e==null?void 0:e.sha256)!=null?p:qZ.Hash.bind(null,"sha256"),streamCollector:(h=e==null?void 0:e.streamCollector)!=null?h:fk.streamCollector,useDualstackEndpoint:(y=e==null?void 0:e.useDualstackEndpoint)!=null?y:(0,md.loadConfig)(fh.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:(w=e==null?void 0:e.useFipsEndpoint)!=null?w:(0,md.loadConfig)(fh.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};_h.getRuntimeConfig=UZ});var hh=l(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.STSClient=Xo.__Client=void 0;var hk=ua(),zZ=la(),$Z=ma(),BZ=$T(),yk=qa(),VZ=or(),HZ=Ma(),GZ=N(),gk=Vr(),Ek=C();Object.defineProperty(Xo,"__Client",{enumerable:!0,get:function(){return Ek.Client}});var WZ=BT(),KZ=_k(),pd=class extends Ek.Client{constructor(t){let r=(0,KZ.getRuntimeConfig)(t),n=(0,WZ.resolveClientEndpointParameters)(r),s=(0,VZ.resolveRegionConfig)(n),o=(0,GZ.resolveEndpointConfig)(s),i=(0,gk.resolveRetryConfig)(o),a=(0,hk.resolveHostHeaderConfig)(i),c=(0,BZ.resolveStsAuthConfig)(a,{stsClientCtor:pd}),u=(0,yk.resolveUserAgentConfig)(c);super(u),this.config=u,this.middlewareStack.use((0,gk.getRetryPlugin)(this.config)),this.middlewareStack.use((0,HZ.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,hk.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,zZ.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,$Z.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,yk.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};Xo.STSClient=pd});var Dv=l(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.AssumeRoleWithSAMLCommand=Jo.$Command=void 0;var YZ=N(),QZ=k(),Sk=C();Object.defineProperty(Jo,"$Command",{enumerable:!0,get:function(){return Sk.Command}});var vk=Sn(),wk=Wr(),fd=class extends Sk.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,QZ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,YZ.getEndpointPlugin)(r,fd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"STSClient",commandName:"AssumeRoleWithSAMLCommand",inputFilterSensitiveLog:vk.AssumeRoleWithSAMLRequestFilterSensitiveLog,outputFilterSensitiveLog:vk.AssumeRoleWithSAMLResponseFilterSensitiveLog},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,wk.se_AssumeRoleWithSAMLCommand)(t,r)}deserialize(t,r){return(0,wk.de_AssumeRoleWithSAMLCommand)(t,r)}};Jo.AssumeRoleWithSAMLCommand=fd});var kv=l(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.DecodeAuthorizationMessageCommand=Zo.$Command=void 0;var XZ=jr(),JZ=N(),ZZ=k(),Pk=C();Object.defineProperty(Zo,"$Command",{enumerable:!0,get:function(){return Pk.Command}});var bk=Wr(),_d=class extends Pk.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,ZZ.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,JZ.getEndpointPlugin)(r,_d.getEndpointParameterInstructions())),this.middlewareStack.use((0,XZ.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"STSClient",commandName:"DecodeAuthorizationMessageCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,bk.se_DecodeAuthorizationMessageCommand)(t,r)}deserialize(t,r){return(0,bk.de_DecodeAuthorizationMessageCommand)(t,r)}};Zo.DecodeAuthorizationMessageCommand=_d});var Mv=l(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.GetAccessKeyInfoCommand=ei.$Command=void 0;var eee=jr(),tee=N(),ree=k(),xk=C();Object.defineProperty(ei,"$Command",{enumerable:!0,get:function(){return xk.Command}});var Ck=Wr(),hd=class extends xk.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,ree.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,tee.getEndpointPlugin)(r,hd.getEndpointParameterInstructions())),this.middlewareStack.use((0,eee.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"STSClient",commandName:"GetAccessKeyInfoCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,Ck.se_GetAccessKeyInfoCommand)(t,r)}deserialize(t,r){return(0,Ck.de_GetAccessKeyInfoCommand)(t,r)}};ei.GetAccessKeyInfoCommand=hd});var Fv=l(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.GetCallerIdentityCommand=ti.$Command=void 0;var nee=jr(),see=N(),oee=k(),Ak=C();Object.defineProperty(ti,"$Command",{enumerable:!0,get:function(){return Ak.Command}});var Ok=Wr(),yd=class extends Ak.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,oee.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,see.getEndpointPlugin)(r,yd.getEndpointParameterInstructions())),this.middlewareStack.use((0,nee.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"STSClient",commandName:"GetCallerIdentityCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,Ok.se_GetCallerIdentityCommand)(t,r)}deserialize(t,r){return(0,Ok.de_GetCallerIdentityCommand)(t,r)}};ti.GetCallerIdentityCommand=yd});var jv=l(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.GetFederationTokenCommand=ri.$Command=void 0;var iee=jr(),aee=N(),cee=k(),Rk=C();Object.defineProperty(ri,"$Command",{enumerable:!0,get:function(){return Rk.Command}});var dee=Sn(),Tk=Wr(),gd=class extends Rk.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,cee.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,aee.getEndpointPlugin)(r,gd.getEndpointParameterInstructions())),this.middlewareStack.use((0,iee.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"STSClient",commandName:"GetFederationTokenCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:dee.GetFederationTokenResponseFilterSensitiveLog},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,Tk.se_GetFederationTokenCommand)(t,r)}deserialize(t,r){return(0,Tk.de_GetFederationTokenCommand)(t,r)}};ri.GetFederationTokenCommand=gd});var Lv=l(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.GetSessionTokenCommand=ni.$Command=void 0;var uee=jr(),lee=N(),mee=k(),Nk=C();Object.defineProperty(ni,"$Command",{enumerable:!0,get:function(){return Nk.Command}});var pee=Sn(),Ik=Wr(),Ed=class extends Nk.Command{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,mee.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,lee.getEndpointPlugin)(r,Ed.getEndpointParameterInstructions())),this.middlewareStack.use((0,uee.getAwsAuthPlugin)(r));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"STSClient",commandName:"GetSessionTokenCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:pee.GetSessionTokenResponseFilterSensitiveLog},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,Ik.se_GetSessionTokenCommand)(t,r)}deserialize(t,r){return(0,Ik.de_GetSessionTokenCommand)(t,r)}};ni.GetSessionTokenCommand=Ed});var qk=l(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});gh.STS=void 0;var fee=C(),_ee=nf(),hee=Dv(),yee=sf(),gee=kv(),Eee=Mv(),vee=Fv(),wee=jv(),See=Lv(),bee=hh(),Pee={AssumeRoleCommand:_ee.AssumeRoleCommand,AssumeRoleWithSAMLCommand:hee.AssumeRoleWithSAMLCommand,AssumeRoleWithWebIdentityCommand:yee.AssumeRoleWithWebIdentityCommand,DecodeAuthorizationMessageCommand:gee.DecodeAuthorizationMessageCommand,GetAccessKeyInfoCommand:Eee.GetAccessKeyInfoCommand,GetCallerIdentityCommand:vee.GetCallerIdentityCommand,GetFederationTokenCommand:wee.GetFederationTokenCommand,GetSessionTokenCommand:See.GetSessionTokenCommand},yh=class extends bee.STSClient{};gh.STS=yh;(0,fee.createAggregatedClient)(Pee,yh)});var Dk=l(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});var Hn=A();Hn.__exportStar(nf(),Or);Hn.__exportStar(Dv(),Or);Hn.__exportStar(sf(),Or);Hn.__exportStar(kv(),Or);Hn.__exportStar(Mv(),Or);Hn.__exportStar(Fv(),Or);Hn.__exportStar(jv(),Or);Hn.__exportStar(Lv(),Or)});var kk=l(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0});var Cee=A();Cee.__exportStar(Sn(),Uv)});var Lk=l(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.decorateDefaultCredentialProvider=Ar.getDefaultRoleAssumerWithWebIdentity=Ar.getDefaultRoleAssumer=void 0;var Mk=UE(),Fk=hh(),jk=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,xee=(e={},t)=>(0,Mk.getDefaultRoleAssumer)(e,jk(Fk.STSClient,t));Ar.getDefaultRoleAssumer=xee;var Oee=(e={},t)=>(0,Mk.getDefaultRoleAssumerWithWebIdentity)(e,jk(Fk.STSClient,t));Ar.getDefaultRoleAssumerWithWebIdentity=Oee;var Aee=e=>t=>e({roleAssumer:(0,Ar.getDefaultRoleAssumer)(t),roleAssumerWithWebIdentity:(0,Ar.getDefaultRoleAssumerWithWebIdentity)(t),...t});Ar.decorateDefaultCredentialProvider=Aee});var zv=l(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.STSServiceException=void 0;var vd=A();vd.__exportStar(hh(),rn);vd.__exportStar(qk(),rn);vd.__exportStar(Dk(),rn);vd.__exportStar(kk(),rn);vd.__exportStar(Lk(),rn);var Tee=Jp();Object.defineProperty(rn,"STSServiceException",{enumerable:!0,get:function(){return Tee.STSServiceException}})});var Jk=l(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.ruleSet=void 0;var Yk="required",nn="fn",sn="argv",oi="ref",Uk="isSet",at="tree",si="error",wd="endpoint",$v="PartitionResult",zk={[Yk]:!1,type:"String"},$k={[Yk]:!0,default:!1,type:"Boolean"},Bk={[oi]:"Endpoint"},Qk={[nn]:"booleanEquals",[sn]:[{[oi]:"UseFIPS"},!0]},Xk={[nn]:"booleanEquals",[sn]:[{[oi]:"UseDualStack"},!0]},Tr={},Vk={[nn]:"booleanEquals",[sn]:[!0,{[nn]:"getAttr",[sn]:[{[oi]:$v},"supportsFIPS"]}]},Hk={[nn]:"booleanEquals",[sn]:[!0,{[nn]:"getAttr",[sn]:[{[oi]:$v},"supportsDualStack"]}]},Gk=[Qk],Wk=[Xk],Kk=[{[oi]:"Region"}],Ree={version:"1.0",parameters:{Region:zk,UseDualStack:$k,UseFIPS:$k,Endpoint:zk},rules:[{conditions:[{[nn]:Uk,[sn]:[Bk]}],type:at,rules:[{conditions:Gk,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:si},{type:at,rules:[{conditions:Wk,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:si},{endpoint:{url:Bk,properties:Tr,headers:Tr},type:wd}]}]},{type:at,rules:[{conditions:[{[nn]:Uk,[sn]:Kk}],type:at,rules:[{conditions:[{[nn]:"aws.partition",[sn]:Kk,assign:$v}],type:at,rules:[{conditions:[Qk,Xk],type:at,rules:[{conditions:[Vk,Hk],type:at,rules:[{type:at,rules:[{endpoint:{url:"https://codeartifact-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Tr,headers:Tr},type:wd}]}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:si}]},{conditions:Gk,type:at,rules:[{conditions:[Vk],type:at,rules:[{type:at,rules:[{endpoint:{url:"https://codeartifact-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Tr,headers:Tr},type:wd}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:si}]},{conditions:Wk,type:at,rules:[{conditions:[Hk],type:at,rules:[{type:at,rules:[{endpoint:{url:"https://codeartifact.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Tr,headers:Tr},type:wd}]}]},{error:"DualStack is enabled but this partition does not support DualStack",type:si}]},{type:at,rules:[{endpoint:{url:"https://codeartifact.{Region}.{PartitionResult#dnsSuffix}",properties:Tr,headers:Tr},type:wd}]}]}]},{error:"Invalid Configuration: Missing Region",type:si}]}]};Eh.ruleSet=Ree});var Zk=l(vh=>{"use strict";Object.defineProperty(vh,"__esModule",{value:!0});vh.defaultEndpointResolver=void 0;var Iee=eo(),Nee=Jk(),qee=(e,t={})=>(0,Iee.resolveEndpoint)(Nee.ruleSet,{endpointParams:e,logger:t.logger});vh.defaultEndpointResolver=qee});var rM=l(wh=>{"use strict";Object.defineProperty(wh,"__esModule",{value:!0});wh.getRuntimeConfig=void 0;var Dee=C(),kee=ms(),eM=oo(),Mee=EE(),tM=rr(),Fee=Zk(),jee=e=>{var t,r,n,s,o,i,a,c,u,d;return{apiVersion:"2018-09-22",base64Decoder:(t=e==null?void 0:e.base64Decoder)!=null?t:eM.fromBase64,base64Encoder:(r=e==null?void 0:e.base64Encoder)!=null?r:eM.toBase64,disableHostPrefix:(n=e==null?void 0:e.disableHostPrefix)!=null?n:!1,endpointProvider:(s=e==null?void 0:e.endpointProvider)!=null?s:Fee.defaultEndpointResolver,logger:(o=e==null?void 0:e.logger)!=null?o:new Dee.NoOpLogger,sdkStreamMixin:(i=e==null?void 0:e.sdkStreamMixin)!=null?i:Mee.sdkStreamMixin,serviceId:(a=e==null?void 0:e.serviceId)!=null?a:"codeartifact",urlParser:(c=e==null?void 0:e.urlParser)!=null?c:kee.parseUrl,utf8Decoder:(u=e==null?void 0:e.utf8Decoder)!=null?u:tM.fromUtf8,utf8Encoder:(d=e==null?void 0:e.utf8Encoder)!=null?d:tM.toUtf8}};wh.getRuntimeConfig=jee});var oM=l(bh=>{"use strict";Object.defineProperty(bh,"__esModule",{value:!0});bh.getRuntimeConfig=void 0;var Lee=A(),Uee=Lee.__importDefault(zT()),zee=zv(),$ee=uh(),Bee=wc(),Sh=or(),Vee=Sc(),nM=Vr(),Sd=Nn(),sM=co(),Hee=bc(),Gee=qt(),Wee=rM(),Kee=C(),Yee=xc(),Qee=C(),Xee=e=>{var s,o,i,a,c,u,d,p,h,y,w;(0,Qee.emitWarningIfUnsupportedVersion)(process.version);let t=(0,Yee.resolveDefaultsModeConfig)(e),r=()=>t().then(Kee.loadConfigsForDefaultMode),n=(0,Wee.getRuntimeConfig)(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(s=e==null?void 0:e.bodyLengthChecker)!=null?s:Hee.calculateBodyLength,credentialDefaultProvider:(o=e==null?void 0:e.credentialDefaultProvider)!=null?o:(0,zee.decorateDefaultCredentialProvider)($ee.defaultProvider),defaultUserAgentProvider:(i=e==null?void 0:e.defaultUserAgentProvider)!=null?i:(0,Bee.defaultUserAgent)({serviceId:n.serviceId,clientVersion:Uee.default.version}),maxAttempts:(a=e==null?void 0:e.maxAttempts)!=null?a:(0,Sd.loadConfig)(nM.NODE_MAX_ATTEMPT_CONFIG_OPTIONS),region:(c=e==null?void 0:e.region)!=null?c:(0,Sd.loadConfig)(Sh.NODE_REGION_CONFIG_OPTIONS,Sh.NODE_REGION_CONFIG_FILE_OPTIONS),requestHandler:(u=e==null?void 0:e.requestHandler)!=null?u:new sM.NodeHttpHandler(r),retryMode:(d=e==null?void 0:e.retryMode)!=null?d:(0,Sd.loadConfig)({...nM.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Gee.DEFAULT_RETRY_MODE}),sha256:(p=e==null?void 0:e.sha256)!=null?p:Vee.Hash.bind(null,"sha256"),streamCollector:(h=e==null?void 0:e.streamCollector)!=null?h:sM.streamCollector,useDualstackEndpoint:(y=e==null?void 0:e.useDualstackEndpoint)!=null?y:(0,Sd.loadConfig)(Sh.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS),useFipsEndpoint:(w=e==null?void 0:e.useFipsEndpoint)!=null?w:(0,Sd.loadConfig)(Sh.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS)}};bh.getRuntimeConfig=Xee});var on=l(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.CodeartifactClient=ii.__Client=void 0;var iM=ua(),Jee=la(),Zee=ma(),aM=jr(),cM=qa(),ete=or(),tte=Ma(),rte=N(),dM=Vr(),uM=C();Object.defineProperty(ii,"__Client",{enumerable:!0,get:function(){return uM.Client}});var nte=UT(),ste=oM(),Bv=class extends uM.Client{constructor(t){let r=(0,ste.getRuntimeConfig)(t),n=(0,nte.resolveClientEndpointParameters)(r),s=(0,ete.resolveRegionConfig)(n),o=(0,rte.resolveEndpointConfig)(s),i=(0,dM.resolveRetryConfig)(o),a=(0,iM.resolveHostHeaderConfig)(i),c=(0,aM.resolveAwsAuthConfig)(a),u=(0,cM.resolveUserAgentConfig)(c);super(u),this.config=u,this.middlewareStack.use((0,dM.getRetryPlugin)(this.config)),this.middlewareStack.use((0,tte.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,iM.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Jee.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Zee.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,aM.getAwsAuthPlugin)(this.config)),this.middlewareStack.use((0,cM.getUserAgentPlugin)(this.config))}destroy(){super.destroy()}};ii.CodeartifactClient=Bv});var Ph=l(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.CodeartifactServiceException=ai.__ServiceException=void 0;var lM=C();Object.defineProperty(ai,"__ServiceException",{enumerable:!0,get:function(){return lM.ServiceException}});var bd=class extends lM.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,bd.prototype)}};ai.CodeartifactServiceException=bd});var Id=l($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.PublishPackageVersionRequestFilterSensitiveLog=$.GetPackageVersionAssetResultFilterSensitiveLog=$.PackageVersionSortType=$.PackageVersionOriginType=$.DomainStatus=$.PackageVersionStatus=$.PackageVersionErrorCode=$.ValidationException=$.ValidationExceptionReason=$.ThrottlingException=$.ServiceQuotaExceededException=$.ResourceNotFoundException=$.InternalServerException=$.ConflictException=$.ResourceType=$.ExternalConnectionStatus=$.PackageFormat=$.HashAlgorithm=$.AllowUpstream=$.AllowPublish=$.AccessDeniedException=void 0;var Is=Ph(),Pd=class extends Is.CodeartifactServiceException{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,Pd.prototype)}};$.AccessDeniedException=Pd;$.AllowPublish={ALLOW:"ALLOW",BLOCK:"BLOCK"};$.AllowUpstream={ALLOW:"ALLOW",BLOCK:"BLOCK"};$.HashAlgorithm={MD5:"MD5",SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"};$.PackageFormat={GENERIC:"generic",MAVEN:"maven",NPM:"npm",NUGET:"nuget",PYPI:"pypi"};$.ExternalConnectionStatus={AVAILABLE:"Available"};$.ResourceType={ASSET:"asset",DOMAIN:"domain",PACKAGE:"package",PACKAGE_VERSION:"package-version",REPOSITORY:"repository"};var Cd=class extends Is.CodeartifactServiceException{constructor(t){super({name:"ConflictException",$fault:"client",...t}),this.name="ConflictException",this.$fault="client",Object.setPrototypeOf(this,Cd.prototype),this.resourceId=t.resourceId,this.resourceType=t.resourceType}};$.ConflictException=Cd;var xd=class extends Is.CodeartifactServiceException{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,xd.prototype)}};$.InternalServerException=xd;var Od=class extends Is.CodeartifactServiceException{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Od.prototype),this.resourceId=t.resourceId,this.resourceType=t.resourceType}};$.ResourceNotFoundException=Od;var Ad=class extends Is.CodeartifactServiceException{constructor(t){super({name:"ServiceQuotaExceededException",$fault:"client",...t}),this.name="ServiceQuotaExceededException",this.$fault="client",Object.setPrototypeOf(this,Ad.prototype),this.resourceId=t.resourceId,this.resourceType=t.resourceType}};$.ServiceQuotaExceededException=Ad;var Td=class extends Is.CodeartifactServiceException{constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),this.name="ThrottlingException",this.$fault="client",Object.setPrototypeOf(this,Td.prototype),this.retryAfterSeconds=t.retryAfterSeconds}};$.ThrottlingException=Td;$.ValidationExceptionReason={CANNOT_PARSE:"CANNOT_PARSE",ENCRYPTION_KEY_ERROR:"ENCRYPTION_KEY_ERROR",FIELD_VALIDATION_FAILED:"FIELD_VALIDATION_FAILED",OTHER:"OTHER",UNKNOWN_OPERATION:"UNKNOWN_OPERATION"};var Rd=class extends Is.CodeartifactServiceException{constructor(t){super({name:"ValidationException",$fault:"client",...t}),this.name="ValidationException",this.$fault="client",Object.setPrototypeOf(this,Rd.prototype),this.reason=t.reason}};$.ValidationException=Rd;$.PackageVersionErrorCode={ALREADY_EXISTS:"ALREADY_EXISTS",MISMATCHED_REVISION:"MISMATCHED_REVISION",MISMATCHED_STATUS:"MISMATCHED_STATUS",NOT_ALLOWED:"NOT_ALLOWED",NOT_FOUND:"NOT_FOUND",SKIPPED:"SKIPPED"};$.PackageVersionStatus={ARCHIVED:"Archived",DELETED:"Deleted",DISPOSED:"Disposed",PUBLISHED:"Published",UNFINISHED:"Unfinished",UNLISTED:"Unlisted"};$.DomainStatus={ACTIVE:"Active",DELETED:"Deleted"};$.PackageVersionOriginType={EXTERNAL:"EXTERNAL",INTERNAL:"INTERNAL",UNKNOWN:"UNKNOWN"};$.PackageVersionSortType={PUBLISHED_TIME:"PUBLISHED_TIME"};var ote=e=>({...e});$.GetPackageVersionAssetResultFilterSensitiveLog=ote;var ite=e=>({...e});$.PublishPackageVersionRequestFilterSensitiveLog=ite});var K=l(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.de_DescribePackageCommand=v.de_DescribeDomainCommand=v.de_DeleteRepositoryPermissionsPolicyCommand=v.de_DeleteRepositoryCommand=v.de_DeletePackageVersionsCommand=v.de_DeletePackageCommand=v.de_DeleteDomainPermissionsPolicyCommand=v.de_DeleteDomainCommand=v.de_CreateRepositoryCommand=v.de_CreateDomainCommand=v.de_CopyPackageVersionsCommand=v.de_AssociateExternalConnectionCommand=v.se_UpdateRepositoryCommand=v.se_UpdatePackageVersionsStatusCommand=v.se_UntagResourceCommand=v.se_TagResourceCommand=v.se_PutRepositoryPermissionsPolicyCommand=v.se_PutPackageOriginConfigurationCommand=v.se_PutDomainPermissionsPolicyCommand=v.se_PublishPackageVersionCommand=v.se_ListTagsForResourceCommand=v.se_ListRepositoriesInDomainCommand=v.se_ListRepositoriesCommand=v.se_ListPackageVersionsCommand=v.se_ListPackageVersionDependenciesCommand=v.se_ListPackageVersionAssetsCommand=v.se_ListPackagesCommand=v.se_ListDomainsCommand=v.se_GetRepositoryPermissionsPolicyCommand=v.se_GetRepositoryEndpointCommand=v.se_GetPackageVersionReadmeCommand=v.se_GetPackageVersionAssetCommand=v.se_GetDomainPermissionsPolicyCommand=v.se_GetAuthorizationTokenCommand=v.se_DisposePackageVersionsCommand=v.se_DisassociateExternalConnectionCommand=v.se_DescribeRepositoryCommand=v.se_DescribePackageVersionCommand=v.se_DescribePackageCommand=v.se_DescribeDomainCommand=v.se_DeleteRepositoryPermissionsPolicyCommand=v.se_DeleteRepositoryCommand=v.se_DeletePackageVersionsCommand=v.se_DeletePackageCommand=v.se_DeleteDomainPermissionsPolicyCommand=v.se_DeleteDomainCommand=v.se_CreateRepositoryCommand=v.se_CreateDomainCommand=v.se_CopyPackageVersionsCommand=v.se_AssociateExternalConnectionCommand=void 0;v.de_UpdateRepositoryCommand=v.de_UpdatePackageVersionsStatusCommand=v.de_UntagResourceCommand=v.de_TagResourceCommand=v.de_PutRepositoryPermissionsPolicyCommand=v.de_PutPackageOriginConfigurationCommand=v.de_PutDomainPermissionsPolicyCommand=v.de_PublishPackageVersionCommand=v.de_ListTagsForResourceCommand=v.de_ListRepositoriesInDomainCommand=v.de_ListRepositoriesCommand=v.de_ListPackageVersionsCommand=v.de_ListPackageVersionDependenciesCommand=v.de_ListPackageVersionAssetsCommand=v.de_ListPackagesCommand=v.de_ListDomainsCommand=v.de_GetRepositoryPermissionsPolicyCommand=v.de_GetRepositoryEndpointCommand=v.de_GetPackageVersionReadmeCommand=v.de_GetPackageVersionAssetCommand=v.de_GetDomainPermissionsPolicyCommand=v.de_GetAuthorizationTokenCommand=v.de_DisposePackageVersionsCommand=v.de_DisassociateExternalConnectionCommand=v.de_DescribeRepositoryCommand=v.de_DescribePackageVersionCommand=void 0;var Q=nt(),m=C(),ate=Ph(),Ns=Id(),cte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/repository/external-connection`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")],"external-connection":[,(0,m.expectNonNull)(e.externalConnection,"externalConnection")]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:u})};v.se_AssociateExternalConnectionCommand=cte;var dte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/package/versions/copy`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],"source-repository":[,(0,m.expectNonNull)(e.sourceRepository,"sourceRepository")],"destination-repository":[,(0,m.expectNonNull)(e.destinationRepository,"destinationRepository")],format:[,(0,m.expectNonNull)(e.format,"format")],namespace:[,e.namespace],package:[,(0,m.expectNonNull)(e.package,"package")]}),u;return u=JSON.stringify((0,m.take)(e,{allowOverwrite:[],includeFromUpstream:[],versionRevisions:d=>(0,m._json)(d),versions:d=>(0,m._json)(d)})),new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:u})};v.se_CopyPackageVersionsCommand=dte;var ute=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/domain`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")]}),u;return u=JSON.stringify((0,m.take)(e,{encryptionKey:[],tags:d=>(0,m._json)(d)})),new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:u})};v.se_CreateDomainCommand=ute;var lte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/repository`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")]}),u;return u=JSON.stringify((0,m.take)(e,{description:[],tags:d=>(0,m._json)(d),upstreams:d=>(0,m._json)(d)})),new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:u})};v.se_CreateRepositoryCommand=lte;var mte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/domain`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"DELETE",headers:i,path:a,query:c,body:u})};v.se_DeleteDomainCommand=mte;var pte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/domain/permissions/policy`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],"policy-revision":[,e.policyRevision]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"DELETE",headers:i,path:a,query:c,body:u})};v.se_DeleteDomainPermissionsPolicyCommand=pte;var fte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/package`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")],format:[,(0,m.expectNonNull)(e.format,"format")],namespace:[,e.namespace],package:[,(0,m.expectNonNull)(e.package,"package")]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"DELETE",headers:i,path:a,query:c,body:u})};v.se_DeletePackageCommand=fte;var _te=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/package/versions/delete`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")],format:[,(0,m.expectNonNull)(e.format,"format")],namespace:[,e.namespace],package:[,(0,m.expectNonNull)(e.package,"package")]}),u;return u=JSON.stringify((0,m.take)(e,{expectedStatus:[],versions:d=>(0,m._json)(d)})),new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:u})};v.se_DeletePackageVersionsCommand=_te;var hte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/repository`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"DELETE",headers:i,path:a,query:c,body:u})};v.se_DeleteRepositoryCommand=hte;var yte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/repository/permissions/policies`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")],"policy-revision":[,e.policyRevision]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"DELETE",headers:i,path:a,query:c,body:u})};v.se_DeleteRepositoryPermissionsPolicyCommand=yte;var gte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/domain`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:i,path:a,query:c,body:u})};v.se_DescribeDomainCommand=gte;var Ete=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/package`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")],format:[,(0,m.expectNonNull)(e.format,"format")],namespace:[,e.namespace],package:[,(0,m.expectNonNull)(e.package,"package")]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:i,path:a,query:c,body:u})};v.se_DescribePackageCommand=Ete;var vte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/package/version`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")],format:[,(0,m.expectNonNull)(e.format,"format")],namespace:[,e.namespace],package:[,(0,m.expectNonNull)(e.package,"package")],version:[,(0,m.expectNonNull)(e.packageVersion,"packageVersion")]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:i,path:a,query:c,body:u})};v.se_DescribePackageVersionCommand=vte;var wte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/repository`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:i,path:a,query:c,body:u})};v.se_DescribeRepositoryCommand=wte;var Ste=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/repository/external-connection`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")],"external-connection":[,(0,m.expectNonNull)(e.externalConnection,"externalConnection")]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"DELETE",headers:i,path:a,query:c,body:u})};v.se_DisassociateExternalConnectionCommand=Ste;var bte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/package/versions/dispose`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")],format:[,(0,m.expectNonNull)(e.format,"format")],namespace:[,e.namespace],package:[,(0,m.expectNonNull)(e.package,"package")]}),u;return u=JSON.stringify((0,m.take)(e,{expectedStatus:[],versionRevisions:d=>(0,m._json)(d),versions:d=>(0,m._json)(d)})),new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:u})};v.se_DisposePackageVersionsCommand=bte;var Pte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/authorization-token`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],duration:[()=>e.durationSeconds!==void 0,()=>e.durationSeconds.toString()]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:u})};v.se_GetAuthorizationTokenCommand=Pte;var Cte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/domain/permissions/policy`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:i,path:a,query:c,body:u})};v.se_GetDomainPermissionsPolicyCommand=Cte;var xte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/package/version/asset`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")],format:[,(0,m.expectNonNull)(e.format,"format")],namespace:[,e.namespace],package:[,(0,m.expectNonNull)(e.package,"package")],version:[,(0,m.expectNonNull)(e.packageVersion,"packageVersion")],asset:[,(0,m.expectNonNull)(e.asset,"asset")],revision:[,e.packageVersionRevision]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:i,path:a,query:c,body:u})};v.se_GetPackageVersionAssetCommand=xte;var Ote=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/package/version/readme`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")],format:[,(0,m.expectNonNull)(e.format,"format")],namespace:[,e.namespace],package:[,(0,m.expectNonNull)(e.package,"package")],version:[,(0,m.expectNonNull)(e.packageVersion,"packageVersion")]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:i,path:a,query:c,body:u})};v.se_GetPackageVersionReadmeCommand=Ote;var Ate=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/repository/endpoint`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")],format:[,(0,m.expectNonNull)(e.format,"format")]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:i,path:a,query:c,body:u})};v.se_GetRepositoryEndpointCommand=Ate;var Tte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/repository/permissions/policy`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"GET",headers:i,path:a,query:c,body:u})};v.se_GetRepositoryPermissionsPolicyCommand=Tte;var Rte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/domains`,c;return c=JSON.stringify((0,m.take)(e,{maxResults:[],nextToken:[]})),new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,body:c})};v.se_ListDomainsCommand=Rte;var Ite=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/packages`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")],format:[,e.format],namespace:[,e.namespace],"package-prefix":[,e.packagePrefix],"max-results":[()=>e.maxResults!==void 0,()=>e.maxResults.toString()],"next-token":[,e.nextToken],publish:[,e.publish],upstream:[,e.upstream]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:u})};v.se_ListPackagesCommand=Ite;var Nte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/package/version/assets`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")],format:[,(0,m.expectNonNull)(e.format,"format")],namespace:[,e.namespace],package:[,(0,m.expectNonNull)(e.package,"package")],version:[,(0,m.expectNonNull)(e.packageVersion,"packageVersion")],"max-results":[()=>e.maxResults!==void 0,()=>e.maxResults.toString()],"next-token":[,e.nextToken]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:u})};v.se_ListPackageVersionAssetsCommand=Nte;var qte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/package/version/dependencies`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")],format:[,(0,m.expectNonNull)(e.format,"format")],namespace:[,e.namespace],package:[,(0,m.expectNonNull)(e.package,"package")],version:[,(0,m.expectNonNull)(e.packageVersion,"packageVersion")],"next-token":[,e.nextToken]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:u})};v.se_ListPackageVersionDependenciesCommand=qte;var Dte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/package/versions`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")],format:[,(0,m.expectNonNull)(e.format,"format")],namespace:[,e.namespace],package:[,(0,m.expectNonNull)(e.package,"package")],status:[,e.status],sortBy:[,e.sortBy],"max-results":[()=>e.maxResults!==void 0,()=>e.maxResults.toString()],"next-token":[,e.nextToken],originType:[,e.originType]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:u})};v.se_ListPackageVersionsCommand=Dte;var kte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/repositories`,c=(0,m.map)({"repository-prefix":[,e.repositoryPrefix],"max-results":[()=>e.maxResults!==void 0,()=>e.maxResults.toString()],"next-token":[,e.nextToken]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:u})};v.se_ListRepositoriesCommand=kte;var Mte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/domain/repositories`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],"administrator-account":[,e.administratorAccount],"repository-prefix":[,e.repositoryPrefix],"max-results":[()=>e.maxResults!==void 0,()=>e.maxResults.toString()],"next-token":[,e.nextToken]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:u})};v.se_ListRepositoriesInDomainCommand=Mte;var Fte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/tags`,c=(0,m.map)({resourceArn:[,(0,m.expectNonNull)(e.resourceArn,"resourceArn")]}),u;return new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:u})};v.se_ListTagsForResourceCommand=Fte;var jte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i=(0,m.map)({},Ene,{"content-type":"application/octet-stream","x-amz-content-sha256":e.assetSHA256}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/package/version/publish`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")],format:[,(0,m.expectNonNull)(e.format,"format")],namespace:[,e.namespace],package:[,(0,m.expectNonNull)(e.package,"package")],version:[,(0,m.expectNonNull)(e.packageVersion,"packageVersion")],asset:[,(0,m.expectNonNull)(e.assetName,"assetName")],unfinished:[()=>e.unfinished!==void 0,()=>e.unfinished.toString()]}),u;return e.assetContent!==void 0&&(u=e.assetContent),new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:u})};v.se_PublishPackageVersionCommand=jte;var Lte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/domain/permissions/policy`,c;return c=JSON.stringify((0,m.take)(e,{domain:[],domainOwner:[],policyDocument:[],policyRevision:[]})),new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"PUT",headers:i,path:a,body:c})};v.se_PutDomainPermissionsPolicyCommand=Lte;var Ute=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/package`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")],format:[,(0,m.expectNonNull)(e.format,"format")],namespace:[,e.namespace],package:[,(0,m.expectNonNull)(e.package,"package")]}),u;return u=JSON.stringify((0,m.take)(e,{restrictions:d=>(0,m._json)(d)})),new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:u})};v.se_PutPackageOriginConfigurationCommand=Ute;var zte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/repository/permissions/policy`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")]}),u;return u=JSON.stringify((0,m.take)(e,{policyDocument:[],policyRevision:[]})),new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"PUT",headers:i,path:a,query:c,body:u})};v.se_PutRepositoryPermissionsPolicyCommand=zte;var $te=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/tag`,c=(0,m.map)({resourceArn:[,(0,m.expectNonNull)(e.resourceArn,"resourceArn")]}),u;return u=JSON.stringify((0,m.take)(e,{tags:d=>(0,m._json)(d)})),new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:u})};v.se_TagResourceCommand=$te;var Bte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/untag`,c=(0,m.map)({resourceArn:[,(0,m.expectNonNull)(e.resourceArn,"resourceArn")]}),u;return u=JSON.stringify((0,m.take)(e,{tagKeys:d=>(0,m._json)(d)})),new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:u})};v.se_UntagResourceCommand=Bte;var Vte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/package/versions/update_status`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")],format:[,(0,m.expectNonNull)(e.format,"format")],namespace:[,e.namespace],package:[,(0,m.expectNonNull)(e.package,"package")]}),u;return u=JSON.stringify((0,m.take)(e,{expectedStatus:[],targetStatus:[],versionRevisions:d=>(0,m._json)(d),versions:d=>(0,m._json)(d)})),new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:u})};v.se_UpdatePackageVersionsStatusCommand=Vte;var Hte=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/v1/repository`,c=(0,m.map)({domain:[,(0,m.expectNonNull)(e.domain,"domain")],"domain-owner":[,e.domainOwner],repository:[,(0,m.expectNonNull)(e.repository,"repository")]}),u;return u=JSON.stringify((0,m.take)(e,{description:[],upstreams:d=>(0,m._json)(d)})),new Q.HttpRequest({protocol:n,hostname:r,port:s,method:"PUT",headers:i,path:a,query:c,body:u})};v.se_UpdateRepositoryCommand=Hte;var Gte=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Wte(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{repository:o=>ci(o,t)});return Object.assign(r,s),r};v.de_AssociateExternalConnectionCommand=Gte;var Wte=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ConflictException":case"com.amazonaws.codeartifact#ConflictException":throw await Ue(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ServiceQuotaExceededException":case"com.amazonaws.codeartifact#ServiceQuotaExceededException":throw await Rr(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},Kte=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Yte(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{failedVersions:m._json,successfulVersions:m._json});return Object.assign(r,s),r};v.de_CopyPackageVersionsCommand=Kte;var Yte=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ConflictException":case"com.amazonaws.codeartifact#ConflictException":throw await Ue(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ServiceQuotaExceededException":case"com.amazonaws.codeartifact#ServiceQuotaExceededException":throw await Rr(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},Qte=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Xte(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{domain:o=>Vv(o,t)});return Object.assign(r,s),r};v.de_CreateDomainCommand=Qte;var Xte=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ConflictException":case"com.amazonaws.codeartifact#ConflictException":throw await Ue(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ServiceQuotaExceededException":case"com.amazonaws.codeartifact#ServiceQuotaExceededException":throw await Rr(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},Jte=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Zte(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{repository:o=>ci(o,t)});return Object.assign(r,s),r};v.de_CreateRepositoryCommand=Jte;var Zte=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ConflictException":case"com.amazonaws.codeartifact#ConflictException":throw await Ue(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ServiceQuotaExceededException":case"com.amazonaws.codeartifact#ServiceQuotaExceededException":throw await Rr(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},ere=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return tre(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{domain:o=>Vv(o,t)});return Object.assign(r,s),r};v.de_DeleteDomainCommand=ere;var tre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ConflictException":case"com.amazonaws.codeartifact#ConflictException":throw await Ue(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},rre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return nre(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{policy:m._json});return Object.assign(r,s),r};v.de_DeleteDomainPermissionsPolicyCommand=rre;var nre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ConflictException":case"com.amazonaws.codeartifact#ConflictException":throw await Ue(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},sre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ore(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{deletedPackage:m._json});return Object.assign(r,s),r};v.de_DeletePackageCommand=sre;var ore=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ConflictException":case"com.amazonaws.codeartifact#ConflictException":throw await Ue(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},ire=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return are(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{failedVersions:m._json,successfulVersions:m._json});return Object.assign(r,s),r};v.de_DeletePackageVersionsCommand=ire;var are=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ConflictException":case"com.amazonaws.codeartifact#ConflictException":throw await Ue(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},cre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return dre(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{repository:o=>ci(o,t)});return Object.assign(r,s),r};v.de_DeleteRepositoryCommand=cre;var dre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ConflictException":case"com.amazonaws.codeartifact#ConflictException":throw await Ue(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},ure=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return lre(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{policy:m._json});return Object.assign(r,s),r};v.de_DeleteRepositoryPermissionsPolicyCommand=ure;var lre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ConflictException":case"com.amazonaws.codeartifact#ConflictException":throw await Ue(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},mre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return pre(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{domain:o=>Vv(o,t)});return Object.assign(r,s),r};v.de_DescribeDomainCommand=mre;var pre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},fre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return _re(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{package:m._json});return Object.assign(r,s),r};v.de_DescribePackageCommand=fre;var _re=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},hre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return yre(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{packageVersion:o=>hne(o,t)});return Object.assign(r,s),r};v.de_DescribePackageVersionCommand=hre;var yre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ConflictException":case"com.amazonaws.codeartifact#ConflictException":throw await Ue(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},gre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ere(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{repository:o=>ci(o,t)});return Object.assign(r,s),r};v.de_DescribeRepositoryCommand=gre;var Ere=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},vre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return wre(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{repository:o=>ci(o,t)});return Object.assign(r,s),r};v.de_DisassociateExternalConnectionCommand=vre;var wre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ConflictException":case"com.amazonaws.codeartifact#ConflictException":throw await Ue(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ServiceQuotaExceededException":case"com.amazonaws.codeartifact#ServiceQuotaExceededException":throw await Rr(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},Sre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return bre(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{failedVersions:m._json,successfulVersions:m._json});return Object.assign(r,s),r};v.de_DisposePackageVersionsCommand=Sre;var bre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ConflictException":case"com.amazonaws.codeartifact#ConflictException":throw await Ue(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},Pre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Cre(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{authorizationToken:m.expectString,expiration:o=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(o)))});return Object.assign(r,s),r};v.de_GetAuthorizationTokenCommand=Pre;var Cre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},xre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ore(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{policy:m._json});return Object.assign(r,s),r};v.de_GetDomainPermissionsPolicyCommand=xre;var Ore=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},Are=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Tre(e,t);let r=(0,m.map)({$metadata:U(e),assetName:[,e.headers["x-assetname"]],packageVersion:[,e.headers["x-packageversion"]],packageVersionRevision:[,e.headers["x-packageversionrevision"]]}),n=e.body;return t.sdkStreamMixin(n),r.asset=n,r};v.de_GetPackageVersionAssetCommand=Are;var Tre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ConflictException":case"com.amazonaws.codeartifact#ConflictException":throw await Ue(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},Rre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ire(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{format:m.expectString,namespace:m.expectString,package:m.expectString,readme:m.expectString,version:m.expectString,versionRevision:m.expectString});return Object.assign(r,s),r};v.de_GetPackageVersionReadmeCommand=Rre;var Ire=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},Nre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return qre(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{repositoryEndpoint:m.expectString});return Object.assign(r,s),r};v.de_GetRepositoryEndpointCommand=Nre;var qre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},Dre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return kre(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{policy:m._json});return Object.assign(r,s),r};v.de_GetRepositoryPermissionsPolicyCommand=Dre;var kre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},Mre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Fre(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{domains:o=>_ne(o,t),nextToken:m.expectString});return Object.assign(r,s),r};v.de_ListDomainsCommand=Mre;var Fre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},jre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Lre(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{nextToken:m.expectString,packages:m._json});return Object.assign(r,s),r};v.de_ListPackagesCommand=jre;var Lre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},Ure=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return zre(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{assets:m._json,format:m.expectString,namespace:m.expectString,nextToken:m.expectString,package:m.expectString,version:m.expectString,versionRevision:m.expectString});return Object.assign(r,s),r};v.de_ListPackageVersionAssetsCommand=Ure;var zre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},$re=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Bre(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{dependencies:m._json,format:m.expectString,namespace:m.expectString,nextToken:m.expectString,package:m.expectString,version:m.expectString,versionRevision:m.expectString});return Object.assign(r,s),r};v.de_ListPackageVersionDependenciesCommand=$re;var Bre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},Vre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Hre(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{defaultDisplayVersion:m.expectString,format:m.expectString,namespace:m.expectString,nextToken:m.expectString,package:m.expectString,versions:m._json});return Object.assign(r,s),r};v.de_ListPackageVersionsCommand=Vre;var Hre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},Gre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Wre(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{nextToken:m.expectString,repositories:o=>mM(o,t)});return Object.assign(r,s),r};v.de_ListRepositoriesCommand=Gre;var Wre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},Kre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Yre(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{nextToken:m.expectString,repositories:o=>mM(o,t)});return Object.assign(r,s),r};v.de_ListRepositoriesInDomainCommand=Kre;var Yre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},Qre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Xre(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{tags:m._json});return Object.assign(r,s),r};v.de_ListTagsForResourceCommand=Qre;var Xre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},Jre=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Zre(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{asset:m._json,format:m.expectString,namespace:m.expectString,package:m.expectString,status:m.expectString,version:m.expectString,versionRevision:m.expectString});return Object.assign(r,s),r};v.de_PublishPackageVersionCommand=Jre;var Zre=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ConflictException":case"com.amazonaws.codeartifact#ConflictException":throw await Ue(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ServiceQuotaExceededException":case"com.amazonaws.codeartifact#ServiceQuotaExceededException":throw await Rr(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},ene=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return tne(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{policy:m._json});return Object.assign(r,s),r};v.de_PutDomainPermissionsPolicyCommand=ene;var tne=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ConflictException":case"com.amazonaws.codeartifact#ConflictException":throw await Ue(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ServiceQuotaExceededException":case"com.amazonaws.codeartifact#ServiceQuotaExceededException":throw await Rr(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},rne=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return nne(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{originConfiguration:m._json});return Object.assign(r,s),r};v.de_PutPackageOriginConfigurationCommand=rne;var nne=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},sne=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return one(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{policy:m._json});return Object.assign(r,s),r};v.de_PutRepositoryPermissionsPolicyCommand=sne;var one=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ConflictException":case"com.amazonaws.codeartifact#ConflictException":throw await Ue(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ServiceQuotaExceededException":case"com.amazonaws.codeartifact#ServiceQuotaExceededException":throw await Rr(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},ine=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ane(e,t);let r=(0,m.map)({$metadata:U(e)});return await(0,m.collectBody)(e.body,t),r};v.de_TagResourceCommand=ine;var ane=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ServiceQuotaExceededException":case"com.amazonaws.codeartifact#ServiceQuotaExceededException":throw await Rr(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},cne=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return dne(e,t);let r=(0,m.map)({$metadata:U(e)});return await(0,m.collectBody)(e.body,t),r};v.de_UntagResourceCommand=cne;var dne=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},une=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return lne(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{failedVersions:m._json,successfulVersions:m._json});return Object.assign(r,s),r};v.de_UpdatePackageVersionsStatusCommand=une;var lne=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ConflictException":case"com.amazonaws.codeartifact#ConflictException":throw await Ue(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},mne=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return pne(e,t);let r=(0,m.map)({$metadata:U(e)}),n=(0,m.expectNonNull)((0,m.expectObject)(await oe(e.body,t)),"body"),s=(0,m.take)(n,{repository:o=>ci(o,t)});return Object.assign(r,s),r};v.de_UpdateRepositoryCommand=mne;var pne=async(e,t)=>{let r={...e,body:await te(e.body,t)},n=re(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.codeartifact#AccessDeniedException":throw await J(r,t);case"ConflictException":case"com.amazonaws.codeartifact#ConflictException":throw await Ue(r,t);case"InternalServerException":case"com.amazonaws.codeartifact#InternalServerException":throw await ie(r,t);case"ResourceNotFoundException":case"com.amazonaws.codeartifact#ResourceNotFoundException":throw await ae(r,t);case"ServiceQuotaExceededException":case"com.amazonaws.codeartifact#ServiceQuotaExceededException":throw await Rr(r,t);case"ThrottlingException":case"com.amazonaws.codeartifact#ThrottlingException":throw await Z(r,t);case"ValidationException":case"com.amazonaws.codeartifact#ValidationException":throw await ee(r,t);default:let s=r.body;return X({output:e,parsedBody:s,errorCode:n})}},X=(0,m.withBaseException)(ate.CodeartifactServiceException),J=async(e,t)=>{let r=(0,m.map)({}),n=e.body,s=(0,m.take)(n,{message:m.expectString});Object.assign(r,s);let o=new Ns.AccessDeniedException({$metadata:U(e),...r});return(0,m.decorateServiceException)(o,e.body)},Ue=async(e,t)=>{let r=(0,m.map)({}),n=e.body,s=(0,m.take)(n,{message:m.expectString,resourceId:m.expectString,resourceType:m.expectString});Object.assign(r,s);let o=new Ns.ConflictException({$metadata:U(e),...r});return(0,m.decorateServiceException)(o,e.body)},ie=async(e,t)=>{let r=(0,m.map)({}),n=e.body,s=(0,m.take)(n,{message:m.expectString});Object.assign(r,s);let o=new Ns.InternalServerException({$metadata:U(e),...r});return(0,m.decorateServiceException)(o,e.body)},ae=async(e,t)=>{let r=(0,m.map)({}),n=e.body,s=(0,m.take)(n,{message:m.expectString,resourceId:m.expectString,resourceType:m.expectString});Object.assign(r,s);let o=new Ns.ResourceNotFoundException({$metadata:U(e),...r});return(0,m.decorateServiceException)(o,e.body)},Rr=async(e,t)=>{let r=(0,m.map)({}),n=e.body,s=(0,m.take)(n,{message:m.expectString,resourceId:m.expectString,resourceType:m.expectString});Object.assign(r,s);let o=new Ns.ServiceQuotaExceededException({$metadata:U(e),...r});return(0,m.decorateServiceException)(o,e.body)},Z=async(e,t)=>{let r=(0,m.map)({retryAfterSeconds:[()=>e.headers["retry-after"]!==void 0,()=>(0,m.strictParseInt32)(e.headers["retry-after"])]}),n=e.body,s=(0,m.take)(n,{message:m.expectString});Object.assign(r,s);let o=new Ns.ThrottlingException({$metadata:U(e),...r});return(0,m.decorateServiceException)(o,e.body)},ee=async(e,t)=>{let r=(0,m.map)({}),n=e.body,s=(0,m.take)(n,{message:m.expectString,reason:m.expectString});Object.assign(r,s);let o=new Ns.ValidationException({$metadata:U(e),...r});return(0,m.decorateServiceException)(o,e.body)},Vv=(e,t)=>(0,m.take)(e,{arn:m.expectString,assetSizeBytes:m.expectLong,createdTime:r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),encryptionKey:m.expectString,name:m.expectString,owner:m.expectString,repositoryCount:m.expectInt32,s3BucketArn:m.expectString,status:m.expectString}),fne=(e,t)=>(0,m.take)(e,{arn:m.expectString,createdTime:r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),encryptionKey:m.expectString,name:m.expectString,owner:m.expectString,status:m.expectString}),_ne=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>fne(n,t)),hne=(e,t)=>(0,m.take)(e,{displayName:m.expectString,format:m.expectString,homePage:m.expectString,licenses:m._json,namespace:m.expectString,origin:m._json,packageName:m.expectString,publishedTime:r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),revision:m.expectString,sourceCodeRepository:m.expectString,status:m.expectString,summary:m.expectString,version:m.expectString}),ci=(e,t)=>(0,m.take)(e,{administratorAccount:m.expectString,arn:m.expectString,createdTime:r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),description:m.expectString,domainName:m.expectString,domainOwner:m.expectString,externalConnections:m._json,name:m.expectString,upstreams:m._json}),yne=(e,t)=>(0,m.take)(e,{administratorAccount:m.expectString,arn:m.expectString,createdTime:r=>(0,m.expectNonNull)((0,m.parseEpochTimestamp)((0,m.expectNumber)(r))),description:m.expectString,domainName:m.expectString,domainOwner:m.expectString,name:m.expectString}),mM=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>yne(n,t)),U=e=>{var t,r;return{httpStatusCode:e.statusCode,requestId:(r=(t=e.headers["x-amzn-requestid"])!=null?t:e.headers["x-amzn-request-id"])!=null?r:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},gne=(e,t)=>(0,m.collectBody)(e,t).then(r=>t.utf8Encoder(r)),Ene=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),oe=(e,t)=>gne(e,t).then(r=>r.length?JSON.parse(r):{}),te=async(e,t)=>{var n;let r=await oe(e,t);return r.message=(n=r.message)!=null?n:r.Message,r},re=(e,t)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)}});var Hv=l(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.AssociateExternalConnectionCommand=di.$Command=void 0;var vne=N(),wne=k(),fM=C();Object.defineProperty(di,"$Command",{enumerable:!0,get:function(){return fM.Command}});var pM=K(),Nd=class extends fM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,wne.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,vne.getEndpointPlugin)(r,Nd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"AssociateExternalConnectionCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,pM.se_AssociateExternalConnectionCommand)(t,r)}deserialize(t,r){return(0,pM.de_AssociateExternalConnectionCommand)(t,r)}};di.AssociateExternalConnectionCommand=Nd});var Gv=l(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.CopyPackageVersionsCommand=ui.$Command=void 0;var Sne=N(),bne=k(),hM=C();Object.defineProperty(ui,"$Command",{enumerable:!0,get:function(){return hM.Command}});var _M=K(),qd=class extends hM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,bne.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Sne.getEndpointPlugin)(r,qd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"CopyPackageVersionsCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,_M.se_CopyPackageVersionsCommand)(t,r)}deserialize(t,r){return(0,_M.de_CopyPackageVersionsCommand)(t,r)}};ui.CopyPackageVersionsCommand=qd});var Wv=l(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.CreateDomainCommand=li.$Command=void 0;var Pne=N(),Cne=k(),gM=C();Object.defineProperty(li,"$Command",{enumerable:!0,get:function(){return gM.Command}});var yM=K(),Dd=class extends gM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Cne.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Pne.getEndpointPlugin)(r,Dd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"CreateDomainCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,yM.se_CreateDomainCommand)(t,r)}deserialize(t,r){return(0,yM.de_CreateDomainCommand)(t,r)}};li.CreateDomainCommand=Dd});var Kv=l(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.CreateRepositoryCommand=mi.$Command=void 0;var xne=N(),One=k(),vM=C();Object.defineProperty(mi,"$Command",{enumerable:!0,get:function(){return vM.Command}});var EM=K(),kd=class extends vM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,One.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,xne.getEndpointPlugin)(r,kd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"CreateRepositoryCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,EM.se_CreateRepositoryCommand)(t,r)}deserialize(t,r){return(0,EM.de_CreateRepositoryCommand)(t,r)}};mi.CreateRepositoryCommand=kd});var Yv=l(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.DeleteDomainCommand=pi.$Command=void 0;var Ane=N(),Tne=k(),SM=C();Object.defineProperty(pi,"$Command",{enumerable:!0,get:function(){return SM.Command}});var wM=K(),Md=class extends SM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Tne.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Ane.getEndpointPlugin)(r,Md.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"DeleteDomainCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,wM.se_DeleteDomainCommand)(t,r)}deserialize(t,r){return(0,wM.de_DeleteDomainCommand)(t,r)}};pi.DeleteDomainCommand=Md});var Qv=l(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.DeleteDomainPermissionsPolicyCommand=fi.$Command=void 0;var Rne=N(),Ine=k(),PM=C();Object.defineProperty(fi,"$Command",{enumerable:!0,get:function(){return PM.Command}});var bM=K(),Fd=class extends PM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Ine.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Rne.getEndpointPlugin)(r,Fd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"DeleteDomainPermissionsPolicyCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,bM.se_DeleteDomainPermissionsPolicyCommand)(t,r)}deserialize(t,r){return(0,bM.de_DeleteDomainPermissionsPolicyCommand)(t,r)}};fi.DeleteDomainPermissionsPolicyCommand=Fd});var Xv=l(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.DeletePackageCommand=_i.$Command=void 0;var Nne=N(),qne=k(),xM=C();Object.defineProperty(_i,"$Command",{enumerable:!0,get:function(){return xM.Command}});var CM=K(),jd=class extends xM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,qne.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Nne.getEndpointPlugin)(r,jd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"DeletePackageCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,CM.se_DeletePackageCommand)(t,r)}deserialize(t,r){return(0,CM.de_DeletePackageCommand)(t,r)}};_i.DeletePackageCommand=jd});var Jv=l(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.DeletePackageVersionsCommand=hi.$Command=void 0;var Dne=N(),kne=k(),AM=C();Object.defineProperty(hi,"$Command",{enumerable:!0,get:function(){return AM.Command}});var OM=K(),Ld=class extends AM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,kne.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Dne.getEndpointPlugin)(r,Ld.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"DeletePackageVersionsCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,OM.se_DeletePackageVersionsCommand)(t,r)}deserialize(t,r){return(0,OM.de_DeletePackageVersionsCommand)(t,r)}};hi.DeletePackageVersionsCommand=Ld});var Zv=l(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.DeleteRepositoryCommand=yi.$Command=void 0;var Mne=N(),Fne=k(),RM=C();Object.defineProperty(yi,"$Command",{enumerable:!0,get:function(){return RM.Command}});var TM=K(),Ud=class extends RM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Fne.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Mne.getEndpointPlugin)(r,Ud.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"DeleteRepositoryCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,TM.se_DeleteRepositoryCommand)(t,r)}deserialize(t,r){return(0,TM.de_DeleteRepositoryCommand)(t,r)}};yi.DeleteRepositoryCommand=Ud});var ew=l(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.DeleteRepositoryPermissionsPolicyCommand=gi.$Command=void 0;var jne=N(),Lne=k(),NM=C();Object.defineProperty(gi,"$Command",{enumerable:!0,get:function(){return NM.Command}});var IM=K(),zd=class extends NM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Lne.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,jne.getEndpointPlugin)(r,zd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"DeleteRepositoryPermissionsPolicyCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,IM.se_DeleteRepositoryPermissionsPolicyCommand)(t,r)}deserialize(t,r){return(0,IM.de_DeleteRepositoryPermissionsPolicyCommand)(t,r)}};gi.DeleteRepositoryPermissionsPolicyCommand=zd});var tw=l(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.DescribeDomainCommand=Ei.$Command=void 0;var Une=N(),zne=k(),DM=C();Object.defineProperty(Ei,"$Command",{enumerable:!0,get:function(){return DM.Command}});var qM=K(),$d=class extends DM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,zne.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Une.getEndpointPlugin)(r,$d.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"DescribeDomainCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,qM.se_DescribeDomainCommand)(t,r)}deserialize(t,r){return(0,qM.de_DescribeDomainCommand)(t,r)}};Ei.DescribeDomainCommand=$d});var rw=l(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.DescribePackageCommand=vi.$Command=void 0;var $ne=N(),Bne=k(),MM=C();Object.defineProperty(vi,"$Command",{enumerable:!0,get:function(){return MM.Command}});var kM=K(),Bd=class extends MM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Bne.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,$ne.getEndpointPlugin)(r,Bd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"DescribePackageCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,kM.se_DescribePackageCommand)(t,r)}deserialize(t,r){return(0,kM.de_DescribePackageCommand)(t,r)}};vi.DescribePackageCommand=Bd});var nw=l(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.DescribePackageVersionCommand=wi.$Command=void 0;var Vne=N(),Hne=k(),jM=C();Object.defineProperty(wi,"$Command",{enumerable:!0,get:function(){return jM.Command}});var FM=K(),Vd=class extends jM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Hne.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Vne.getEndpointPlugin)(r,Vd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"DescribePackageVersionCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,FM.se_DescribePackageVersionCommand)(t,r)}deserialize(t,r){return(0,FM.de_DescribePackageVersionCommand)(t,r)}};wi.DescribePackageVersionCommand=Vd});var sw=l(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.DescribeRepositoryCommand=Si.$Command=void 0;var Gne=N(),Wne=k(),UM=C();Object.defineProperty(Si,"$Command",{enumerable:!0,get:function(){return UM.Command}});var LM=K(),Hd=class extends UM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Wne.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Gne.getEndpointPlugin)(r,Hd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"DescribeRepositoryCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,LM.se_DescribeRepositoryCommand)(t,r)}deserialize(t,r){return(0,LM.de_DescribeRepositoryCommand)(t,r)}};Si.DescribeRepositoryCommand=Hd});var ow=l(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.DisassociateExternalConnectionCommand=bi.$Command=void 0;var Kne=N(),Yne=k(),$M=C();Object.defineProperty(bi,"$Command",{enumerable:!0,get:function(){return $M.Command}});var zM=K(),Gd=class extends $M.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Yne.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Kne.getEndpointPlugin)(r,Gd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"DisassociateExternalConnectionCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,zM.se_DisassociateExternalConnectionCommand)(t,r)}deserialize(t,r){return(0,zM.de_DisassociateExternalConnectionCommand)(t,r)}};bi.DisassociateExternalConnectionCommand=Gd});var iw=l(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.DisposePackageVersionsCommand=Pi.$Command=void 0;var Qne=N(),Xne=k(),VM=C();Object.defineProperty(Pi,"$Command",{enumerable:!0,get:function(){return VM.Command}});var BM=K(),Wd=class extends VM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Xne.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Qne.getEndpointPlugin)(r,Wd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"DisposePackageVersionsCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,BM.se_DisposePackageVersionsCommand)(t,r)}deserialize(t,r){return(0,BM.de_DisposePackageVersionsCommand)(t,r)}};Pi.DisposePackageVersionsCommand=Wd});var aw=l(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.GetAuthorizationTokenCommand=Ci.$Command=void 0;var Jne=N(),Zne=k(),GM=C();Object.defineProperty(Ci,"$Command",{enumerable:!0,get:function(){return GM.Command}});var HM=K(),Kd=class extends GM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Zne.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Jne.getEndpointPlugin)(r,Kd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"GetAuthorizationTokenCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,HM.se_GetAuthorizationTokenCommand)(t,r)}deserialize(t,r){return(0,HM.de_GetAuthorizationTokenCommand)(t,r)}};Ci.GetAuthorizationTokenCommand=Kd});var cw=l(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.GetDomainPermissionsPolicyCommand=xi.$Command=void 0;var ese=N(),tse=k(),KM=C();Object.defineProperty(xi,"$Command",{enumerable:!0,get:function(){return KM.Command}});var WM=K(),Yd=class extends KM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,tse.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,ese.getEndpointPlugin)(r,Yd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"GetDomainPermissionsPolicyCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,WM.se_GetDomainPermissionsPolicyCommand)(t,r)}deserialize(t,r){return(0,WM.de_GetDomainPermissionsPolicyCommand)(t,r)}};xi.GetDomainPermissionsPolicyCommand=Yd});var dw=l(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.GetPackageVersionAssetCommand=Oi.$Command=void 0;var rse=N(),nse=k(),QM=C();Object.defineProperty(Oi,"$Command",{enumerable:!0,get:function(){return QM.Command}});var sse=Id(),YM=K(),Qd=class extends QM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,nse.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,rse.getEndpointPlugin)(r,Qd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"GetPackageVersionAssetCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:sse.GetPackageVersionAssetResultFilterSensitiveLog},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,YM.se_GetPackageVersionAssetCommand)(t,r)}deserialize(t,r){return(0,YM.de_GetPackageVersionAssetCommand)(t,r)}};Oi.GetPackageVersionAssetCommand=Qd});var uw=l(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.GetPackageVersionReadmeCommand=Ai.$Command=void 0;var ose=N(),ise=k(),JM=C();Object.defineProperty(Ai,"$Command",{enumerable:!0,get:function(){return JM.Command}});var XM=K(),Xd=class extends JM.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,ise.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,ose.getEndpointPlugin)(r,Xd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"GetPackageVersionReadmeCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,XM.se_GetPackageVersionReadmeCommand)(t,r)}deserialize(t,r){return(0,XM.de_GetPackageVersionReadmeCommand)(t,r)}};Ai.GetPackageVersionReadmeCommand=Xd});var lw=l(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.GetRepositoryEndpointCommand=Ti.$Command=void 0;var ase=N(),cse=k(),eF=C();Object.defineProperty(Ti,"$Command",{enumerable:!0,get:function(){return eF.Command}});var ZM=K(),Jd=class extends eF.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,cse.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,ase.getEndpointPlugin)(r,Jd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"GetRepositoryEndpointCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,ZM.se_GetRepositoryEndpointCommand)(t,r)}deserialize(t,r){return(0,ZM.de_GetRepositoryEndpointCommand)(t,r)}};Ti.GetRepositoryEndpointCommand=Jd});var mw=l(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.GetRepositoryPermissionsPolicyCommand=Ri.$Command=void 0;var dse=N(),use=k(),rF=C();Object.defineProperty(Ri,"$Command",{enumerable:!0,get:function(){return rF.Command}});var tF=K(),Zd=class extends rF.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,use.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,dse.getEndpointPlugin)(r,Zd.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"GetRepositoryPermissionsPolicyCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,tF.se_GetRepositoryPermissionsPolicyCommand)(t,r)}deserialize(t,r){return(0,tF.de_GetRepositoryPermissionsPolicyCommand)(t,r)}};Ri.GetRepositoryPermissionsPolicyCommand=Zd});var Ch=l(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.ListDomainsCommand=Ii.$Command=void 0;var lse=N(),mse=k(),sF=C();Object.defineProperty(Ii,"$Command",{enumerable:!0,get:function(){return sF.Command}});var nF=K(),eu=class extends sF.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,mse.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,lse.getEndpointPlugin)(r,eu.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"ListDomainsCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,nF.se_ListDomainsCommand)(t,r)}deserialize(t,r){return(0,nF.de_ListDomainsCommand)(t,r)}};Ii.ListDomainsCommand=eu});var xh=l(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.ListPackagesCommand=Ni.$Command=void 0;var pse=N(),fse=k(),iF=C();Object.defineProperty(Ni,"$Command",{enumerable:!0,get:function(){return iF.Command}});var oF=K(),tu=class extends iF.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,fse.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,pse.getEndpointPlugin)(r,tu.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"ListPackagesCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,oF.se_ListPackagesCommand)(t,r)}deserialize(t,r){return(0,oF.de_ListPackagesCommand)(t,r)}};Ni.ListPackagesCommand=tu});var Oh=l(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.ListPackageVersionAssetsCommand=qi.$Command=void 0;var _se=N(),hse=k(),cF=C();Object.defineProperty(qi,"$Command",{enumerable:!0,get:function(){return cF.Command}});var aF=K(),ru=class extends cF.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,hse.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,_se.getEndpointPlugin)(r,ru.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"ListPackageVersionAssetsCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,aF.se_ListPackageVersionAssetsCommand)(t,r)}deserialize(t,r){return(0,aF.de_ListPackageVersionAssetsCommand)(t,r)}};qi.ListPackageVersionAssetsCommand=ru});var pw=l(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.ListPackageVersionDependenciesCommand=Di.$Command=void 0;var yse=N(),gse=k(),uF=C();Object.defineProperty(Di,"$Command",{enumerable:!0,get:function(){return uF.Command}});var dF=K(),nu=class extends uF.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,gse.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,yse.getEndpointPlugin)(r,nu.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"ListPackageVersionDependenciesCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,dF.se_ListPackageVersionDependenciesCommand)(t,r)}deserialize(t,r){return(0,dF.de_ListPackageVersionDependenciesCommand)(t,r)}};Di.ListPackageVersionDependenciesCommand=nu});var Ah=l(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.ListPackageVersionsCommand=ki.$Command=void 0;var Ese=N(),vse=k(),mF=C();Object.defineProperty(ki,"$Command",{enumerable:!0,get:function(){return mF.Command}});var lF=K(),su=class extends mF.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,vse.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Ese.getEndpointPlugin)(r,su.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"ListPackageVersionsCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,lF.se_ListPackageVersionsCommand)(t,r)}deserialize(t,r){return(0,lF.de_ListPackageVersionsCommand)(t,r)}};ki.ListPackageVersionsCommand=su});var Th=l(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.ListRepositoriesCommand=Mi.$Command=void 0;var wse=N(),Sse=k(),fF=C();Object.defineProperty(Mi,"$Command",{enumerable:!0,get:function(){return fF.Command}});var pF=K(),ou=class extends fF.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Sse.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,wse.getEndpointPlugin)(r,ou.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"ListRepositoriesCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,pF.se_ListRepositoriesCommand)(t,r)}deserialize(t,r){return(0,pF.de_ListRepositoriesCommand)(t,r)}};Mi.ListRepositoriesCommand=ou});var Rh=l(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.ListRepositoriesInDomainCommand=Fi.$Command=void 0;var bse=N(),Pse=k(),hF=C();Object.defineProperty(Fi,"$Command",{enumerable:!0,get:function(){return hF.Command}});var _F=K(),iu=class extends hF.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Pse.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,bse.getEndpointPlugin)(r,iu.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"ListRepositoriesInDomainCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,_F.se_ListRepositoriesInDomainCommand)(t,r)}deserialize(t,r){return(0,_F.de_ListRepositoriesInDomainCommand)(t,r)}};Fi.ListRepositoriesInDomainCommand=iu});var fw=l(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.ListTagsForResourceCommand=ji.$Command=void 0;var Cse=N(),xse=k(),gF=C();Object.defineProperty(ji,"$Command",{enumerable:!0,get:function(){return gF.Command}});var yF=K(),au=class extends gF.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,xse.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Cse.getEndpointPlugin)(r,au.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"ListTagsForResourceCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,yF.se_ListTagsForResourceCommand)(t,r)}deserialize(t,r){return(0,yF.de_ListTagsForResourceCommand)(t,r)}};ji.ListTagsForResourceCommand=au});var _w=l(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.PublishPackageVersionCommand=Li.$Command=void 0;var Ose=N(),Ase=k(),vF=C();Object.defineProperty(Li,"$Command",{enumerable:!0,get:function(){return vF.Command}});var Tse=Id(),EF=K(),cu=class extends vF.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Ase.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Ose.getEndpointPlugin)(r,cu.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"PublishPackageVersionCommand",inputFilterSensitiveLog:Tse.PublishPackageVersionRequestFilterSensitiveLog,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,EF.se_PublishPackageVersionCommand)(t,r)}deserialize(t,r){return(0,EF.de_PublishPackageVersionCommand)(t,r)}};Li.PublishPackageVersionCommand=cu});var hw=l(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.PutDomainPermissionsPolicyCommand=Ui.$Command=void 0;var Rse=N(),Ise=k(),SF=C();Object.defineProperty(Ui,"$Command",{enumerable:!0,get:function(){return SF.Command}});var wF=K(),du=class extends SF.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Ise.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Rse.getEndpointPlugin)(r,du.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"PutDomainPermissionsPolicyCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,wF.se_PutDomainPermissionsPolicyCommand)(t,r)}deserialize(t,r){return(0,wF.de_PutDomainPermissionsPolicyCommand)(t,r)}};Ui.PutDomainPermissionsPolicyCommand=du});var yw=l(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.PutPackageOriginConfigurationCommand=zi.$Command=void 0;var Nse=N(),qse=k(),PF=C();Object.defineProperty(zi,"$Command",{enumerable:!0,get:function(){return PF.Command}});var bF=K(),uu=class extends PF.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,qse.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Nse.getEndpointPlugin)(r,uu.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"PutPackageOriginConfigurationCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,bF.se_PutPackageOriginConfigurationCommand)(t,r)}deserialize(t,r){return(0,bF.de_PutPackageOriginConfigurationCommand)(t,r)}};zi.PutPackageOriginConfigurationCommand=uu});var gw=l($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.PutRepositoryPermissionsPolicyCommand=$i.$Command=void 0;var Dse=N(),kse=k(),xF=C();Object.defineProperty($i,"$Command",{enumerable:!0,get:function(){return xF.Command}});var CF=K(),lu=class extends xF.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,kse.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Dse.getEndpointPlugin)(r,lu.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"PutRepositoryPermissionsPolicyCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,CF.se_PutRepositoryPermissionsPolicyCommand)(t,r)}deserialize(t,r){return(0,CF.de_PutRepositoryPermissionsPolicyCommand)(t,r)}};$i.PutRepositoryPermissionsPolicyCommand=lu});var Ew=l(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.TagResourceCommand=Bi.$Command=void 0;var Mse=N(),Fse=k(),AF=C();Object.defineProperty(Bi,"$Command",{enumerable:!0,get:function(){return AF.Command}});var OF=K(),mu=class extends AF.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Fse.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Mse.getEndpointPlugin)(r,mu.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"TagResourceCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,OF.se_TagResourceCommand)(t,r)}deserialize(t,r){return(0,OF.de_TagResourceCommand)(t,r)}};Bi.TagResourceCommand=mu});var vw=l(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.UntagResourceCommand=Vi.$Command=void 0;var jse=N(),Lse=k(),RF=C();Object.defineProperty(Vi,"$Command",{enumerable:!0,get:function(){return RF.Command}});var TF=K(),pu=class extends RF.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Lse.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,jse.getEndpointPlugin)(r,pu.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"UntagResourceCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,TF.se_UntagResourceCommand)(t,r)}deserialize(t,r){return(0,TF.de_UntagResourceCommand)(t,r)}};Vi.UntagResourceCommand=pu});var ww=l(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.UpdatePackageVersionsStatusCommand=Hi.$Command=void 0;var Use=N(),zse=k(),NF=C();Object.defineProperty(Hi,"$Command",{enumerable:!0,get:function(){return NF.Command}});var IF=K(),fu=class extends NF.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,zse.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,Use.getEndpointPlugin)(r,fu.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"UpdatePackageVersionsStatusCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,IF.se_UpdatePackageVersionsStatusCommand)(t,r)}deserialize(t,r){return(0,IF.de_UpdatePackageVersionsStatusCommand)(t,r)}};Hi.UpdatePackageVersionsStatusCommand=fu});var Sw=l(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.UpdateRepositoryCommand=Gi.$Command=void 0;var $se=N(),Bse=k(),DF=C();Object.defineProperty(Gi,"$Command",{enumerable:!0,get:function(){return DF.Command}});var qF=K(),_u=class extends DF.Command{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use((0,Bse.getSerdePlugin)(r,this.serialize,this.deserialize)),this.middlewareStack.use((0,$se.getEndpointPlugin)(r,_u.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"CodeartifactClient",commandName:"UpdateRepositoryCommand",inputFilterSensitiveLog:d=>d,outputFilterSensitiveLog:d=>d},{requestHandler:u}=r;return s.resolve(d=>u.handle(d.request,n||{}),c)}serialize(t,r){return(0,qF.se_UpdateRepositoryCommand)(t,r)}deserialize(t,r){return(0,qF.de_UpdateRepositoryCommand)(t,r)}};Gi.UpdateRepositoryCommand=_u});var kF=l(Nh=>{"use strict";Object.defineProperty(Nh,"__esModule",{value:!0});Nh.Codeartifact=void 0;var Vse=C(),Hse=on(),Gse=Hv(),Wse=Gv(),Kse=Wv(),Yse=Kv(),Qse=Yv(),Xse=Qv(),Jse=Xv(),Zse=Jv(),eoe=Zv(),toe=ew(),roe=tw(),noe=rw(),soe=nw(),ooe=sw(),ioe=ow(),aoe=iw(),coe=aw(),doe=cw(),uoe=dw(),loe=uw(),moe=lw(),poe=mw(),foe=Ch(),_oe=xh(),hoe=Oh(),yoe=pw(),goe=Ah(),Eoe=Th(),voe=Rh(),woe=fw(),Soe=_w(),boe=hw(),Poe=yw(),Coe=gw(),xoe=Ew(),Ooe=vw(),Aoe=ww(),Toe=Sw(),Roe={AssociateExternalConnectionCommand:Gse.AssociateExternalConnectionCommand,CopyPackageVersionsCommand:Wse.CopyPackageVersionsCommand,CreateDomainCommand:Kse.CreateDomainCommand,CreateRepositoryCommand:Yse.CreateRepositoryCommand,DeleteDomainCommand:Qse.DeleteDomainCommand,DeleteDomainPermissionsPolicyCommand:Xse.DeleteDomainPermissionsPolicyCommand,DeletePackageCommand:Jse.DeletePackageCommand,DeletePackageVersionsCommand:Zse.DeletePackageVersionsCommand,DeleteRepositoryCommand:eoe.DeleteRepositoryCommand,DeleteRepositoryPermissionsPolicyCommand:toe.DeleteRepositoryPermissionsPolicyCommand,DescribeDomainCommand:roe.DescribeDomainCommand,DescribePackageCommand:noe.DescribePackageCommand,DescribePackageVersionCommand:soe.DescribePackageVersionCommand,DescribeRepositoryCommand:ooe.DescribeRepositoryCommand,DisassociateExternalConnectionCommand:ioe.DisassociateExternalConnectionCommand,DisposePackageVersionsCommand:aoe.DisposePackageVersionsCommand,GetAuthorizationTokenCommand:coe.GetAuthorizationTokenCommand,GetDomainPermissionsPolicyCommand:doe.GetDomainPermissionsPolicyCommand,GetPackageVersionAssetCommand:uoe.GetPackageVersionAssetCommand,GetPackageVersionReadmeCommand:loe.GetPackageVersionReadmeCommand,GetRepositoryEndpointCommand:moe.GetRepositoryEndpointCommand,GetRepositoryPermissionsPolicyCommand:poe.GetRepositoryPermissionsPolicyCommand,ListDomainsCommand:foe.ListDomainsCommand,ListPackagesCommand:_oe.ListPackagesCommand,ListPackageVersionAssetsCommand:hoe.ListPackageVersionAssetsCommand,ListPackageVersionDependenciesCommand:yoe.ListPackageVersionDependenciesCommand,ListPackageVersionsCommand:goe.ListPackageVersionsCommand,ListRepositoriesCommand:Eoe.ListRepositoriesCommand,ListRepositoriesInDomainCommand:voe.ListRepositoriesInDomainCommand,ListTagsForResourceCommand:woe.ListTagsForResourceCommand,PublishPackageVersionCommand:Soe.PublishPackageVersionCommand,PutDomainPermissionsPolicyCommand:boe.PutDomainPermissionsPolicyCommand,PutPackageOriginConfigurationCommand:Poe.PutPackageOriginConfigurationCommand,PutRepositoryPermissionsPolicyCommand:Coe.PutRepositoryPermissionsPolicyCommand,TagResourceCommand:xoe.TagResourceCommand,UntagResourceCommand:Ooe.UntagResourceCommand,UpdatePackageVersionsStatusCommand:Aoe.UpdatePackageVersionsStatusCommand,UpdateRepositoryCommand:Toe.UpdateRepositoryCommand},Ih=class extends Hse.CodeartifactClient{};Nh.Codeartifact=Ih;(0,Vse.createAggregatedClient)(Roe,Ih)});var MF=l(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});var ne=A();ne.__exportStar(Hv(),H);ne.__exportStar(Gv(),H);ne.__exportStar(Wv(),H);ne.__exportStar(Kv(),H);ne.__exportStar(Yv(),H);ne.__exportStar(Qv(),H);ne.__exportStar(Xv(),H);ne.__exportStar(Jv(),H);ne.__exportStar(Zv(),H);ne.__exportStar(ew(),H);ne.__exportStar(tw(),H);ne.__exportStar(rw(),H);ne.__exportStar(nw(),H);ne.__exportStar(sw(),H);ne.__exportStar(ow(),H);ne.__exportStar(iw(),H);ne.__exportStar(aw(),H);ne.__exportStar(cw(),H);ne.__exportStar(dw(),H);ne.__exportStar(uw(),H);ne.__exportStar(lw(),H);ne.__exportStar(mw(),H);ne.__exportStar(Ch(),H);ne.__exportStar(Oh(),H);ne.__exportStar(pw(),H);ne.__exportStar(Ah(),H);ne.__exportStar(xh(),H);ne.__exportStar(Th(),H);ne.__exportStar(Rh(),H);ne.__exportStar(fw(),H);ne.__exportStar(_w(),H);ne.__exportStar(hw(),H);ne.__exportStar(yw(),H);ne.__exportStar(gw(),H);ne.__exportStar(Ew(),H);ne.__exportStar(vw(),H);ne.__exportStar(ww(),H);ne.__exportStar(Sw(),H)});var jF=l(FF=>{"use strict";Object.defineProperty(FF,"__esModule",{value:!0})});var LF=l(qh=>{"use strict";Object.defineProperty(qh,"__esModule",{value:!0});qh.paginateListDomains=void 0;var Ioe=on(),Noe=Ch(),qoe=async(e,t,...r)=>await e.send(new Noe.ListDomainsCommand(t),...r);async function*Doe(e,t,...r){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(t.nextToken=n,t.maxResults=e.pageSize,e.client instanceof Ioe.CodeartifactClient)o=await qoe(e.client,t,...r);else throw new Error("Invalid client, expected Codeartifact | CodeartifactClient");yield o;let i=n;n=o.nextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}qh.paginateListDomains=Doe});var UF=l(Dh=>{"use strict";Object.defineProperty(Dh,"__esModule",{value:!0});Dh.paginateListPackageVersionAssets=void 0;var koe=on(),Moe=Oh(),Foe=async(e,t,...r)=>await e.send(new Moe.ListPackageVersionAssetsCommand(t),...r);async function*joe(e,t,...r){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(t.nextToken=n,t.maxResults=e.pageSize,e.client instanceof koe.CodeartifactClient)o=await Foe(e.client,t,...r);else throw new Error("Invalid client, expected Codeartifact | CodeartifactClient");yield o;let i=n;n=o.nextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}Dh.paginateListPackageVersionAssets=joe});var zF=l(kh=>{"use strict";Object.defineProperty(kh,"__esModule",{value:!0});kh.paginateListPackageVersions=void 0;var Loe=on(),Uoe=Ah(),zoe=async(e,t,...r)=>await e.send(new Uoe.ListPackageVersionsCommand(t),...r);async function*$oe(e,t,...r){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(t.nextToken=n,t.maxResults=e.pageSize,e.client instanceof Loe.CodeartifactClient)o=await zoe(e.client,t,...r);else throw new Error("Invalid client, expected Codeartifact | CodeartifactClient");yield o;let i=n;n=o.nextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}kh.paginateListPackageVersions=$oe});var $F=l(Mh=>{"use strict";Object.defineProperty(Mh,"__esModule",{value:!0});Mh.paginateListPackages=void 0;var Boe=on(),Voe=xh(),Hoe=async(e,t,...r)=>await e.send(new Voe.ListPackagesCommand(t),...r);async function*Goe(e,t,...r){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(t.nextToken=n,t.maxResults=e.pageSize,e.client instanceof Boe.CodeartifactClient)o=await Hoe(e.client,t,...r);else throw new Error("Invalid client, expected Codeartifact | CodeartifactClient");yield o;let i=n;n=o.nextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}Mh.paginateListPackages=Goe});var BF=l(Fh=>{"use strict";Object.defineProperty(Fh,"__esModule",{value:!0});Fh.paginateListRepositoriesInDomain=void 0;var Woe=on(),Koe=Rh(),Yoe=async(e,t,...r)=>await e.send(new Koe.ListRepositoriesInDomainCommand(t),...r);async function*Qoe(e,t,...r){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(t.nextToken=n,t.maxResults=e.pageSize,e.client instanceof Woe.CodeartifactClient)o=await Yoe(e.client,t,...r);else throw new Error("Invalid client, expected Codeartifact | CodeartifactClient");yield o;let i=n;n=o.nextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}Fh.paginateListRepositoriesInDomain=Qoe});var VF=l(jh=>{"use strict";Object.defineProperty(jh,"__esModule",{value:!0});jh.paginateListRepositories=void 0;var Xoe=on(),Joe=Th(),Zoe=async(e,t,...r)=>await e.send(new Joe.ListRepositoriesCommand(t),...r);async function*eie(e,t,...r){let n=e.startingToken||void 0,s=!0,o;for(;s;){if(t.nextToken=n,t.maxResults=e.pageSize,e.client instanceof Xoe.CodeartifactClient)o=await Zoe(e.client,t,...r);else throw new Error("Invalid client, expected Codeartifact | CodeartifactClient");yield o;let i=n;n=o.nextToken,s=!!(n&&(!e.stopOnSameToken||n!==i))}return void 0}jh.paginateListRepositories=eie});var HF=l(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});var qs=A();qs.__exportStar(jF(),an);qs.__exportStar(LF(),an);qs.__exportStar(UF(),an);qs.__exportStar(zF(),an);qs.__exportStar($F(),an);qs.__exportStar(BF(),an);qs.__exportStar(VF(),an)});var GF=l(bw=>{"use strict";Object.defineProperty(bw,"__esModule",{value:!0});var tie=A();tie.__exportStar(Id(),bw)});var WF=l(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.CodeartifactServiceException=void 0;var hu=A();hu.__exportStar(on(),cn);hu.__exportStar(kF(),cn);hu.__exportStar(MF(),cn);hu.__exportStar(HF(),cn);hu.__exportStar(GF(),cn);var rie=Ph();Object.defineProperty(cn,"CodeartifactServiceException",{enumerable:!0,get:function(){return rie.CodeartifactServiceException}})});var gu=l(Lh=>{"use strict";Object.defineProperty(Lh,"__esModule",{value:!0});Lh.ProviderError=void 0;var yu=class extends Error{constructor(t,r=!0){super(t),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,yu.prototype)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};Lh.ProviderError=yu});var KF=l(Uh=>{"use strict";Object.defineProperty(Uh,"__esModule",{value:!0});Uh.CredentialsProviderError=void 0;var nie=gu(),Eu=class extends nie.ProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,Eu.prototype)}};Uh.CredentialsProviderError=Eu});var YF=l(zh=>{"use strict";Object.defineProperty(zh,"__esModule",{value:!0});zh.TokenProviderError=void 0;var sie=gu(),vu=class extends sie.ProviderError{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,vu.prototype)}};zh.TokenProviderError=vu});var QF=l($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});$h.chain=void 0;var oie=gu(),iie=(...e)=>async()=>{if(e.length===0)throw new oie.ProviderError("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n!=null&&n.tryNextLink)continue;throw n}throw t};$h.chain=iie});var XF=l(Bh=>{"use strict";Object.defineProperty(Bh,"__esModule",{value:!0});Bh.fromStatic=void 0;var aie=e=>()=>Promise.resolve(e);Bh.fromStatic=aie});var JF=l(Vh=>{"use strict";Object.defineProperty(Vh,"__esModule",{value:!0});Vh.memoize=void 0;var cie=(e,t,r)=>{let n,s,o,i=!1,a=async()=>{s||(s=e());try{n=await s,o=!0,i=!1}finally{s=void 0}return n};return t===void 0?async c=>((!o||(c==null?void 0:c.forceRefresh))&&(n=await a()),n):async c=>((!o||(c==null?void 0:c.forceRefresh))&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};Vh.memoize=cie});var ZF=l(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});var Wi=A();Wi.__exportStar(KF(),Gn);Wi.__exportStar(gu(),Gn);Wi.__exportStar(YF(),Gn);Wi.__exportStar(QF(),Gn);Wi.__exportStar(XF(),Gn);Wi.__exportStar(JF(),Gn)});var _ie={};Cj(_ie,{default:()=>fie});var ej=q("@yarnpkg/core"),tj=q("@yarnpkg/fslib"),rj=q("@yarnpkg/shell");var TS=q("@yarnpkg/core"),ht=q("@yarnpkg/fslib"),RS=q("@yarnpkg/parsers"),fy=q("@yarnpkg/plugin-npm");var Nw=q("util"),xu=q("path");function Yn(e){if(e!==e.toLowerCase()&&e!==e.toUpperCase()||(e=e.toLowerCase()),e.indexOf("-")===-1&&e.indexOf("_")===-1)return e;{let r="",n=!1,s=e.match(/^-+/);for(let o=s?s[0].length:0;o<e.length;o++){let i=e.charAt(o);n&&(n=!1,i=i.toUpperCase()),o!==0&&(i==="-"||i==="_")?n=!0:i!=="-"&&i!=="_"&&(r+=i)}return r}}function bu(e,t){let r=e.toLowerCase();t=t||"-";let n="";for(let s=0;s<e.length;s++){let o=r.charAt(s),i=e.charAt(s);o!==i&&s>0?n+=`${t}${r.charAt(s)}`:n+=i}return n}function Pu(e){return e==null?!1:typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^0[^.]/.test(e)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function Aw(e){if(Array.isArray(e))return e.map(i=>typeof i!="string"?i+"":i);e=e.trim();let t=0,r=null,n=null,s=null,o=[];for(let i=0;i<e.length;i++){if(r=n,n=e.charAt(i),n===" "&&!s){r!==" "&&t++;continue}n===s?s=null:(n==="'"||n==='"')&&!s&&(s=n),o[t]||(o[t]=""),o[t]+=n}return o}var xt;(function(e){e.BOOLEAN="boolean",e.STRING="string",e.NUMBER="number",e.ARRAY="array"})(xt||(xt={}));var qr,Cu=class{constructor(t){qr=t}parse(t,r){let n=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},r),s=Aw(t),o=typeof t=="string",i=Oj(Object.assign(Object.create(null),n.alias)),a=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},n.configuration),c=Object.assign(Object.create(null),n.default),u=n.configObjects||[],d=n.envPrefix,p=a["populate--"],h=p?"--":"_",y=Object.create(null),w=Object.create(null),b=n.__||qr.format,_={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},L=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,V=new RegExp("^--"+a["negation-prefix"]+"(.+)");[].concat(n.array||[]).filter(Boolean).forEach(function(f){let E=typeof f=="object"?f.key:f,x=Object.keys(f).map(function(S){return{boolean:"bools",string:"strings",number:"numbers"}[S]}).filter(Boolean).pop();x&&(_[x][E]=!0),_.arrays[E]=!0,_.keys.push(E)}),[].concat(n.boolean||[]).filter(Boolean).forEach(function(f){_.bools[f]=!0,_.keys.push(f)}),[].concat(n.string||[]).filter(Boolean).forEach(function(f){_.strings[f]=!0,_.keys.push(f)}),[].concat(n.number||[]).filter(Boolean).forEach(function(f){_.numbers[f]=!0,_.keys.push(f)}),[].concat(n.count||[]).filter(Boolean).forEach(function(f){_.counts[f]=!0,_.keys.push(f)}),[].concat(n.normalize||[]).filter(Boolean).forEach(function(f){_.normalize[f]=!0,_.keys.push(f)}),typeof n.narg=="object"&&Object.entries(n.narg).forEach(([f,E])=>{typeof E=="number"&&(_.nargs[f]=E,_.keys.push(f))}),typeof n.coerce=="object"&&Object.entries(n.coerce).forEach(([f,E])=>{typeof E=="function"&&(_.coercions[f]=E,_.keys.push(f))}),typeof n.config<"u"&&(Array.isArray(n.config)||typeof n.config=="string"?[].concat(n.config).filter(Boolean).forEach(function(f){_.configs[f]=!0}):typeof n.config=="object"&&Object.entries(n.config).forEach(([f,E])=>{(typeof E=="boolean"||typeof E=="function")&&(_.configs[f]=E)})),pj(n.key,i,n.default,_.arrays),Object.keys(c).forEach(function(f){(_.aliases[f]||[]).forEach(function(E){c[E]=c[f]})});let pe=null;Ej();let tt=[],he=Object.assign(Object.create(null),{_:[]}),Qt={};for(let f=0;f<s.length;f++){let E=s[f],x=E.replace(/^-{3,}/,"---"),S,g,I,T,D,ze;if(E!=="--"&&/^-/.test(E)&&wu(E))Xt(E);else if(x.match(/^---+(=|$)/)){Xt(E);continue}else if(E.match(/^--.+=/)||!a["short-option-groups"]&&E.match(/^-.+=/))T=E.match(/^--?([^=]+)=([\s\S]*)$/),T!==null&&Array.isArray(T)&&T.length>=3&&(z(T[1],_.arrays)?f=dn(f,T[1],s,T[2]):z(T[1],_.nargs)!==!1?f=Wn(f,T[1],s,T[2]):se(T[1],T[2],!0));else if(E.match(V)&&a["boolean-negation"])T=E.match(V),T!==null&&Array.isArray(T)&&T.length>=2&&(g=T[1],se(g,z(g,_.arrays)?[!1]:!1));else if(E.match(/^--.+/)||!a["short-option-groups"]&&E.match(/^-[^-]+/))T=E.match(/^--?(.+)/),T!==null&&Array.isArray(T)&&T.length>=2&&(g=T[1],z(g,_.arrays)?f=dn(f,g,s):z(g,_.nargs)!==!1?f=Wn(f,g,s):(D=s[f+1],D!==void 0&&(!D.match(/^-/)||D.match(L))&&!z(g,_.bools)&&!z(g,_.counts)||/^(true|false)$/.test(D)?(se(g,D),f++):se(g,ks(g))));else if(E.match(/^-.\..+=/))T=E.match(/^-([^=]+)=([\s\S]*)$/),T!==null&&Array.isArray(T)&&T.length>=3&&se(T[1],T[2]);else if(E.match(/^-.\..+/)&&!E.match(L))D=s[f+1],T=E.match(/^-(.\..+)/),T!==null&&Array.isArray(T)&&T.length>=2&&(g=T[1],D!==void 0&&!D.match(/^-/)&&!z(g,_.bools)&&!z(g,_.counts)?(se(g,D),f++):se(g,ks(g)));else if(E.match(/^-[^-]+/)&&!E.match(L)){I=E.slice(1,-1).split(""),S=!1;for(let rt=0;rt<I.length;rt++){if(D=E.slice(rt+2),I[rt+1]&&I[rt+1]==="="){ze=E.slice(rt+3),g=I[rt],z(g,_.arrays)?f=dn(f,g,s,ze):z(g,_.nargs)!==!1?f=Wn(f,g,s,ze):se(g,ze),S=!0;break}if(D==="-"){se(I[rt],D);continue}if(/[A-Za-z]/.test(I[rt])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(D)&&z(D,_.bools)===!1){se(I[rt],D),S=!0;break}if(I[rt+1]&&I[rt+1].match(/\W/)){se(I[rt],D),S=!0;break}else se(I[rt],ks(I[rt]))}g=E.slice(-1)[0],!S&&g!=="-"&&(z(g,_.arrays)?f=dn(f,g,s):z(g,_.nargs)!==!1?f=Wn(f,g,s):(D=s[f+1],D!==void 0&&(!/^(-|--)[^-]/.test(D)||D.match(L))&&!z(g,_.bools)&&!z(g,_.counts)||/^(true|false)$/.test(D)?(se(g,D),f++):se(g,ks(g))))}else if(E.match(/^-[0-9]$/)&&E.match(L)&&z(E.slice(1),_.bools))g=E.slice(1),se(g,ks(g));else if(E==="--"){tt=s.slice(f+1);break}else if(a["halt-at-non-option"]){tt=s.slice(f);break}else Xt(E)}Pw(he,!0),Pw(he,!1),dj(he),uj(),Cw(he,_.aliases,c,!0),lj(he),a["set-placeholder-key"]&&mj(he),Object.keys(_.counts).forEach(function(f){Ki(he,f.split("."))||se(f,0)}),p&&tt.length&&(he[h]=[]),tt.forEach(function(f){he[h].push(f)}),a["camel-case-expansion"]&&a["strip-dashed"]&&Object.keys(he).filter(f=>f!=="--"&&f.includes("-")).forEach(f=>{delete he[f]}),a["strip-aliased"]&&[].concat(...Object.keys(i).map(f=>i[f])).forEach(f=>{a["camel-case-expansion"]&&f.includes("-")&&delete he[f.split(".").map(E=>Yn(E)).join(".")],delete he[f]});function Xt(f){let E=Ds("_",f);(typeof E=="string"||typeof E=="number")&&he._.push(E)}function Wn(f,E,x,S){let g,I=z(E,_.nargs);if(I=typeof I!="number"||isNaN(I)?1:I,I===0)return Nr(S)||(pe=Error(b("Argument unexpected for: %s",E))),se(E,ks(E)),f;let T=Nr(S)?0:1;if(a["nargs-eats-options"])x.length-(f+1)+T<I&&(pe=Error(b("Not enough arguments following: %s",E))),T=I;else{for(g=f+1;g<x.length&&(!x[g].match(/^-[^0-9]/)||x[g].match(L)||wu(x[g]));g++)T++;T<I&&(pe=Error(b("Not enough arguments following: %s",E)))}let D=Math.min(T,I);for(!Nr(S)&&D>0&&(se(E,S),D--),g=f+1;g<D+f+1;g++)se(E,x[g]);return f+D}function dn(f,E,x,S){let g=[],I=S||x[f+1],T=z(E,_.nargs);if(z(E,_.bools)&&!/^(true|false)$/.test(I))g.push(!0);else if(Nr(I)||Nr(S)&&/^-/.test(I)&&!L.test(I)&&!wu(I)){if(c[E]!==void 0){let D=c[E];g=Array.isArray(D)?D:[D]}}else{Nr(S)||g.push(Ir(E,S,!0));for(let D=f+1;D<x.length&&!(!a["greedy-arrays"]&&g.length>0||T&&typeof T=="number"&&g.length>=T||(I=x[D],/^-/.test(I)&&!L.test(I)&&!wu(I)));D++)f=D,g.push(Ir(E,I,o))}return typeof T=="number"&&(T&&g.length<T||isNaN(T)&&g.length===0)&&(pe=Error(b("Not enough arguments following: %s",E))),se(E,g),f}function se(f,E,x=o){if(/-/.test(f)&&a["camel-case-expansion"]){let I=f.split(".").map(function(T){return Yn(T)}).join(".");xe(f,I)}let S=Ir(f,E,x),g=f.split(".");Yi(he,g,S),_.aliases[f]&&_.aliases[f].forEach(function(I){let T=I.split(".");Yi(he,T,S)}),g.length>1&&a["dot-notation"]&&(_.aliases[g[0]]||[]).forEach(function(I){let T=I.split("."),D=[].concat(g);D.shift(),T=T.concat(D),(_.aliases[f]||[]).includes(T.join("."))||Yi(he,T,S)}),z(f,_.normalize)&&!z(f,_.arrays)&&[f].concat(_.aliases[f]||[]).forEach(function(T){Object.defineProperty(Qt,T,{enumerable:!0,get(){return E},set(D){E=typeof D=="string"?qr.normalize(D):D}})})}function xe(f,E){_.aliases[f]&&_.aliases[f].length||(_.aliases[f]=[E],y[E]=!0),_.aliases[E]&&_.aliases[E].length||xe(E,f)}function Ir(f,E,x){x&&(E=Aj(E)),(z(f,_.bools)||z(f,_.counts))&&typeof E=="string"&&(E=E==="true");let S=Array.isArray(E)?E.map(function(g){return Ds(f,g)}):Ds(f,E);return z(f,_.counts)&&(Nr(S)||typeof S=="boolean")&&(S=Gh()),z(f,_.normalize)&&z(f,_.arrays)&&(Array.isArray(E)?S=E.map(g=>qr.normalize(g)):S=qr.normalize(E)),S}function Ds(f,E){return!a["parse-positional-numbers"]&&f==="_"||!z(f,_.strings)&&!z(f,_.bools)&&!Array.isArray(E)&&(Pu(E)&&a["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${E}`)))||!Nr(E)&&z(f,_.numbers))&&(E=Number(E)),E}function dj(f){let E=Object.create(null);Cw(E,_.aliases,c),Object.keys(_.configs).forEach(function(x){let S=f[x]||E[x];if(S)try{let g=null,I=qr.resolve(qr.cwd(),S),T=_.configs[x];if(typeof T=="function"){try{g=T(I)}catch(D){g=D}if(g instanceof Error){pe=g;return}}else g=qr.require(I);Hh(g)}catch(g){g.name==="PermissionDenied"?pe=g:f[x]&&(pe=Error(b("Invalid JSON config file: %s",S)))}})}function Hh(f,E){Object.keys(f).forEach(function(x){let S=f[x],g=E?E+"."+x:x;typeof S=="object"&&S!==null&&!Array.isArray(S)&&a["dot-notation"]?Hh(S,g):(!Ki(he,g.split("."))||z(g,_.arrays)&&a["combine-arrays"])&&se(g,S)})}function uj(){typeof u<"u"&&u.forEach(function(f){Hh(f)})}function Pw(f,E){if(typeof d>"u")return;let x=typeof d=="string"?d:"",S=qr.env();Object.keys(S).forEach(function(g){if(x===""||g.lastIndexOf(x,0)===0){let I=g.split("__").map(function(T,D){return D===0&&(T=T.substring(x.length)),Yn(T)});(E&&_.configs[I.join(".")]||!E)&&!Ki(f,I)&&se(I.join("."),S[g])}})}function lj(f){let E,x=new Set;Object.keys(f).forEach(function(S){if(!x.has(S)&&(E=z(S,_.coercions),typeof E=="function"))try{let g=Ds(S,E(f[S]));[].concat(_.aliases[S]||[],S).forEach(I=>{x.add(I),f[I]=g})}catch(g){pe=g}})}function mj(f){return _.keys.forEach(E=>{~E.indexOf(".")||typeof f[E]>"u"&&(f[E]=void 0)}),f}function Cw(f,E,x,S=!1){Object.keys(x).forEach(function(g){Ki(f,g.split("."))||(Yi(f,g.split("."),x[g]),S&&(w[g]=!0),(E[g]||[]).forEach(function(I){Ki(f,I.split("."))||Yi(f,I.split("."),x[g])}))})}function Ki(f,E){let x=f;a["dot-notation"]||(E=[E.join(".")]),E.slice(0,-1).forEach(function(g){x=x[g]||{}});let S=E[E.length-1];return typeof x!="object"?!1:S in x}function Yi(f,E,x){let S=f;a["dot-notation"]||(E=[E.join(".")]),E.slice(0,-1).forEach(function(ze){ze=Tw(ze),typeof S=="object"&&S[ze]===void 0&&(S[ze]={}),typeof S[ze]!="object"||Array.isArray(S[ze])?(Array.isArray(S[ze])?S[ze].push({}):S[ze]=[S[ze],{}],S=S[ze][S[ze].length-1]):S=S[ze]});let g=Tw(E[E.length-1]),I=z(E.join("."),_.arrays),T=Array.isArray(x),D=a["duplicate-arguments-array"];!D&&z(g,_.nargs)&&(D=!0,(!Nr(S[g])&&_.nargs[g]===1||Array.isArray(S[g])&&S[g].length===_.nargs[g])&&(S[g]=void 0)),x===Gh()?S[g]=Gh(S[g]):Array.isArray(S[g])?D&&I&&T?S[g]=a["flatten-duplicate-arrays"]?S[g].concat(x):(Array.isArray(S[g][0])?S[g]:[S[g]]).concat([x]):!D&&Boolean(I)===Boolean(T)?S[g]=x:S[g]=S[g].concat([x]):S[g]===void 0&&I?S[g]=T?x:[x]:D&&!(S[g]===void 0||z(g,_.counts)||z(g,_.bools))?S[g]=[S[g],x]:S[g]=x}function pj(...f){f.forEach(function(E){Object.keys(E||{}).forEach(function(x){_.aliases[x]||(_.aliases[x]=[].concat(i[x]||[]),_.aliases[x].concat(x).forEach(function(S){if(/-/.test(S)&&a["camel-case-expansion"]){let g=Yn(S);g!==x&&_.aliases[x].indexOf(g)===-1&&(_.aliases[x].push(g),y[g]=!0)}}),_.aliases[x].concat(x).forEach(function(S){if(S.length>1&&/[A-Z]/.test(S)&&a["camel-case-expansion"]){let g=bu(S,"-");g!==x&&_.aliases[x].indexOf(g)===-1&&(_.aliases[x].push(g),y[g]=!0)}}),_.aliases[x].forEach(function(S){_.aliases[S]=[x].concat(_.aliases[x].filter(function(g){return S!==g}))}))})})}function z(f,E){let x=[].concat(_.aliases[f]||[],f),S=Object.keys(E),g=x.find(I=>S.includes(I));return g?E[g]:!1}function xw(f){let E=Object.keys(_);return[].concat(E.map(S=>_[S])).some(function(S){return Array.isArray(S)?S.includes(f):S[f]})}function fj(f,...E){return[].concat(...E).some(function(S){let g=f.match(S);return g&&xw(g[1])})}function _j(f){if(f.match(L)||!f.match(/^-[^-]+/))return!1;let E=!0,x,S=f.slice(1).split("");for(let g=0;g<S.length;g++){if(x=f.slice(g+2),!xw(S[g])){E=!1;break}if(S[g+1]&&S[g+1]==="="||x==="-"||/[A-Za-z]/.test(S[g])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(x)||S[g+1]&&S[g+1].match(/\W/))break}return E}function wu(f){return a["unknown-options-as-args"]&&hj(f)}function hj(f){return f=f.replace(/^-{3,}/,"--"),f.match(L)||_j(f)?!1:!fj(f,/^-+([^=]+?)=[\s\S]*$/,V,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function ks(f){return!z(f,_.bools)&&!z(f,_.counts)&&`${f}`in c?c[f]:yj(gj(f))}function yj(f){return{[xt.BOOLEAN]:!0,[xt.STRING]:"",[xt.NUMBER]:void 0,[xt.ARRAY]:[]}[f]}function gj(f){let E=xt.BOOLEAN;return z(f,_.strings)?E=xt.STRING:z(f,_.numbers)?E=xt.NUMBER:z(f,_.bools)?E=xt.BOOLEAN:z(f,_.arrays)&&(E=xt.ARRAY),E}function Nr(f){return f===void 0}function Ej(){Object.keys(_.counts).find(f=>z(f,_.arrays)?(pe=Error(b("Invalid configuration: %s, opts.count excludes opts.array.",f)),!0):z(f,_.nargs)?(pe=Error(b("Invalid configuration: %s, opts.count excludes opts.narg.",f)),!0):!1)}return{aliases:Object.assign({},_.aliases),argv:Object.assign(Qt,he),configuration:a,defaulted:Object.assign({},w),error:pe,newAliases:Object.assign({},y)}}};function Oj(e){let t=[],r=Object.create(null),n=!0;for(Object.keys(e).forEach(function(s){t.push([].concat(e[s],s))});n;){n=!1;for(let s=0;s<t.length;s++)for(let o=s+1;o<t.length;o++)if(t[s].filter(function(a){return t[o].indexOf(a)!==-1}).length){t[s]=t[s].concat(t[o]),t.splice(o,1),n=!0;break}}return t.forEach(function(s){s=s.filter(function(i,a,c){return c.indexOf(i)===a});let o=s.pop();o!==void 0&&typeof o=="string"&&(r[o]=s)}),r}function Gh(e){return e!==void 0?e+1:1}function Tw(e){return e==="__proto__"?"___proto___":e}function Aj(e){return typeof e=="string"&&(e[0]==="'"||e[0]==='"')&&e[e.length-1]===e[0]?e.substring(1,e.length-1):e}var qw=q("fs");var Wh,Kh,Yh,Rw=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12,Iw=(Kh=(Wh=process==null?void 0:process.versions)===null||Wh===void 0?void 0:Wh.node)!==null&&Kh!==void 0?Kh:(Yh=process==null?void 0:process.version)===null||Yh===void 0?void 0:Yh.slice(1);if(Iw&&Number(Iw.match(/^([^.]+)/)[1])<Rw)throw Error(`yargs parser supports a minimum Node.js version of ${Rw}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var Tj=process?process.env:{},Dw=new Cu({cwd:process.cwd,env:()=>Tj,format:Nw.format,normalize:xu.normalize,resolve:xu.resolve,require:e=>{if(typeof q<"u")return q(e);if(e.match(/\.json$/))return JSON.parse((0,qw.readFileSync)(e,"utf8"));throw Error("only .json config files are supported in ESM")}}),Qi=function(t,r){return Dw.parse(t.slice(),r).argv};Qi.detailed=function(e,t){return Dw.parse(e.slice(),t)};Qi.camelCase=Yn;Qi.decamelize=bu;Qi.looksLikeNumber=Pu;var kw=Qi;var Mw=q("@yarnpkg/plugin-npm");var{FETCH_REGISTRY:Ou,PUBLISH_REGISTRY:un}=Mw.npmConfigUtils.RegistryType,Rj=[{positionalArgs:["add"]},{positionalArgs:["dedupe"]},{positionalArgs:["dlx"]},{positionalArgs:["info"]},{positionalArgs:["install"]},{positionalArgs:["link"]},{positionalArgs:["npm","audit"],registryFn:()=>un},{positionalArgs:["npm","info"]},{positionalArgs:["npm","login"],registryFn:({publish:e})=>e?un:Ou},{positionalArgs:["npm","logout"],registryFn:({publish:e})=>e?un:Ou},{positionalArgs:["npm","publish"],registryFn:()=>un},{positionalArgs:["npm","whoami"],registryFn:({publish:e})=>e?un:Ou},{positionalArgs:["npm","tag","add"],registryFn:()=>un},{positionalArgs:["npm","tag","list"]},{positionalArgs:["npm","tag","remove"],registryFn:()=>un},{positionalArgs:["pack"],registryFn:({installIfNeeded:e})=>e?Ou:null},{positionalArgs:["rebuild"]},{positionalArgs:["remove"]},{positionalArgs:["search"]},{positionalArgs:["set","resolution"]},{positionalArgs:["unplug"]},{positionalArgs:["up"]},{positionalArgs:["upgrade-interactive"]},{positionalArgs:["workspace"],shiftPositionalArgs:2},{positionalArgs:["workspaces","focus"]},{positionalArgs:["workspaces","foreach"],shiftPositionalArgs:2},{positionalArgs:["lerna","add"]},{positionalArgs:["lerna","bootstrap"]},{positionalArgs:["lerna","publish"],registryFn:()=>un},{positionalArgs:["lerna","run"],shiftPositionalArgs:2}],Qh=e=>Rj.find(({positionalArgs:t})=>Fw(e,...t))||null;var IS=Kn(fS()),es=Kn(AS()),gz=".yarn-plugin-aws-codeartifact.yml",NS=ht.npath.basename(__dirname)==="@yarnpkg"?ht.ppath.join(ht.npath.toPortablePath(__dirname),"../.."):ht.ppath.join(ht.npath.toPortablePath(__dirname),".."),qS=(e=process.argv.slice(2))=>{let t=kw(e),{_:r}=t;r.length||r.push("install");let n=Qh(r),{shiftPositionalArgs:s}=n||{};if(s&&(r.splice(0,s),n=Qh(r)),n===null)return null;let{registryFn:o=()=>fy.npmConfigUtils.RegistryType.FETCH_REGISTRY}=n;return o(t)},Fw=(e,...t)=>{for(let r=0;r<t.length;r++)if(e[r]!==t[r])return!1;return!0},DS=e=>{let t=e.match(/^https?:\/\/(.+)-(\d+)\.d\.codeartifact\.(.+)\.amazonaws\.com\/npm\/(.+)\/?$/);if(!t)return null;let[,r,n,s]=t;return{domain:r,domainOwner:n,region:s}},kS=async e=>{let t=await Ez(e),r=await vz();r!==null&&t.push(r);let n=t.map(wz((s,{cwd:o})=>{s.preAuthCommand&&(s.preAuthCommand=JSON.stringify({command:s.preAuthCommand,cwd:o}))})).map(({data:s})=>s);return(0,IS.default)({},...n)},Ez=async e=>{let t=[],r=e,n=null;for(;r!==n;){n=r;let s=await MS(n);if(s!==null&&t.push(s),r=ht.ppath.dirname(n),process.env._YARN_PLUGIN_AWS_CODEARTIFACT_TESTING&&n===NS)break}return t},vz=async()=>{let e=process.env._YARN_PLUGIN_AWS_CODEARTIFACT_TESTING?ht.ppath.join(NS,"src/__tests__/integration/fixtures/home"):TS.folderUtils.getHomeFolder();return MS(e)},MS=async e=>{let t=ht.ppath.join(e,gz);if(ht.xfs.existsSync(t)){let r=await ht.xfs.readFilePromise(t,"utf8"),n=(0,RS.parseSyml)(r);return{path:t,cwd:e,data:n}}return null},py=e=>`${e}Config`,ju=(e,t)=>(0,es.default)(e,[py(t)])||(0,es.default)(e,[py(fy.npmConfigUtils.RegistryType.FETCH_REGISTRY)])||null,FS=(e,t)=>{let r=e.replace(/\/$/,"");return(0,es.default)(t,["npmRegistries",r])||(0,es.default)(t,["npmRegistries",r.replace(/^[a-z]+:/,"")])||null},jS=(e,t,r)=>{let n=(0,es.default)(t,["npmScopes",e])||null;return n===null?ju(t,r):(0,es.default)(n,[py(r)])||ju(t,r)},Lu=(e,t)=>{let r=new Map;return(...n)=>{let s=t(...n);if(r.has(s))return r.get(s);let o=e(...n);return r.set(s,o),o}},wz=e=>t=>{let r=t.data;return r.npmRegistryServerConfig&&e(r.npmRegistryServerConfig,t),r.npmPublishRegistryConfig&&e(r.npmPublishRegistryConfig,t),r.npmScopes&&Object.values(r.npmScopes).forEach(({npmRegistryServerConfig:n,npmPublishRegistryConfig:s})=>{n&&e(n,t),s&&e(s,t)}),r.npmRegistries&&Object.values(r.npmRegistries).forEach(n=>{n&&e(n,t)}),t};var nj=Kn(WF()),sj=Kn(zv()),oj=Kn(uh()),ij=Kn(of()),aj=Kn(ZF()),cj=async(e,t,{configuration:r,ident:n})=>{let s=await die(r);if(s===null)return;let{pluginConfig:o,registryType:i}=s,a=process.env.CODEARTIFACT_TOKEN;if(a)return`Bearer ${a}`;let c=await uie(t,(n==null?void 0:n.scope)||null,i,o,lie);if(c!==null)return`Bearer ${c}`},die=Lu(async e=>{let t=qS();if(t===null)return null;let r=mie(e);return{pluginConfig:await kS(r),registryType:t}},()=>"singleton"),uie=Lu(async(e,t,r,n,s)=>{let o=DS(e);if(o===null)return null;let i=t&&jS(t,n,r)||FS(e,n)||ju(n,r);return s(o,i)},(e,t,r)=>JSON.stringify({registry:e,scope:t,registryType:r})),lie=Lu(async(e,t)=>{let{domain:r,domainOwner:n,region:s}=e,{awsProfile:o,preferAwsEnvironmentCredentials:i,preAuthCommand:a}=t||{awsProfile:void 0,preferAwsEnvironmentCredentials:!1};if(a){let{command:u,cwd:d}=JSON.parse(a);if(await(0,rj.execute)(u,[],{cwd:d}))throw new Error("The `preAuthCommand` failed, see output above.")}let c;if(process.env._YARN_PLUGIN_AWS_CODEARTIFACT_TESTING)c=["~~",r,n,s,o,i,"~~"].join("~");else{let u=(0,sj.decorateDefaultCredentialProvider)(oj.defaultProvider)({...o!==void 0?{profile:o}:{}}),d=ej.miscUtils.parseOptionalBoolean(i)?(0,aj.chain)((0,ij.fromEnv)(),u):u,p=new nj.Codeartifact({region:s,credentials:d}),h={domain:r,domainOwner:n,durationSeconds:900};c=(await p.getAuthorizationToken(h)).authorizationToken}if(!c)throw new Error("AWS CodeArtifact Authorization token returned undefined");return process.env._YARN_PLUGIN_AWS_CODEARTIFACT_DEBUG&&console.log(`_YARN_PLUGIN_AWS_CODEARTIFACT_DEBUG: Retrieved token for authorization parameters ${JSON.stringify(e)} with config ${JSON.stringify(t)}: ${c}`),c},(e,t)=>JSON.stringify({authorizationTokenParams:e,pluginRegistryConfig:t})),mie=e=>{var r;return!!((r=e.projectCwd)!=null&&r.endsWith(`dlx-${process.pid}`))?tj.npath.toPortablePath(process.cwd()):e.startingCwd};var pie={hooks:{getNpmAuthenticationHeader:cj}},fie=pie;return xj(_ie);})();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/**
 * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
 * CJS and ESM environments.
 *
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */
/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */
return plugin;
}
};
